var Qu=Object.defineProperty;var Pl=e=>{throw TypeError(e)};var Zu=(e,i,s)=>i in e?Qu(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s;var Lr=(e,i,s)=>Zu(e,typeof i!="symbol"?i+"":i,s),go=(e,i,s)=>i.has(e)||Pl("Cannot "+s);var h=(e,i,s)=>(go(e,i,"read from private field"),s?s.call(e):i.get(e)),rn=(e,i,s)=>i.has(e)?Pl("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(e):i.set(e,s),on=(e,i,s,o)=>(go(e,i,"write to private field"),o?o.call(e,s):i.set(e,s),s),Wt=(e,i,s)=>(go(e,i,"access private method"),s);var ks=(e,i,s,o)=>({set _(c){on(e,i,c,s)},get _(){return h(e,i,o)}});(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(c){if(c.ep)return;c.ep=!0;const a=s(c);fetch(c.href,a)}})();function getAugmentedNamespace(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var s=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var c=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:function(){return e[o]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,i,s){this.props=e,this.context=i,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,i){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,i,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,i,s){this.props=e,this.context=i,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,i,s){var o,c={},a=null,d=null;if(i!=null)for(o in i.ref!==void 0&&(d=i.ref),i.key!==void 0&&(a=""+i.key),i)J.call(i,o)&&!L$1.hasOwnProperty(o)&&(c[o]=i[o]);var ut=arguments.length-2;if(ut===1)c.children=s;else if(1<ut){for(var tt=Array(ut),st=0;st<ut;st++)tt[st]=arguments[st+2];c.children=tt}if(e&&e.defaultProps)for(o in ut=e.defaultProps,ut)c[o]===void 0&&(c[o]=ut[o]);return{$$typeof:l$1,type:e,key:a,ref:d,props:c,_owner:K$1.current}}function N$1(e,i){return{$$typeof:l$1,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var i={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return i[s]})}var P$1=/\/+/g;function Q$1(e,i){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):i.toString(36)}function R$1(e,i,s,o,c){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(a){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,c=c(d),e=o===""?"."+Q$1(d,0):o,I$1(c)?(s="",e!=null&&(s=e.replace(P$1,"$&/")+"/"),R$1(c,i,s,"",function(st){return st})):c!=null&&(O$1(c)&&(c=N$1(c,s+(!c.key||d&&d.key===c.key?"":(""+c.key).replace(P$1,"$&/")+"/")+e)),i.push(c)),1;if(d=0,o=o===""?".":o+":",I$1(e))for(var ut=0;ut<e.length;ut++){a=e[ut];var tt=o+Q$1(a,ut);d+=R$1(a,i,s,tt,c)}else if(tt=A$1(e),typeof tt=="function")for(e=tt.call(e),ut=0;!(a=e.next()).done;)a=a.value,tt=o+Q$1(a,ut++),d+=R$1(a,i,s,tt,c);else if(a==="object")throw i=String(e),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,i,s){if(e==null)return e;var o=[],c=0;return R$1(e,o,"","",function(a){return i.call(s,a,c++)}),o}function T$1(e){if(e._status===-1){var i=e._result;i=i(),i.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=i)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,i,s){S$1(e,function(){i.apply(this,arguments)},s)},count:function(e){var i=0;return S$1(e,function(){i++}),i},toArray:function(e){return S$1(e,function(i){return i})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(e,i,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=C$1({},e.props),c=e.key,a=e.ref,d=e._owner;if(i!=null){if(i.ref!==void 0&&(a=i.ref,d=K$1.current),i.key!==void 0&&(c=""+i.key),e.type&&e.type.defaultProps)var ut=e.type.defaultProps;for(tt in i)J.call(i,tt)&&!L$1.hasOwnProperty(tt)&&(o[tt]=i[tt]===void 0&&ut!==void 0?ut[tt]:i[tt])}var tt=arguments.length-2;if(tt===1)o.children=s;else if(1<tt){ut=Array(tt);for(var st=0;st<tt;st++)ut[st]=arguments[st+2];o.children=ut}return{$$typeof:l$1,type:e.type,key:c,ref:a,props:o,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var i=M$1.bind(null,e);return i.type=e,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,i){return{$$typeof:x,type:e,compare:i===void 0?null:i}};react_production_min.startTransition=function(e){var i=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=i}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(e,i){return U$1.current.useCallback(e,i)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,i){return U$1.current.useEffect(e,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,i,s){return U$1.current.useImperativeHandle(e,i,s)};react_production_min.useInsertionEffect=function(e,i){return U$1.current.useInsertionEffect(e,i)};react_production_min.useLayoutEffect=function(e,i){return U$1.current.useLayoutEffect(e,i)};react_production_min.useMemo=function(e,i){return U$1.current.useMemo(e,i)};react_production_min.useReducer=function(e,i,s){return U$1.current.useReducer(e,i,s)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,i,s){return U$1.current.useSyncExternalStore(e,i,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,i,s){var o,c={},a=null,d=null;s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),i.ref!==void 0&&(d=i.ref);for(o in i)m$1.call(i,o)&&!p$1.hasOwnProperty(o)&&(c[o]=i[o]);if(e&&e.defaultProps)for(o in i=e.defaultProps,i)c[o]===void 0&&(c[o]=i[o]);return{$$typeof:k,type:e,key:a,ref:d,props:c,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function i(Ot,St){var Lt=Ot.length;Ot.push(St);e:for(;0<Lt;){var Vt=Lt-1>>>1,wt=Ot[Vt];if(0<c(wt,St))Ot[Vt]=St,Ot[Lt]=wt,Lt=Vt;else break e}}function s(Ot){return Ot.length===0?null:Ot[0]}function o(Ot){if(Ot.length===0)return null;var St=Ot[0],Lt=Ot.pop();if(Lt!==St){Ot[0]=Lt;e:for(var Vt=0,wt=Ot.length,et=wt>>>1;Vt<et;){var nt=2*(Vt+1)-1,vt=Ot[nt],xt=nt+1,Pt=Ot[xt];if(0>c(vt,Lt))xt<wt&&0>c(Pt,vt)?(Ot[Vt]=Pt,Ot[xt]=Lt,Vt=xt):(Ot[Vt]=vt,Ot[nt]=Lt,Vt=nt);else if(xt<wt&&0>c(Pt,Lt))Ot[Vt]=Pt,Ot[xt]=Lt,Vt=xt;else break e}}return St}function c(Ot,St){var Lt=Ot.sortIndex-St.sortIndex;return Lt!==0?Lt:Ot.id-St.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var d=Date,ut=d.now();e.unstable_now=function(){return d.now()-ut}}var tt=[],st=[],_e=1,yt=null,ft=3,dt=!1,lt=!1,mt=!1,gt=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function at(Ot){for(var St=s(st);St!==null;){if(St.callback===null)o(st);else if(St.startTime<=Ot)o(st),St.sortIndex=St.expirationTime,i(tt,St);else break;St=s(st)}}function ht(Ot){if(mt=!1,at(Ot),!lt)if(s(tt)!==null)lt=!0,Xt(j);else{var St=s(st);St!==null&&Nt(ht,St.startTime-Ot)}}function j(Ot,St){lt=!1,mt&&(mt=!1,g(rt),rt=-1),dt=!0;var Lt=ft;try{for(at(St),yt=s(tt);yt!==null&&(!(yt.expirationTime>St)||Ot&&!ot());){var Vt=yt.callback;if(typeof Vt=="function"){yt.callback=null,ft=yt.priorityLevel;var wt=Vt(yt.expirationTime<=St);St=e.unstable_now(),typeof wt=="function"?yt.callback=wt:yt===s(tt)&&o(tt),at(St)}else o(tt);yt=s(tt)}if(yt!==null)var et=!0;else{var nt=s(st);nt!==null&&Nt(ht,nt.startTime-St),et=!1}return et}finally{yt=null,ft=Lt,dt=!1}}var it=!1,$=null,rt=-1,ct=5,At=-1;function ot(){return!(e.unstable_now()-At<ct)}function Et(){if($!==null){var Ot=e.unstable_now();At=Ot;var St=!0;try{St=$(!0,Ot)}finally{St?Tt():(it=!1,$=null)}}else it=!1}var Tt;if(typeof _=="function")Tt=function(){_(Et)};else if(typeof MessageChannel<"u"){var sn=new MessageChannel,jt=sn.port2;sn.port1.onmessage=Et,Tt=function(){jt.postMessage(null)}}else Tt=function(){gt(Et,0)};function Xt(Ot){$=Ot,it||(it=!0,Tt())}function Nt(Ot,St){rt=gt(function(){Ot(e.unstable_now())},St)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Ot){Ot.callback=null},e.unstable_continueExecution=function(){lt||dt||(lt=!0,Xt(j))},e.unstable_forceFrameRate=function(Ot){0>Ot||125<Ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<Ot?Math.floor(1e3/Ot):5},e.unstable_getCurrentPriorityLevel=function(){return ft},e.unstable_getFirstCallbackNode=function(){return s(tt)},e.unstable_next=function(Ot){switch(ft){case 1:case 2:case 3:var St=3;break;default:St=ft}var Lt=ft;ft=St;try{return Ot()}finally{ft=Lt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Ot,St){switch(Ot){case 1:case 2:case 3:case 4:case 5:break;default:Ot=3}var Lt=ft;ft=Ot;try{return St()}finally{ft=Lt}},e.unstable_scheduleCallback=function(Ot,St,Lt){var Vt=e.unstable_now();switch(typeof Lt=="object"&&Lt!==null?(Lt=Lt.delay,Lt=typeof Lt=="number"&&0<Lt?Vt+Lt:Vt):Lt=Vt,Ot){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=Lt+wt,Ot={id:_e++,callback:St,priorityLevel:Ot,startTime:Lt,expirationTime:wt,sortIndex:-1},Lt>Vt?(Ot.sortIndex=Lt,i(st,Ot),s(tt)===null&&Ot===s(st)&&(mt?(g(rt),rt=-1):mt=!0,Nt(ht,Lt-Vt))):(Ot.sortIndex=wt,i(tt,Ot),lt||dt||(lt=!0,Xt(j))),Ot},e.unstable_shouldYield=ot,e.unstable_wrapCallback=function(Ot){var St=ft;return function(){var Lt=ft;ft=St;try{return Ot.apply(this,arguments)}finally{ft=Lt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,i){ha(e,i),ha(e+"Capture",i)}function ha(e,i){for(ea[e]=i,e=0;e<i.length;e++)da.add(i[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,i,s,o){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,i,s,o){if(i===null||typeof i>"u"||pa(e,i,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v(e,i,s,o,c,a,d){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=i,this.sanitizeURL=a,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new v(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,i,s,o){var c=z.hasOwnProperty(i)?z[i]:null;(c!==null?c.type!==0:o||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,s,c,o)&&(s=null),o||c===null?oa(i)&&(s===null?e.removeAttribute(i):e.setAttribute(i,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(i=c.attributeName,o=c.attributeNamespace,s===null?e.removeAttribute(i):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,o?e.setAttributeNS(o,i,s):e.setAttribute(i,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+e}var Na=!1;function Oa(e,i){if(!e||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(st){var o=st}Reflect.construct(e,[],i)}else{try{i.call()}catch(st){o=st}e.call(i.prototype)}else{try{throw Error()}catch(st){o=st}e()}}catch(st){if(st&&o&&typeof st.stack=="string"){for(var c=st.stack.split(`
`),a=o.stack.split(`
`),d=c.length-1,ut=a.length-1;1<=d&&0<=ut&&c[d]!==a[ut];)ut--;for(;1<=d&&0<=ut;d--,ut--)if(c[d]!==a[ut]){if(d!==1||ut!==1)do if(d--,ut--,0>ut||c[d]!==a[ut]){var tt=`
`+c[d].replace(" at new "," at ");return e.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",e.displayName)),tt}while(1<=d&&0<=ut);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return i=e.displayName||null,i!==null?i:Qa(e.type)||"Memo";case Ha:i=e._payload,e=e._init;try{return Qa(e(i))}catch{}}return null}function Ra(e){var i=e.type;switch(e.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=i.render,e=e.displayName||e.name||"",i.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(e){var i=Ta(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,a=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return c.call(this)},set:function(d){o=""+d,a.call(this,d)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return e&&(o=Ta(e)?e.checked?"true":"false":e.value),e=o,e!==s?(i.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,i){var s=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Za(e,i){var s=i.defaultValue==null?"":i.defaultValue,o=i.checked!=null?i.checked:i.defaultChecked;s=Sa(i.value!=null?i.value:s),e._wrapperState={initialChecked:o,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(e,i){i=i.checked,i!=null&&ta(e,"checked",i,!1)}function bb(e,i){ab(e,i);var s=Sa(i.value),o=i.type;if(s!=null)o==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?cb(e,i.type,s):i.hasOwnProperty("defaultValue")&&cb(e,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function db(e,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var o=i.type;if(!(o!=="submit"&&o!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,s||i===e.value||(e.value=i),e.defaultValue=i}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function cb(e,i,s){(i!=="number"||Xa(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var eb=Array.isArray;function fb(e,i,s,o){if(e=e.options,i){i={};for(var c=0;c<s.length;c++)i["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=i.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Sa(s),i=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}i!==null||e[c].disabled||(i=e[c])}i!==null&&(i.selected=!0)}}function gb(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}i=s}i==null&&(i=""),s=i}e._wrapperState={initialValue:Sa(s)}}function ib(e,i){var s=Sa(i.value),o=Sa(i.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),i.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),o!=null&&(e.defaultValue=""+o)}function jb(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,o,c){MSApp.execUnsafeLocalFunction(function(){return e(i,s,o,c)})}:e}(function(e,i){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function ob(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),pb[i]=pb[e]})});function rb(e,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||pb.hasOwnProperty(e)&&pb[e]?(""+i).trim():i+"px"}function sb(e,i){e=e.style;for(var s in i)if(i.hasOwnProperty(s)){var o=s.indexOf("--")===0,c=rb(s,i[s],o);s==="float"&&(s="cssFloat"),o?e.setProperty(s,c):e[s]=c}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,i){if(i){if(tb[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p(62))}}function vb(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var i=e.stateNode;i&&(i=Db(i),yb(e.stateNode,e.type,i))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,i=Ab;if(Ab=zb=null,Bb(e),i)for(e=0;e<i.length;e++)Bb(i[e])}}function Gb(e,i){return e(i)}function Hb(){}var Ib=!1;function Jb(e,i,s){if(Ib)return e(i,s);Ib=!0;try{return Gb(e,i,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,i){var s=e.stateNode;if(s===null)return null;var o=Db(s);if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(p(231,i,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,i,s,o,c,a,d,ut,tt){var st=Array.prototype.slice.call(arguments,3);try{i.apply(s,st)}catch(_e){this.onError(_e)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,i,s,o,c,a,d,ut,tt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,i,s,o,c,a,d,ut,tt){if(Tb.apply(this,arguments),Ob){if(Ob){var st=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=st)}}function Vb(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function Wb(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var i=e.alternate;if(!i){if(i=Vb(e),i===null)throw Error(p(188));return i!==e?null:e}for(var s=e,o=i;;){var c=s.return;if(c===null)break;var a=c.alternate;if(a===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===a.child){for(a=c.child;a;){if(a===s)return Xb(c),e;if(a===o)return Xb(c),i;a=a.sibling}throw Error(p(188))}if(s.return!==o.return)s=c,o=a;else{for(var d=!1,ut=c.child;ut;){if(ut===s){d=!0,s=c,o=a;break}if(ut===o){d=!0,o=c,s=a;break}ut=ut.sibling}if(!d){for(ut=a.child;ut;){if(ut===s){d=!0,s=a,o=c;break}if(ut===o){d=!0,o=a,s=c;break}ut=ut.sibling}if(!d)throw Error(p(189))}}if(s.alternate!==o)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?e:i}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=$b(e);if(i!==null)return i;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,i){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,a=e.pingedLanes,d=s&268435455;if(d!==0){var ut=d&~c;ut!==0?o=tc(ut):(a&=d,a!==0&&(o=tc(a)))}else d=s&~c,d!==0?o=tc(d):a!==0&&(o=tc(a));if(o===0)return 0;if(i!==0&&i!==o&&!(i&c)&&(c=o&-o,a=i&-i,c>=a||c===16&&(a&4194240)!==0))return i;if(o&4&&(o|=s&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=o;0<i;)s=31-oc(i),c=1<<s,o|=e[s],i&=~c;return o}function vc(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,i){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,a=e.pendingLanes;0<a;){var d=31-oc(a),ut=1<<d,tt=c[d];tt===-1?(!(ut&s)||ut&o)&&(c[d]=vc(ut,i)):tt<=i&&(e.expiredLanes|=ut),a&=~ut}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Ac(e,i,s){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-oc(i),e[i]=s}function Bc(e,i){var s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-oc(s),a=1<<c;i[c]=0,o[c]=-1,e[c]=-1,s&=~a}}function Cc(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var o=31-oc(s),c=1<<o;c&i|e[o]&i&&(e[o]|=i),s&=~c}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,i){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(e,i,s,o,c,a){return e===null||e.nativeEvent!==a?(e={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:a,targetContainers:[c]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),e)}function Uc(e,i,s,o,c){switch(i){case"focusin":return Lc=Tc(Lc,e,i,s,o,c),!0;case"dragenter":return Mc=Tc(Mc,e,i,s,o,c),!0;case"mouseover":return Nc=Tc(Nc,e,i,s,o,c),!0;case"pointerover":var a=c.pointerId;return Oc.set(a,Tc(Oc.get(a)||null,e,i,s,o,c)),!0;case"gotpointercapture":return a=c.pointerId,Pc.set(a,Tc(Pc.get(a)||null,e,i,s,o,c)),!0}return!1}function Vc(e){var i=Wc(e.target);if(i!==null){var s=Vb(i);if(s!==null){if(i=s.tag,i===13){if(i=Wb(s),i!==null){e.blockedOn=i,Ic(e.priority,function(){Gc(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Yc(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);wb=o,s.target.dispatchEvent(o),wb=null}else return i=Cb(s),i!==null&&Fc(i),e.blockedOn=s,!1;i.shift()}return!0}function Zc(e,i,s){Xc(e)&&s.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,i){e.blockedOn===i&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function i(c){return ad(c,e)}if(0<Kc.length){ad(Kc[0],e);for(var s=1;s<Kc.length;s++){var o=Kc[s];o.blockedOn===e&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(i),Pc.forEach(i),s=0;s<Qc.length;s++)o=Qc[s],o.blockedOn===e&&(o.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,i,s,o){var c=C,a=cd.transition;cd.transition=null;try{C=1,fd(e,i,s,o)}finally{C=c,cd.transition=a}}function gd(e,i,s,o){var c=C,a=cd.transition;cd.transition=null;try{C=4,fd(e,i,s,o)}finally{C=c,cd.transition=a}}function fd(e,i,s,o){if(dd){var c=Yc(e,i,s,o);if(c===null)hd(e,i,o,id,s),Sc(e,o);else if(Uc(c,e,i,s,o))o.stopPropagation();else if(Sc(e,o),i&4&&-1<Rc.indexOf(e)){for(;c!==null;){var a=Cb(c);if(a!==null&&Ec(a),a=Yc(e,i,s,o),a===null&&hd(e,i,o,id,s),a===c)break;c=a}c!==null&&o.stopPropagation()}else hd(e,i,o,null,s)}}var id=null;function Yc(e,i,s,o){if(id=null,e=xb(o),e=Wc(e),e!==null)if(i=Vb(e),i===null)e=null;else if(s=i.tag,s===13){if(e=Wb(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,i=ld,s=i.length,o,c="value"in kd?kd.value:kd.textContent,a=c.length;for(e=0;e<s&&i[e]===c[e];e++);var d=s-e;for(o=1;o<=d&&i[s-o]===c[a-o];o++);return md=c.slice(e,1<o?1-o:void 0)}function od(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function i(s,o,c,a,d){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=a,this.target=d,this.currentTarget=null;for(var ut in e)e.hasOwnProperty(ut)&&(s=e[ut],this[ut]=s?s(a):a[ut]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Od[e])?!!i[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var i=Md[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(e,i){switch(e){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,i){switch(e){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return e=i.data,e===ee&&fe?null:e;default:return null}}function ke(e,i){if(ie)return e==="compositionend"||!ae&&ge(e,i)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!le[e.type]:i==="textarea"}function ne(e,i,s,o){Eb(o),i=oe(i,"onChange"),0<i.length&&(s=new td("onChange","change",null,s,o),e.push({event:s,listeners:i}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var i=ue(e);if(Wa(i))return e}function ve(e,i){if(e==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,e,xb(e)),Jb(re,i)}}function Ce(e,i,s){e==="focusin"?(Ae(),pe=i,qe=s,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,i){if(e==="click")return te(i)}function Fe(e,i){if(e==="input"||e==="change")return te(i)}function Ge(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,i){if(He(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!ja.call(i,c)||!He(e[c],i[c]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,i){var s=Je(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=i&&o>=i)return{node:s,offset:i-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Le(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var e=window,i=Xa();i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Xa(e.document)}return i}function Ne(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function Oe(e){var i=Me(),s=e.focusedElem,o=e.selectionRange;if(i!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(o!==null&&Ne(s)){if(i=o.start,e=o.end,e===void 0&&(e=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(e,s.value.length);else if(e=(i=s.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,a=Math.min(o.start,c);o=o.end===void 0?a:Math.min(o.end,c),!e.extend&&a>o&&(c=o,o=a,a=c),c=Ke(s,a);var d=Ke(s,o);c&&d&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(i=i.createRange(),i.setStart(c.node,c.offset),e.removeAllRanges(),a>o?(e.addRange(i),e.extend(d.node,d.offset)):(i.setEnd(d.node,d.offset),e.addRange(i)))}}for(i=[],e=s;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)e=i[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(i=new td("onSelect","select",null,i,s),e.push({event:i,listeners:o}),i.target=Qe)))}function Ve(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var i=We[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ye)return Xe[e]=i[s];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,i){df.set(e,i),fa(i,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,i,s){var o=e.type||"unknown-event";e.currentTarget=s,Ub(o,i,void 0,e),e.currentTarget=null}function se(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;e:{var a=void 0;if(i)for(var d=o.length-1;0<=d;d--){var ut=o[d],tt=ut.instance,st=ut.currentTarget;if(ut=ut.listener,tt!==a&&c.isPropagationStopped())break e;nf(c,ut,st),a=tt}else for(d=0;d<o.length;d++){if(ut=o[d],tt=ut.instance,st=ut.currentTarget,ut=ut.listener,tt!==a&&c.isPropagationStopped())break e;nf(c,ut,st),a=tt}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,i){var s=i[of];s===void 0&&(s=i[of]=new Set);var o=e+"__bubble";s.has(o)||(pf(i,e,2,!1),s.add(o))}function qf(e,i,s){var o=0;i&&(o|=4),pf(s,e,o,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,e),qf(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(e,i,s,o){switch(jd(i)){case 1:var c=ed;break;case 4:c=gd;break;default:c=fd}s=c.bind(null,i,s,e),c=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(i,s,{capture:!0,passive:c}):e.addEventListener(i,s,!0):c!==void 0?e.addEventListener(i,s,{passive:c}):e.addEventListener(i,s,!1)}function hd(e,i,s,o,c){var a=o;if(!(i&1)&&!(i&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var ut=o.stateNode.containerInfo;if(ut===c||ut.nodeType===8&&ut.parentNode===c)break;if(d===4)for(d=o.return;d!==null;){var tt=d.tag;if((tt===3||tt===4)&&(tt=d.stateNode.containerInfo,tt===c||tt.nodeType===8&&tt.parentNode===c))return;d=d.return}for(;ut!==null;){if(d=Wc(ut),d===null)return;if(tt=d.tag,tt===5||tt===6){o=a=d;continue e}ut=ut.parentNode}}o=o.return}Jb(function(){var st=a,_e=xb(s),yt=[];e:{var ft=df.get(e);if(ft!==void 0){var dt=td,lt=e;switch(e){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":dt=Rd;break;case"focusin":lt="focus",dt=Fd;break;case"focusout":lt="blur",dt=Fd;break;case"beforeblur":case"afterblur":dt=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Vd;break;case $e:case af:case bf:dt=Hd;break;case cf:dt=Xd;break;case"scroll":dt=vd;break;case"wheel":dt=Zd;break;case"copy":case"cut":case"paste":dt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Td}var mt=(i&4)!==0,gt=!mt&&e==="scroll",g=mt?ft!==null?ft+"Capture":null:ft;mt=[];for(var _=st,at;_!==null;){at=_;var ht=at.stateNode;if(at.tag===5&&ht!==null&&(at=ht,g!==null&&(ht=Kb(_,g),ht!=null&&mt.push(tf(_,ht,at)))),gt)break;_=_.return}0<mt.length&&(ft=new dt(ft,lt,null,s,_e),yt.push({event:ft,listeners:mt}))}}if(!(i&7)){e:{if(ft=e==="mouseover"||e==="pointerover",dt=e==="mouseout"||e==="pointerout",ft&&s!==wb&&(lt=s.relatedTarget||s.fromElement)&&(Wc(lt)||lt[uf]))break e;if((dt||ft)&&(ft=_e.window===_e?_e:(ft=_e.ownerDocument)?ft.defaultView||ft.parentWindow:window,dt?(lt=s.relatedTarget||s.toElement,dt=st,lt=lt?Wc(lt):null,lt!==null&&(gt=Vb(lt),lt!==gt||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(dt=null,lt=st),dt!==lt)){if(mt=Bd,ht="onMouseLeave",g="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Td,ht="onPointerLeave",g="onPointerEnter",_="pointer"),gt=dt==null?ft:ue(dt),at=lt==null?ft:ue(lt),ft=new mt(ht,_+"leave",dt,s,_e),ft.target=gt,ft.relatedTarget=at,ht=null,Wc(_e)===st&&(mt=new mt(g,_+"enter",lt,s,_e),mt.target=at,mt.relatedTarget=gt,ht=mt),gt=ht,dt&&lt)t:{for(mt=dt,g=lt,_=0,at=mt;at;at=vf(at))_++;for(at=0,ht=g;ht;ht=vf(ht))at++;for(;0<_-at;)mt=vf(mt),_--;for(;0<at-_;)g=vf(g),at--;for(;_--;){if(mt===g||g!==null&&mt===g.alternate)break t;mt=vf(mt),g=vf(g)}mt=null}else mt=null;dt!==null&&wf(yt,ft,dt,mt,!1),lt!==null&&gt!==null&&wf(yt,gt,lt,mt,!0)}}e:{if(ft=st?ue(st):window,dt=ft.nodeName&&ft.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ft.type==="file")var j=ve;else if(me(ft))if(we)j=Fe;else{j=De;var it=Ce}else(dt=ft.nodeName)&&dt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(j=Ee);if(j&&(j=j(e,st))){ne(yt,j,s,_e);break e}it&&it(e,ft,st),e==="focusout"&&(it=ft._wrapperState)&&it.controlled&&ft.type==="number"&&cb(ft,"number",ft.value)}switch(it=st?ue(st):window,e){case"focusin":(me(it)||it.contentEditable==="true")&&(Qe=it,Re=st,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(yt,s,_e);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(yt,s,_e)}var $;if(ae)e:{switch(e){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else ie?ge(e,s)&&(rt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(rt="onCompositionStart");rt&&(de&&s.locale!=="ko"&&(ie||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&ie&&($=nd()):(kd=_e,ld="value"in kd?kd.value:kd.textContent,ie=!0)),it=oe(st,rt),0<it.length&&(rt=new Ld(rt,e,null,s,_e),yt.push({event:rt,listeners:it}),$?rt.data=$:($=he(s),$!==null&&(rt.data=$)))),($=ce?je(e,s):ke(e,s))&&(st=oe(st,"onBeforeInput"),0<st.length&&(_e=new Ld("onBeforeInput","beforeinput",null,s,_e),yt.push({event:_e,listeners:st}),_e.data=$))}se(yt,i)})}function tf(e,i,s){return{instance:e,listener:i,currentTarget:s}}function oe(e,i){for(var s=i+"Capture",o=[];e!==null;){var c=e,a=c.stateNode;c.tag===5&&a!==null&&(c=a,a=Kb(e,s),a!=null&&o.unshift(tf(e,a,c)),a=Kb(e,i),a!=null&&o.push(tf(e,a,c))),e=e.return}return o}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,i,s,o,c){for(var a=i._reactName,d=[];s!==null&&s!==o;){var ut=s,tt=ut.alternate,st=ut.stateNode;if(tt!==null&&tt===o)break;ut.tag===5&&st!==null&&(ut=st,c?(tt=Kb(s,a),tt!=null&&d.unshift(tf(s,tt,ut))):c||(tt=Kb(s,a),tt!=null&&d.push(tf(s,tt,ut)))),s=s.return}d.length!==0&&e.push({event:i,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,i,s){if(i=zf(i),zf(e)!==i&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,i){var s=i,o=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(o===0){e.removeChild(c),bd(i);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=c}while(s);bd(i)}function Lf(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var i=e[Of];if(i)return i;for(var s=e.parentNode;s;){if(i=s[uf]||s[Of]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Mf(e);e!==null;){if(s=e[Of])return s;e=Mf(e)}return i}e=s,s=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,i){Tf++,Sf[Tf]=e.current,e.current=i}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,i){var s=e.type.contextTypes;if(!s)return Vf;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===i)return o.__reactInternalMemoizedMaskedChildContext;var c={},a;for(a in s)c[a]=i[a];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=c),c}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,i,s){if(H.current!==Vf)throw Error(p(168));G(H,i),G(Wf,s)}function bg(e,i,s){var o=e.stateNode;if(i=i.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var c in o)if(!(c in i))throw Error(p(108,Ra(e)||"Unknown",c));return A({},s,o)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,i,s){var o=e.stateNode;if(!o)throw Error(p(169));s?(e=bg(e,i,Xf),o.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,i=C;try{var s=eg;for(C=1;e<s.length;e++){var o=s[e];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(c){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),c}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,i){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=i}function ug(e,i,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var o=rg;e=sg;var c=32-oc(o)-1;o&=~(1<<c),s+=1;var a=32-oc(i)+c;if(30<a){var d=c-c%5;a=(o&(1<<d)-1).toString(32),o>>=d,c-=d,rg=1<<32-oc(i)+c|s<<c|o,sg=a+e}else rg=1<<a|s<<c|o,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,i){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=e,i=e.deletions,i===null?(e.deletions=[s],e.flags|=16):i.push(s)}function Cg(e,i){switch(e.tag){case 5:var s=e.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,xg=e,yg=Lf(i.firstChild),!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,xg=e,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=i,s.return=e,e.child=s,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var i=yg;if(i){var s=i;if(!Cg(e,i)){if(Dg(e))throw Error(p(418));i=Lf(s.nextSibling);var o=xg;i&&Cg(e,i)?Ag(o,s):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!=="head"&&i!=="body"&&!Ef(e.type,e.memoizedProps)),i&&(i=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;i;)Ag(e,i),i=Lf(i.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(i===0){yg=Lf(e.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,i,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var o=s.stateNode}if(!o)throw Error(p(147,e));var c=o,a=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===a?i.ref:(i=function(d){var ut=c.refs;d===null?delete ut[a]:ut[a]=d},i._stringRef=a,i)}if(typeof e!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,e))}return e}function Mg(e,i){throw e=Object.prototype.toString.call(i),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e))}function Ng(e){var i=e._init;return i(e._payload)}function Og(e){function i(g,_){if(e){var at=g.deletions;at===null?(g.deletions=[_],g.flags|=16):at.push(_)}}function s(g,_){if(!e)return null;for(;_!==null;)i(g,_),_=_.sibling;return null}function o(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function c(g,_){return g=Pg(g,_),g.index=0,g.sibling=null,g}function a(g,_,at){return g.index=at,e?(at=g.alternate,at!==null?(at=at.index,at<_?(g.flags|=2,_):at):(g.flags|=2,_)):(g.flags|=1048576,_)}function d(g){return e&&g.alternate===null&&(g.flags|=2),g}function ut(g,_,at,ht){return _===null||_.tag!==6?(_=Qg(at,g.mode,ht),_.return=g,_):(_=c(_,at),_.return=g,_)}function tt(g,_,at,ht){var j=at.type;return j===ya?_e(g,_,at.props.children,ht,at.key):_!==null&&(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ha&&Ng(j)===_.type)?(ht=c(_,at.props),ht.ref=Lg(g,_,at),ht.return=g,ht):(ht=Rg(at.type,at.key,at.props,null,g.mode,ht),ht.ref=Lg(g,_,at),ht.return=g,ht)}function st(g,_,at,ht){return _===null||_.tag!==4||_.stateNode.containerInfo!==at.containerInfo||_.stateNode.implementation!==at.implementation?(_=Sg(at,g.mode,ht),_.return=g,_):(_=c(_,at.children||[]),_.return=g,_)}function _e(g,_,at,ht,j){return _===null||_.tag!==7?(_=Tg(at,g.mode,ht,j),_.return=g,_):(_=c(_,at),_.return=g,_)}function yt(g,_,at){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Qg(""+_,g.mode,at),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case va:return at=Rg(_.type,_.key,_.props,null,g.mode,at),at.ref=Lg(g,null,_),at.return=g,at;case wa:return _=Sg(_,g.mode,at),_.return=g,_;case Ha:var ht=_._init;return yt(g,ht(_._payload),at)}if(eb(_)||Ka(_))return _=Tg(_,g.mode,at,null),_.return=g,_;Mg(g,_)}return null}function ft(g,_,at,ht){var j=_!==null?_.key:null;if(typeof at=="string"&&at!==""||typeof at=="number")return j!==null?null:ut(g,_,""+at,ht);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case va:return at.key===j?tt(g,_,at,ht):null;case wa:return at.key===j?st(g,_,at,ht):null;case Ha:return j=at._init,ft(g,_,j(at._payload),ht)}if(eb(at)||Ka(at))return j!==null?null:_e(g,_,at,ht,null);Mg(g,at)}return null}function dt(g,_,at,ht,j){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return g=g.get(at)||null,ut(_,g,""+ht,j);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return g=g.get(ht.key===null?at:ht.key)||null,tt(_,g,ht,j);case wa:return g=g.get(ht.key===null?at:ht.key)||null,st(_,g,ht,j);case Ha:var it=ht._init;return dt(g,_,at,it(ht._payload),j)}if(eb(ht)||Ka(ht))return g=g.get(at)||null,_e(_,g,ht,j,null);Mg(_,ht)}return null}function lt(g,_,at,ht){for(var j=null,it=null,$=_,rt=_=0,ct=null;$!==null&&rt<at.length;rt++){$.index>rt?(ct=$,$=null):ct=$.sibling;var At=ft(g,$,at[rt],ht);if(At===null){$===null&&($=ct);break}e&&$&&At.alternate===null&&i(g,$),_=a(At,_,rt),it===null?j=At:it.sibling=At,it=At,$=ct}if(rt===at.length)return s(g,$),I&&tg(g,rt),j;if($===null){for(;rt<at.length;rt++)$=yt(g,at[rt],ht),$!==null&&(_=a($,_,rt),it===null?j=$:it.sibling=$,it=$);return I&&tg(g,rt),j}for($=o(g,$);rt<at.length;rt++)ct=dt($,g,rt,at[rt],ht),ct!==null&&(e&&ct.alternate!==null&&$.delete(ct.key===null?rt:ct.key),_=a(ct,_,rt),it===null?j=ct:it.sibling=ct,it=ct);return e&&$.forEach(function(ot){return i(g,ot)}),I&&tg(g,rt),j}function mt(g,_,at,ht){var j=Ka(at);if(typeof j!="function")throw Error(p(150));if(at=j.call(at),at==null)throw Error(p(151));for(var it=j=null,$=_,rt=_=0,ct=null,At=at.next();$!==null&&!At.done;rt++,At=at.next()){$.index>rt?(ct=$,$=null):ct=$.sibling;var ot=ft(g,$,At.value,ht);if(ot===null){$===null&&($=ct);break}e&&$&&ot.alternate===null&&i(g,$),_=a(ot,_,rt),it===null?j=ot:it.sibling=ot,it=ot,$=ct}if(At.done)return s(g,$),I&&tg(g,rt),j;if($===null){for(;!At.done;rt++,At=at.next())At=yt(g,At.value,ht),At!==null&&(_=a(At,_,rt),it===null?j=At:it.sibling=At,it=At);return I&&tg(g,rt),j}for($=o(g,$);!At.done;rt++,At=at.next())At=dt($,g,rt,At.value,ht),At!==null&&(e&&At.alternate!==null&&$.delete(At.key===null?rt:At.key),_=a(At,_,rt),it===null?j=At:it.sibling=At,it=At);return e&&$.forEach(function(Et){return i(g,Et)}),I&&tg(g,rt),j}function gt(g,_,at,ht){if(typeof at=="object"&&at!==null&&at.type===ya&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case va:e:{for(var j=at.key,it=_;it!==null;){if(it.key===j){if(j=at.type,j===ya){if(it.tag===7){s(g,it.sibling),_=c(it,at.props.children),_.return=g,g=_;break e}}else if(it.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ha&&Ng(j)===it.type){s(g,it.sibling),_=c(it,at.props),_.ref=Lg(g,it,at),_.return=g,g=_;break e}s(g,it);break}else i(g,it);it=it.sibling}at.type===ya?(_=Tg(at.props.children,g.mode,ht,at.key),_.return=g,g=_):(ht=Rg(at.type,at.key,at.props,null,g.mode,ht),ht.ref=Lg(g,_,at),ht.return=g,g=ht)}return d(g);case wa:e:{for(it=at.key;_!==null;){if(_.key===it)if(_.tag===4&&_.stateNode.containerInfo===at.containerInfo&&_.stateNode.implementation===at.implementation){s(g,_.sibling),_=c(_,at.children||[]),_.return=g,g=_;break e}else{s(g,_);break}else i(g,_);_=_.sibling}_=Sg(at,g.mode,ht),_.return=g,g=_}return d(g);case Ha:return it=at._init,gt(g,_,it(at._payload),ht)}if(eb(at))return lt(g,_,at,ht);if(Ka(at))return mt(g,_,at,ht);Mg(g,at)}return typeof at=="string"&&at!==""||typeof at=="number"?(at=""+at,_!==null&&_.tag===6?(s(g,_.sibling),_=c(_,at),_.return=g,g=_):(s(g,_),_=Qg(at,g.mode,ht),_.return=g,g=_),d(g)):s(g,_)}return gt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var i=Wg.current;E(Wg),e._currentValue=i}function bh(e,i,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===s)break;e=e.return}}function ch(e,i){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&i&&(dh=!0),e.firstContext=null)}function eh(e){var i=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:i,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return i}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,i,s,o){var c=i.interleaved;return c===null?(s.next=s,gh(i)):(s.next=c.next,c.next=s),i.interleaved=s,ih(e,o)}function ih(e,i){e.lanes|=i;var s=e.alternate;for(s!==null&&(s.lanes|=i),s=e,e=e.return;e!==null;)e.childLanes|=i,s=e.alternate,s!==null&&(s.childLanes|=i),s=e,e=e.return;return s.tag===3?s.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function nh(e,i,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var c=o.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),o.pending=i,ih(e,s)}return c=o.interleaved,c===null?(i.next=i,gh(o)):(i.next=c.next,c.next=i),o.interleaved=i,ih(e,s)}function oh(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Cc(e,s)}}function ph(e,i){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var d={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?c=a=d:a=a.next=d,s=s.next}while(s!==null);a===null?c=a=i:a=a.next=i}else c=a=i;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:a,shared:o.shared,effects:o.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}function qh(e,i,s,o){var c=e.updateQueue;jh=!1;var a=c.firstBaseUpdate,d=c.lastBaseUpdate,ut=c.shared.pending;if(ut!==null){c.shared.pending=null;var tt=ut,st=tt.next;tt.next=null,d===null?a=st:d.next=st,d=tt;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,ut=_e.lastBaseUpdate,ut!==d&&(ut===null?_e.firstBaseUpdate=st:ut.next=st,_e.lastBaseUpdate=tt))}if(a!==null){var yt=c.baseState;d=0,_e=st=tt=null,ut=a;do{var ft=ut.lane,dt=ut.eventTime;if((o&ft)===ft){_e!==null&&(_e=_e.next={eventTime:dt,lane:0,tag:ut.tag,payload:ut.payload,callback:ut.callback,next:null});e:{var lt=e,mt=ut;switch(ft=i,dt=s,mt.tag){case 1:if(lt=mt.payload,typeof lt=="function"){yt=lt.call(dt,yt,ft);break e}yt=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=mt.payload,ft=typeof lt=="function"?lt.call(dt,yt,ft):lt,ft==null)break e;yt=A({},yt,ft);break e;case 2:jh=!0}}ut.callback!==null&&ut.lane!==0&&(e.flags|=64,ft=c.effects,ft===null?c.effects=[ut]:ft.push(ut))}else dt={eventTime:dt,lane:ft,tag:ut.tag,payload:ut.payload,callback:ut.callback,next:null},_e===null?(st=_e=dt,tt=yt):_e=_e.next=dt,d|=ft;if(ut=ut.next,ut===null){if(ut=c.shared.pending,ut===null)break;ft=ut,ut=ft.next,ft.next=null,c.lastBaseUpdate=ft,c.shared.pending=null}}while(!0);if(_e===null&&(tt=yt),c.baseState=tt,c.firstBaseUpdate=st,c.lastBaseUpdate=_e,i=c.shared.interleaved,i!==null){c=i;do d|=c.lane,c=c.next;while(c!==i)}else a===null&&(c.shared.lanes=0);rh|=d,e.lanes=d,e.memoizedState=yt}}function sh(e,i,s){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var o=e[i],c=o.callback;if(c!==null){if(o.callback=null,o=s,typeof c!="function")throw Error(p(191,c));c.call(o)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,i){switch(G(wh,i),G(vh,e),G(uh,th),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=lb(i,e)}E(uh),G(uh,i)}function zh(){E(uh),E(vh),E(wh)}function Ah(e){xh(wh.current);var i=xh(uh.current),s=lb(i,e.type);i!==s&&(G(vh,e),G(uh,s))}function Bh(e){vh.current===e&&(E(uh),E(vh))}var L=Uf(0);function Ch(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!He(e[s],i[s]))return!1;return!0}function Nh(e,i,s,o,c,a){if(Hh=a,M=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=s(o,c),Jh){a=0;do{if(Jh=!1,Kh=0,25<=a)throw Error(p(301));a+=1,O=N=null,i.updateQueue=null,Fh.current=Qh,e=s(o,c)}while(Jh)}if(Fh.current=Rh,i=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,i)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var i=O===null?M.memoizedState:O.next;if(i!==null)O=i,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,i){return typeof i=="function"?i(e):i}function Wh(e){var i=Uh(),s=i.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var o=N,c=o.baseQueue,a=s.pending;if(a!==null){if(c!==null){var d=c.next;c.next=a.next,a.next=d}o.baseQueue=c=a,s.pending=null}if(c!==null){a=c.next,o=o.baseState;var ut=d=null,tt=null,st=a;do{var _e=st.lane;if((Hh&_e)===_e)tt!==null&&(tt=tt.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),o=st.hasEagerState?st.eagerState:e(o,st.action);else{var yt={lane:_e,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};tt===null?(ut=tt=yt,d=o):tt=tt.next=yt,M.lanes|=_e,rh|=_e}st=st.next}while(st!==null&&st!==a);tt===null?d=o:tt.next=ut,He(o,i.memoizedState)||(dh=!0),i.memoizedState=o,i.baseState=d,i.baseQueue=tt,s.lastRenderedState=o}if(e=s.interleaved,e!==null){c=e;do a=c.lane,M.lanes|=a,rh|=a,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function Xh(e){var i=Uh(),s=i.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,a=i.memoizedState;if(c!==null){s.pending=null;var d=c=c.next;do a=e(a,d.action),d=d.next;while(d!==c);He(a,i.memoizedState)||(dh=!0),i.memoizedState=a,i.baseQueue===null&&(i.baseState=a),s.lastRenderedState=a}return[a,o]}function Yh(){}function Zh(e,i){var s=M,o=Uh(),c=i(),a=!He(o.memoizedState,c);if(a&&(o.memoizedState=c,dh=!0),o=o.queue,$h(ai.bind(null,s,o,e),[e]),o.getSnapshot!==i||a||O!==null&&O.memoizedState.tag&1){if(s.flags|=2048,bi(9,ci.bind(null,s,o,c,i),void 0,null),Q===null)throw Error(p(349));Hh&30||di(s,i,c)}return c}function di(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function ci(e,i,s,o){i.value=s,i.getSnapshot=o,ei(i)&&fi(e)}function ai(e,i,s){return s(function(){ei(i)&&fi(e)})}function ei(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!He(e,s)}catch{return!0}}function fi(e){var i=ih(e,1);i!==null&&gi(i,e,1,-1)}function hi(e){var i=Th();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},i.queue=e,e=e.dispatch=ii.bind(null,M,e),[i.memoizedState,e]}function bi(e,i,s,o){return e={tag:e,create:i,destroy:s,deps:o,next:null},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.lastEffect=e.next=e):(s=i.lastEffect,s===null?i.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,i.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,i,s,o){var c=Th();M.flags|=e,c.memoizedState=bi(1|i,s,void 0,o===void 0?null:o)}function li(e,i,s,o){var c=Uh();o=o===void 0?null:o;var a=void 0;if(N!==null){var d=N.memoizedState;if(a=d.destroy,o!==null&&Mh(o,d.deps)){c.memoizedState=bi(i,s,a,o);return}}M.flags|=e,c.memoizedState=bi(1|i,s,a,o)}function mi(e,i){return ki(8390656,8,e,i)}function $h(e,i){return li(2048,8,e,i)}function ni(e,i){return li(4,2,e,i)}function oi(e,i){return li(4,4,e,i)}function pi(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function qi(e,i,s){return s=s!=null?s.concat([e]):null,li(4,4,pi.bind(null,i,e),s)}function ri(){}function si(e,i){var s=Uh();i=i===void 0?null:i;var o=s.memoizedState;return o!==null&&i!==null&&Mh(i,o[1])?o[0]:(s.memoizedState=[e,i],e)}function ti(e,i){var s=Uh();i=i===void 0?null:i;var o=s.memoizedState;return o!==null&&i!==null&&Mh(i,o[1])?o[0]:(e=e(),s.memoizedState=[e,i],e)}function ui(e,i,s){return Hh&21?(He(s,i)||(s=yc(),M.lanes|=s,rh|=s,e.baseState=!0),i):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=s)}function vi(e,i){var s=C;C=s!==0&&4>s?s:4,e(!0);var o=Gh.transition;Gh.transition={};try{e(!1),i()}finally{C=s,Gh.transition=o}}function wi(){return Uh().memoizedState}function xi(e,i,s){var o=yi(e);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(i,s);else if(s=hh(e,i,s,o),s!==null){var c=R();gi(s,e,o,c),Bi(s,i,o)}}function ii(e,i,s){var o=yi(e),c={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(i,c);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=i.lastRenderedReducer,a!==null))try{var d=i.lastRenderedState,ut=a(d,s);if(c.hasEagerState=!0,c.eagerState=ut,He(ut,d)){var tt=i.interleaved;tt===null?(c.next=c,gh(i)):(c.next=tt.next,tt.next=c),i.interleaved=c;return}}catch{}finally{}s=hh(e,i,c,o),s!==null&&(c=R(),gi(s,e,o,c),Bi(s,i,o))}}function zi(e){var i=e.alternate;return e===M||i!==null&&i===M}function Ai(e,i){Jh=Ih=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Bi(e,i,s){if(s&4194240){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Cc(e,s)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,i){return Th().memoizedState=[e,i===void 0?null:i],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,i,s){return s=s!=null?s.concat([e]):null,ki(4194308,4,pi.bind(null,i,e),s)},useLayoutEffect:function(e,i){return ki(4194308,4,e,i)},useInsertionEffect:function(e,i){return ki(4,2,e,i)},useMemo:function(e,i){var s=Th();return i=i===void 0?null:i,e=e(),s.memoizedState=[e,i],e},useReducer:function(e,i,s){var o=Th();return i=s!==void 0?s(i):i,o.memoizedState=o.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},o.queue=e,e=e.dispatch=xi.bind(null,M,e),[o.memoizedState,e]},useRef:function(e){var i=Th();return e={current:e},i.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),i=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,s){var o=M,c=Th();if(I){if(s===void 0)throw Error(p(407));s=s()}else{if(s=i(),Q===null)throw Error(p(349));Hh&30||di(o,i,s)}c.memoizedState=s;var a={value:s,getSnapshot:i};return c.queue=a,mi(ai.bind(null,o,a,e),[e]),o.flags|=2048,bi(9,ci.bind(null,o,a,s,i),void 0,null),s},useId:function(){var e=Th(),i=Q.identifierPrefix;if(I){var s=sg,o=rg;s=(o&~(1<<32-oc(o)-1)).toString(32)+s,i=":"+i+"R"+s,s=Kh++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Lh++,i=":"+i+"r"+s.toString(32)+":";return e.memoizedState=i},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var i=Uh();return ui(i,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],i=Uh().memoizedState;return[e,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var i=Uh();return N===null?i.memoizedState=e:ui(i,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],i=Uh().memoizedState;return[e,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,i){if(e&&e.defaultProps){i=A({},i),e=e.defaultProps;for(var s in e)i[s]===void 0&&(i[s]=e[s]);return i}return i}function Di(e,i,s,o){i=e.memoizedState,s=s(o,i),s=s==null?i:A({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,i,s){e=e._reactInternals;var o=R(),c=yi(e),a=mh(o,c);a.payload=i,s!=null&&(a.callback=s),i=nh(e,a,c),i!==null&&(gi(i,e,c,o),oh(i,e,c))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var o=R(),c=yi(e),a=mh(o,c);a.tag=1,a.payload=i,s!=null&&(a.callback=s),i=nh(e,a,c),i!==null&&(gi(i,e,c,o),oh(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=R(),o=yi(e),c=mh(s,o);c.tag=2,i!=null&&(c.callback=i),i=nh(e,c,o),i!==null&&(gi(i,e,o,s),oh(i,e,o))}};function Fi(e,i,s,o,c,a,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,a,d):i.prototype&&i.prototype.isPureReactComponent?!Ie(s,o)||!Ie(c,a):!0}function Gi(e,i,s){var o=!1,c=Vf,a=i.contextType;return typeof a=="object"&&a!==null?a=eh(a):(c=Zf(i)?Xf:H.current,o=i.contextTypes,a=(o=o!=null)?Yf(e,c):Vf),i=new i(s,a),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ei,e.stateNode=i,i._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=a),i}function Hi(e,i,s,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==e&&Ei.enqueueReplaceState(i,i.state,null)}function Ii(e,i,s,o){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},kh(e);var a=i.contextType;typeof a=="object"&&a!==null?c.context=eh(a):(a=Zf(i)?Xf:H.current,c.context=Yf(e,a)),c.state=e.memoizedState,a=i.getDerivedStateFromProps,typeof a=="function"&&(Di(e,i,a,s),c.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(i=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),i!==c.state&&Ei.enqueueReplaceState(c,c.state,null),qh(e,s,c,o),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,i){try{var s="",o=i;do s+=Pa(o),o=o.return;while(o);var c=s}catch(a){c=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:i,stack:c,digest:null}}function Ki(e,i,s){return{value:e,source:null,stack:s??null,digest:i??null}}function Li(e,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,i,s){s=mh(-1,s),s.tag=3,s.payload={element:null};var o=i.value;return s.callback=function(){Oi||(Oi=!0,Pi=o),Li(e,i)},s}function Qi(e,i,s){s=mh(-1,s),s.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var c=i.value;s.payload=function(){return o(c)},s.callback=function(){Li(e,i)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Li(e,i),typeof o!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=i.stack;this.componentDidCatch(i.value,{componentStack:d!==null?d:""})}),s}function Si(e,i,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Mi;var c=new Set;o.set(i,c)}else c=o.get(i),c===void 0&&(c=new Set,o.set(i,c));c.has(s)||(c.add(s),e=Ti.bind(null,e,i,s),i.then(e,e))}function Ui(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function Vi(e,i,s,o,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===i?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=mh(-1,1),i.tag=2,nh(s,i,1))),s.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,i,s,o){i.child=e===null?Vg(i,null,s,o):Ug(i,e.child,s,o)}function Yi(e,i,s,o,c){s=s.render;var a=i.ref;return ch(i,c),o=Nh(e,i,s,o,a,c),s=Sh(),e!==null&&!dh?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~c,Zi(e,i,c)):(I&&s&&vg(i),i.flags|=1,Xi(e,i,o,c),i.child)}function $i(e,i,s,o,c){if(e===null){var a=s.type;return typeof a=="function"&&!aj(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=a,bj(e,i,a,o,c)):(e=Rg(s.type,null,o,i,i.mode,c),e.ref=i.ref,e.return=i,i.child=e)}if(a=e.child,!(e.lanes&c)){var d=a.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(d,o)&&e.ref===i.ref)return Zi(e,i,c)}return i.flags|=1,e=Pg(a,o),e.ref=i.ref,e.return=i,i.child=e}function bj(e,i,s,o,c){if(e!==null){var a=e.memoizedProps;if(Ie(a,o)&&e.ref===i.ref)if(dh=!1,i.pendingProps=o=a,(e.lanes&c)!==0)e.flags&131072&&(dh=!0);else return i.lanes=e.lanes,Zi(e,i,c)}return cj(e,i,s,o,c)}function dj(e,i,s){var o=i.pendingProps,c=o.children,a=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,G(ej,fj),fj|=e,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=a!==null?a.baseLanes:s,G(ej,fj),fj|=o}else a!==null?(o=a.baseLanes|s,i.memoizedState=null):o=s,G(ej,fj),fj|=o;return Xi(e,i,c,s),i.child}function gj(e,i){var s=i.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function cj(e,i,s,o,c){var a=Zf(s)?Xf:H.current;return a=Yf(i,a),ch(i,c),s=Nh(e,i,s,o,a,c),o=Sh(),e!==null&&!dh?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~c,Zi(e,i,c)):(I&&o&&vg(i),i.flags|=1,Xi(e,i,s,c),i.child)}function hj(e,i,s,o,c){if(Zf(s)){var a=!0;cg(i)}else a=!1;if(ch(i,c),i.stateNode===null)ij(e,i),Gi(i,s,o),Ii(i,s,o,c),o=!0;else if(e===null){var d=i.stateNode,ut=i.memoizedProps;d.props=ut;var tt=d.context,st=s.contextType;typeof st=="object"&&st!==null?st=eh(st):(st=Zf(s)?Xf:H.current,st=Yf(i,st));var _e=s.getDerivedStateFromProps,yt=typeof _e=="function"||typeof d.getSnapshotBeforeUpdate=="function";yt||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(ut!==o||tt!==st)&&Hi(i,d,o,st),jh=!1;var ft=i.memoizedState;d.state=ft,qh(i,o,d,c),tt=i.memoizedState,ut!==o||ft!==tt||Wf.current||jh?(typeof _e=="function"&&(Di(i,s,_e,o),tt=i.memoizedState),(ut=jh||Fi(i,s,ut,o,ft,tt,st))?(yt||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=tt),d.props=o,d.state=tt,d.context=st,o=ut):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,lh(e,i),ut=i.memoizedProps,st=i.type===i.elementType?ut:Ci(i.type,ut),d.props=st,yt=i.pendingProps,ft=d.context,tt=s.contextType,typeof tt=="object"&&tt!==null?tt=eh(tt):(tt=Zf(s)?Xf:H.current,tt=Yf(i,tt));var dt=s.getDerivedStateFromProps;(_e=typeof dt=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(ut!==yt||ft!==tt)&&Hi(i,d,o,tt),jh=!1,ft=i.memoizedState,d.state=ft,qh(i,o,d,c);var lt=i.memoizedState;ut!==yt||ft!==lt||Wf.current||jh?(typeof dt=="function"&&(Di(i,s,dt,o),lt=i.memoizedState),(st=jh||Fi(i,s,st,o,ft,lt,tt)||!1)?(_e||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,lt,tt),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,lt,tt)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||ut===e.memoizedProps&&ft===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||ut===e.memoizedProps&&ft===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=lt),d.props=o,d.state=lt,d.context=tt,o=st):(typeof d.componentDidUpdate!="function"||ut===e.memoizedProps&&ft===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||ut===e.memoizedProps&&ft===e.memoizedState||(i.flags|=1024),o=!1)}return jj(e,i,s,o,a,c)}function jj(e,i,s,o,c,a){gj(e,i);var d=(i.flags&128)!==0;if(!o&&!d)return c&&dg(i,s,!1),Zi(e,i,a);o=i.stateNode,Wi.current=i;var ut=d&&typeof s.getDerivedStateFromError!="function"?null:o.render();return i.flags|=1,e!==null&&d?(i.child=Ug(i,e.child,null,a),i.child=Ug(i,null,ut,a)):Xi(e,i,ut,a),i.memoizedState=o.state,c&&dg(i,s,!0),i.child}function kj(e){var i=e.stateNode;i.pendingContext?ag(e,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(e,i.context,!1),yh(e,i.containerInfo)}function lj(e,i,s,o,c){return Ig(),Jg(c),i.flags|=256,Xi(e,i,s,o),i.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,i,s){var o=i.pendingProps,c=L.current,a=!1,d=(i.flags&128)!==0,ut;if((ut=d)||(ut=e!==null&&e.memoizedState===null?!1:(c&2)!==0),ut?(a=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),G(L,c&1),e===null)return Eg(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(i.mode&1?e.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(d=o.children,e=o.fallback,a?(o=i.mode,a=i.child,d={mode:"hidden",children:d},!(o&1)&&a!==null?(a.childLanes=0,a.pendingProps=d):a=pj(d,o,0,null),e=Tg(e,o,s,null),a.return=i,e.return=i,a.sibling=e,i.child=a,i.child.memoizedState=nj(s),i.memoizedState=mj,e):qj(i,d));if(c=e.memoizedState,c!==null&&(ut=c.dehydrated,ut!==null))return rj(e,i,d,o,ut,c,s);if(a){a=o.fallback,d=i.mode,c=e.child,ut=c.sibling;var tt={mode:"hidden",children:o.children};return!(d&1)&&i.child!==c?(o=i.child,o.childLanes=0,o.pendingProps=tt,i.deletions=null):(o=Pg(c,tt),o.subtreeFlags=c.subtreeFlags&14680064),ut!==null?a=Pg(ut,a):(a=Tg(a,d,s,null),a.flags|=2),a.return=i,o.return=i,o.sibling=a,i.child=o,o=a,a=i.child,d=e.child.memoizedState,d=d===null?nj(s):{baseLanes:d.baseLanes|s,cachePool:null,transitions:d.transitions},a.memoizedState=d,a.childLanes=e.childLanes&~s,i.memoizedState=mj,o}return a=e.child,e=a.sibling,o=Pg(a,{mode:"visible",children:o.children}),!(i.mode&1)&&(o.lanes=s),o.return=i,o.sibling=null,e!==null&&(s=i.deletions,s===null?(i.deletions=[e],i.flags|=16):s.push(e)),i.child=o,i.memoizedState=null,o}function qj(e,i){return i=pj({mode:"visible",children:i},e.mode,0,null),i.return=e,e.child=i}function sj(e,i,s,o){return o!==null&&Jg(o),Ug(i,e.child,null,s),e=qj(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function rj(e,i,s,o,c,a,d){if(s)return i.flags&256?(i.flags&=-257,o=Ki(Error(p(422))),sj(e,i,d,o)):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(a=o.fallback,c=i.mode,o=pj({mode:"visible",children:o.children},c,0,null),a=Tg(a,c,d,null),a.flags|=2,o.return=i,a.return=i,o.sibling=a,i.child=o,i.mode&1&&Ug(i,e.child,null,d),i.child.memoizedState=nj(d),i.memoizedState=mj,a);if(!(i.mode&1))return sj(e,i,d,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var ut=o.dgst;return o=ut,a=Error(p(419)),o=Ki(a,o,void 0),sj(e,i,d,o)}if(ut=(d&e.childLanes)!==0,dh||ut){if(o=Q,o!==null){switch(d&-d){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(o.suspendedLanes|d)?0:c,c!==0&&c!==a.retryLane&&(a.retryLane=c,ih(e,c),gi(o,e,c,-1))}return tj(),o=Ki(Error(p(421))),sj(e,i,d,o)}return c.data==="$?"?(i.flags|=128,i.child=e.child,i=uj.bind(null,e),c._reactRetry=i,null):(e=a.treeContext,yg=Lf(c.nextSibling),xg=i,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=i),i=qj(i,o.children),i.flags|=4096,i)}function vj(e,i,s){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),bh(e.return,i,s)}function wj(e,i,s,o,c){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c}:(a.isBackwards=i,a.rendering=null,a.renderingStartTime=0,a.last=o,a.tail=s,a.tailMode=c)}function xj(e,i,s){var o=i.pendingProps,c=o.revealOrder,a=o.tail;if(Xi(e,i,o.children,s),o=L.current,o&2)o=o&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,s,i);else if(e.tag===19)vj(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(G(L,o),!(i.mode&1))i.memoizedState=null;else switch(c){case"forwards":for(s=i.child,c=null;s!==null;)e=s.alternate,e!==null&&Ch(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=i.child,i.child=null):(c=s.sibling,s.sibling=null),wj(i,!1,c,s,a);break;case"backwards":for(s=null,c=i.child,i.child=null;c!==null;){if(e=c.alternate,e!==null&&Ch(e)===null){i.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}wj(i,!0,s,null,a);break;case"together":wj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ij(e,i){!(i.mode&1)&&e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2)}function Zi(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),rh|=i.lanes,!(s&i.childLanes))return null;if(e!==null&&i.child!==e.child)throw Error(p(153));if(i.child!==null){for(e=i.child,s=Pg(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Pg(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function yj(e,i,s){switch(i.tag){case 3:kj(i),Ig();break;case 5:Ah(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:yh(i,i.stateNode.containerInfo);break;case 10:var o=i.type._context,c=i.memoizedProps.value;G(Wg,o._currentValue),o._currentValue=c;break;case 13:if(o=i.memoizedState,o!==null)return o.dehydrated!==null?(G(L,L.current&1),i.flags|=128,null):s&i.child.childLanes?oj(e,i,s):(G(L,L.current&1),e=Zi(e,i,s),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(o=(s&i.childLanes)!==0,e.flags&128){if(o)return xj(e,i,s);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(L,L.current),o)break;return null;case 22:case 23:return i.lanes=0,dj(e,i,s)}return Zi(e,i,s)}var zj,Aj,Bj,Cj;zj=function(e,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Aj=function(){};Bj=function(e,i,s,o){var c=e.memoizedProps;if(c!==o){e=i.stateNode,xh(uh.current);var a=null;switch(s){case"input":c=Ya(e,c),o=Ya(e,o),a=[];break;case"select":c=A({},c,{value:void 0}),o=A({},o,{value:void 0}),a=[];break;case"textarea":c=gb(e,c),o=gb(e,o),a=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Bf)}ub(s,o);var d;s=null;for(st in c)if(!o.hasOwnProperty(st)&&c.hasOwnProperty(st)&&c[st]!=null)if(st==="style"){var ut=c[st];for(d in ut)ut.hasOwnProperty(d)&&(s||(s={}),s[d]="")}else st!=="dangerouslySetInnerHTML"&&st!=="children"&&st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea.hasOwnProperty(st)?a||(a=[]):(a=a||[]).push(st,null));for(st in o){var tt=o[st];if(ut=c!=null?c[st]:void 0,o.hasOwnProperty(st)&&tt!==ut&&(tt!=null||ut!=null))if(st==="style")if(ut){for(d in ut)!ut.hasOwnProperty(d)||tt&&tt.hasOwnProperty(d)||(s||(s={}),s[d]="");for(d in tt)tt.hasOwnProperty(d)&&ut[d]!==tt[d]&&(s||(s={}),s[d]=tt[d])}else s||(a||(a=[]),a.push(st,s)),s=tt;else st==="dangerouslySetInnerHTML"?(tt=tt?tt.__html:void 0,ut=ut?ut.__html:void 0,tt!=null&&ut!==tt&&(a=a||[]).push(st,tt)):st==="children"?typeof tt!="string"&&typeof tt!="number"||(a=a||[]).push(st,""+tt):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&(ea.hasOwnProperty(st)?(tt!=null&&st==="onScroll"&&D("scroll",e),a||ut===tt||(a=[])):(a=a||[]).push(st,tt))}s&&(a=a||[]).push("style",s);var st=a;(i.updateQueue=st)&&(i.flags|=4)}};Cj=function(e,i,s,o){s!==o&&(i.flags|=4)};function Dj(e,i){if(!I)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function S(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(i)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,i}function Ej(e,i,s){var o=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return o=i.stateNode,zh(),E(Wf),E(H),Eh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gg(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,i),S(i),null;case 5:Bh(i);var c=xh(wh.current);if(s=i.type,e!==null&&i.stateNode!=null)Bj(e,i,s,o,c),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!o){if(i.stateNode===null)throw Error(p(166));return S(i),null}if(e=xh(uh.current),Gg(i)){o=i.stateNode,s=i.type;var a=i.memoizedProps;switch(o[Of]=i,o[Pf]=a,e=(i.mode&1)!==0,s){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,a),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!a.multiple},D("invalid",o);break;case"textarea":hb(o,a),D("invalid",o)}ub(s,a),c=null;for(var d in a)if(a.hasOwnProperty(d)){var ut=a[d];d==="children"?typeof ut=="string"?o.textContent!==ut&&(a.suppressHydrationWarning!==!0&&Af(o.textContent,ut,e),c=["children",ut]):typeof ut=="number"&&o.textContent!==""+ut&&(a.suppressHydrationWarning!==!0&&Af(o.textContent,ut,e),c=["children",""+ut]):ea.hasOwnProperty(d)&&ut!=null&&d==="onScroll"&&D("scroll",o)}switch(s){case"input":Va(o),db(o,a,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(o.onclick=Bf)}o=c,i.updateQueue=o,o!==null&&(i.flags|=4)}else{d=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(s,{is:o.is}):(e=d.createElement(s),s==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,s),e[Of]=i,e[Pf]=o,zj(e,i,!1,!1),i.stateNode=e;e:{switch(d=vb(s,o),s){case"dialog":D("cancel",e),D("close",e),c=o;break;case"iframe":case"object":case"embed":D("load",e),c=o;break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],e);c=o;break;case"source":D("error",e),c=o;break;case"img":case"image":case"link":D("error",e),D("load",e),c=o;break;case"details":D("toggle",e),c=o;break;case"input":Za(e,o),c=Ya(e,o),D("invalid",e);break;case"option":c=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},c=A({},o,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,o),c=gb(e,o),D("invalid",e);break;default:c=o}ub(s,c),ut=c;for(a in ut)if(ut.hasOwnProperty(a)){var tt=ut[a];a==="style"?sb(e,tt):a==="dangerouslySetInnerHTML"?(tt=tt?tt.__html:void 0,tt!=null&&nb(e,tt)):a==="children"?typeof tt=="string"?(s!=="textarea"||tt!=="")&&ob(e,tt):typeof tt=="number"&&ob(e,""+tt):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ea.hasOwnProperty(a)?tt!=null&&a==="onScroll"&&D("scroll",e):tt!=null&&ta(e,a,tt,d))}switch(s){case"input":Va(e),db(e,o,!1);break;case"textarea":Va(e),jb(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Sa(o.value));break;case"select":e.multiple=!!o.multiple,a=o.value,a!=null?fb(e,!!o.multiple,a,!1):o.defaultValue!=null&&fb(e,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(e&&i.stateNode!=null)Cj(e,i,e.memoizedProps,o);else{if(typeof o!="string"&&i.stateNode===null)throw Error(p(166));if(s=xh(wh.current),xh(uh.current),Gg(i)){if(o=i.stateNode,s=i.memoizedProps,o[Of]=i,(a=o.nodeValue!==s)&&(e=xg,e!==null))switch(e.tag){case 3:Af(o.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,s,(e.mode&1)!==0)}a&&(i.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Of]=i,i.stateNode=o}return S(i),null;case 13:if(E(L),o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,a=!1;else if(a=Gg(i),o!==null&&o.dehydrated!==null){if(e===null){if(!a)throw Error(p(318));if(a=i.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p(317));a[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),a=!1}else zg!==null&&(Fj(zg),zg=null),a=!0;if(!a)return i.flags&65536?i:null}return i.flags&128?(i.lanes=s,i):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(i.child.flags|=8192,i.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return zh(),Aj(e,i),e===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return ah(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E(L),a=i.memoizedState,a===null)return S(i),null;if(o=(i.flags&128)!==0,d=a.rendering,d===null)if(o)Dj(a,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=Ch(e),d!==null){for(i.flags|=128,Dj(a,!1),o=d.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),i.subtreeFlags=0,o=s,s=i.child;s!==null;)a=s,e=o,a.flags&=14680066,d=a.alternate,d===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,e=d.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return G(L,L.current&1|2),i.child}e=e.sibling}a.tail!==null&&B()>Gj&&(i.flags|=128,o=!0,Dj(a,!1),i.lanes=4194304)}else{if(!o)if(e=Ch(d),e!==null){if(i.flags|=128,o=!0,s=e.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Dj(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!I)return S(i),null}else 2*B()-a.renderingStartTime>Gj&&s!==1073741824&&(i.flags|=128,o=!0,Dj(a,!1),i.lanes=4194304);a.isBackwards?(d.sibling=i.child,i.child=d):(s=a.last,s!==null?s.sibling=d:i.child=d,a.last=d)}return a.tail!==null?(i=a.tail,a.rendering=i,a.tail=i.sibling,a.renderingStartTime=B(),i.sibling=null,s=L.current,G(L,o?s&1|2:s&1),i):(S(i),null);case 22:case 23:return Hj(),o=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(i.flags|=8192),o&&i.mode&1?fj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p(156,i.tag))}function Ij(e,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zh(),E(Wf),E(H),Eh(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 5:return Bh(i),null;case 13:if(E(L),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(p(340));Ig()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(i.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,i){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){W(e,i,o)}else s.current=null}function Mj(e,i,s){try{s()}catch(o){W(e,i,o)}}var Nj=!1;function Oj(e,i){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,a=o.focusNode;o=o.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var d=0,ut=-1,tt=-1,st=0,_e=0,yt=e,ft=null;t:for(;;){for(var dt;yt!==s||c!==0&&yt.nodeType!==3||(ut=d+c),yt!==a||o!==0&&yt.nodeType!==3||(tt=d+o),yt.nodeType===3&&(d+=yt.nodeValue.length),(dt=yt.firstChild)!==null;)ft=yt,yt=dt;for(;;){if(yt===e)break t;if(ft===s&&++st===c&&(ut=d),ft===a&&++_e===o&&(tt=d),(dt=yt.nextSibling)!==null)break;yt=ft,ft=yt.parentNode}yt=dt}s=ut===-1||tt===-1?null:{start:ut,end:tt}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:e,selectionRange:s},dd=!1,V=i;V!==null;)if(i=V,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,V=e;else for(;V!==null;){i=V;try{var lt=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var mt=lt.memoizedProps,gt=lt.memoizedState,g=i.stateNode,_=g.getSnapshotBeforeUpdate(i.elementType===i.type?mt:Ci(i.type,mt),gt);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var at=i.stateNode.containerInfo;at.nodeType===1?at.textContent="":at.nodeType===9&&at.documentElement&&at.removeChild(at.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ht){W(i,i.return,ht)}if(e=i.sibling,e!==null){e.return=i.return,V=e;break}V=i.return}return lt=Nj,Nj=!1,lt}function Pj(e,i,s){var o=i.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&e)===e){var a=c.destroy;c.destroy=void 0,a!==void 0&&Mj(i,s,a)}c=c.next}while(c!==o)}}function Qj(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var o=s.create;s.destroy=o()}s=s.next}while(s!==i)}}function Rj(e){var i=e.ref;if(i!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof i=="function"?i(e):i.current=e}}function Sj(e){var i=e.alternate;i!==null&&(e.alternate=null,Sj(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(e,i):s.insertBefore(e,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(e,s)):(i=s,i.appendChild(e)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Bf));else if(o!==4&&(e=e.child,e!==null))for(Vj(e,i,s),e=e.sibling;e!==null;)Vj(e,i,s),e=e.sibling}function Wj(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Wj(e,i,s),e=e.sibling;e!==null;)Wj(e,i,s),e=e.sibling}var X$1=null,Xj=!1;function Yj(e,i,s){for(s=s.child;s!==null;)Zj(e,i,s),s=s.sibling}function Zj(e,i,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Lj(s,i);case 6:var o=X$1,c=Xj;X$1=null,Yj(e,i,s),X$1=o,Xj=c,X$1!==null&&(Xj?(e=X$1,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):X$1.removeChild(s.stateNode));break;case 18:X$1!==null&&(Xj?(e=X$1,s=s.stateNode,e.nodeType===8?Kf(e.parentNode,s):e.nodeType===1&&Kf(e,s),bd(e)):Kf(X$1,s.stateNode));break;case 4:o=X$1,c=Xj,X$1=s.stateNode.containerInfo,Xj=!0,Yj(e,i,s),X$1=o,Xj=c;break;case 0:case 11:case 14:case 15:if(!U&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var a=c,d=a.destroy;a=a.tag,d!==void 0&&(a&2||a&4)&&Mj(s,i,d),c=c.next}while(c!==o)}Yj(e,i,s);break;case 1:if(!U&&(Lj(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(ut){W(s,i,ut)}Yj(e,i,s);break;case 21:Yj(e,i,s);break;case 22:s.mode&1?(U=(o=U)||s.memoizedState!==null,Yj(e,i,s),U=o):Yj(e,i,s);break;default:Yj(e,i,s)}}function ak(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Kj),i.forEach(function(o){var c=bk.bind(null,e,o);s.has(o)||(s.add(o),o.then(c,c))})}}function ck(e,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];try{var a=e,d=i,ut=d;e:for(;ut!==null;){switch(ut.tag){case 5:X$1=ut.stateNode,Xj=!1;break e;case 3:X$1=ut.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=ut.stateNode.containerInfo,Xj=!0;break e}ut=ut.return}if(X$1===null)throw Error(p(160));Zj(a,d,c),X$1=null,Xj=!1;var tt=c.alternate;tt!==null&&(tt.return=null),c.return=null}catch(st){W(c,i,st)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dk(i,e),i=i.sibling}function dk(e,i){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(i,e),ek(e),o&4){try{Pj(3,e,e.return),Qj(3,e)}catch(mt){W(e,e.return,mt)}try{Pj(5,e,e.return)}catch(mt){W(e,e.return,mt)}}break;case 1:ck(i,e),ek(e),o&512&&s!==null&&Lj(s,s.return);break;case 5:if(ck(i,e),ek(e),o&512&&s!==null&&Lj(s,s.return),e.flags&32){var c=e.stateNode;try{ob(c,"")}catch(mt){W(e,e.return,mt)}}if(o&4&&(c=e.stateNode,c!=null)){var a=e.memoizedProps,d=s!==null?s.memoizedProps:a,ut=e.type,tt=e.updateQueue;if(e.updateQueue=null,tt!==null)try{ut==="input"&&a.type==="radio"&&a.name!=null&&ab(c,a),vb(ut,d);var st=vb(ut,a);for(d=0;d<tt.length;d+=2){var _e=tt[d],yt=tt[d+1];_e==="style"?sb(c,yt):_e==="dangerouslySetInnerHTML"?nb(c,yt):_e==="children"?ob(c,yt):ta(c,_e,yt,st)}switch(ut){case"input":bb(c,a);break;case"textarea":ib(c,a);break;case"select":var ft=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!a.multiple;var dt=a.value;dt!=null?fb(c,!!a.multiple,dt,!1):ft!==!!a.multiple&&(a.defaultValue!=null?fb(c,!!a.multiple,a.defaultValue,!0):fb(c,!!a.multiple,a.multiple?[]:"",!1))}c[Pf]=a}catch(mt){W(e,e.return,mt)}}break;case 6:if(ck(i,e),ek(e),o&4){if(e.stateNode===null)throw Error(p(162));c=e.stateNode,a=e.memoizedProps;try{c.nodeValue=a}catch(mt){W(e,e.return,mt)}}break;case 3:if(ck(i,e),ek(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(mt){W(e,e.return,mt)}break;case 4:ck(i,e),ek(e);break;case 13:ck(i,e),ek(e),c=e.child,c.flags&8192&&(a=c.memoizedState!==null,c.stateNode.isHidden=a,!a||c.alternate!==null&&c.alternate.memoizedState!==null||(fk=B())),o&4&&ak(e);break;case 22:if(_e=s!==null&&s.memoizedState!==null,e.mode&1?(U=(st=U)||_e,ck(i,e),U=st):ck(i,e),ek(e),o&8192){if(st=e.memoizedState!==null,(e.stateNode.isHidden=st)&&!_e&&e.mode&1)for(V=e,_e=e.child;_e!==null;){for(yt=V=_e;V!==null;){switch(ft=V,dt=ft.child,ft.tag){case 0:case 11:case 14:case 15:Pj(4,ft,ft.return);break;case 1:Lj(ft,ft.return);var lt=ft.stateNode;if(typeof lt.componentWillUnmount=="function"){o=ft,s=ft.return;try{i=o,lt.props=i.memoizedProps,lt.state=i.memoizedState,lt.componentWillUnmount()}catch(mt){W(o,s,mt)}}break;case 5:Lj(ft,ft.return);break;case 22:if(ft.memoizedState!==null){gk(yt);continue}}dt!==null?(dt.return=ft,V=dt):gk(yt)}_e=_e.sibling}e:for(_e=null,yt=e;;){if(yt.tag===5){if(_e===null){_e=yt;try{c=yt.stateNode,st?(a=c.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(ut=yt.stateNode,tt=yt.memoizedProps.style,d=tt!=null&&tt.hasOwnProperty("display")?tt.display:null,ut.style.display=rb("display",d))}catch(mt){W(e,e.return,mt)}}}else if(yt.tag===6){if(_e===null)try{yt.stateNode.nodeValue=st?"":yt.memoizedProps}catch(mt){W(e,e.return,mt)}}else if((yt.tag!==22&&yt.tag!==23||yt.memoizedState===null||yt===e)&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===e)break e;for(;yt.sibling===null;){if(yt.return===null||yt.return===e)break e;_e===yt&&(_e=null),yt=yt.return}_e===yt&&(_e=null),yt.sibling.return=yt.return,yt=yt.sibling}}break;case 19:ck(i,e),ek(e),o&4&&ak(e);break;case 21:break;default:ck(i,e),ek(e)}}function ek(e){var i=e.flags;if(i&2){try{e:{for(var s=e.return;s!==null;){if(Tj(s)){var o=s;break e}s=s.return}throw Error(p(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(ob(c,""),o.flags&=-33);var a=Uj(e);Wj(e,a,c);break;case 3:case 4:var d=o.stateNode.containerInfo,ut=Uj(e);Vj(e,ut,d);break;default:throw Error(p(161))}}catch(tt){W(e,e.return,tt)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function hk(e,i,s){V=e,ik(e)}function ik(e,i,s){for(var o=(e.mode&1)!==0;V!==null;){var c=V,a=c.child;if(c.tag===22&&o){var d=c.memoizedState!==null||Jj;if(!d){var ut=c.alternate,tt=ut!==null&&ut.memoizedState!==null||U;ut=Jj;var st=U;if(Jj=d,(U=tt)&&!st)for(V=c;V!==null;)d=V,tt=d.child,d.tag===22&&d.memoizedState!==null?jk(c):tt!==null?(tt.return=d,V=tt):jk(c);for(;a!==null;)V=a,ik(a),a=a.sibling;V=c,Jj=ut,U=st}kk(e)}else c.subtreeFlags&8772&&a!==null?(a.return=c,V=a):kk(e)}}function kk(e){for(;V!==null;){var i=V;if(i.flags&8772){var s=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Qj(5,i);break;case 1:var o=i.stateNode;if(i.flags&4&&!U)if(s===null)o.componentDidMount();else{var c=i.elementType===i.type?s.memoizedProps:Ci(i.type,s.memoizedProps);o.componentDidUpdate(c,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var a=i.updateQueue;a!==null&&sh(i,a,o);break;case 3:var d=i.updateQueue;if(d!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}sh(i,d,s)}break;case 5:var ut=i.stateNode;if(s===null&&i.flags&4){s=ut;var tt=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":tt.autoFocus&&s.focus();break;case"img":tt.src&&(s.src=tt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var st=i.alternate;if(st!==null){var _e=st.memoizedState;if(_e!==null){var yt=_e.dehydrated;yt!==null&&bd(yt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||i.flags&512&&Rj(i)}catch(ft){W(i,i.return,ft)}}if(i===e){V=null;break}if(s=i.sibling,s!==null){s.return=i.return,V=s;break}V=i.return}}function gk(e){for(;V!==null;){var i=V;if(i===e){V=null;break}var s=i.sibling;if(s!==null){s.return=i.return,V=s;break}V=i.return}}function jk(e){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{Qj(4,i)}catch(tt){W(i,s,tt)}break;case 1:var o=i.stateNode;if(typeof o.componentDidMount=="function"){var c=i.return;try{o.componentDidMount()}catch(tt){W(i,c,tt)}}var a=i.return;try{Rj(i)}catch(tt){W(i,a,tt)}break;case 5:var d=i.return;try{Rj(i)}catch(tt){W(i,d,tt)}}}catch(tt){W(i,i.return,tt)}if(i===e){V=null;break}var ut=i.sibling;if(ut!==null){ut.return=i.return,V=ut;break}V=i.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,i,s,o){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,s,o),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=s),T===4&&Ck(e,Z)),Dk(e,o),s===1&&K===0&&!(i.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,i){var s=e.callbackNode;wc(e,i);var o=uc(e,e===Q?Z:0);if(o===0)s!==null&&bc(s),e.callbackNode=null,e.callbackPriority=0;else if(i=o&-o,e.callbackPriority!==i){if(s!=null&&bc(s),i===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(o)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Fk(s,Gk.bind(null,e))}e.callbackPriority=i,e.callbackNode=s}}function Gk(e,i){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var s=e.callbackNode;if(Hk()&&e.callbackNode!==s)return null;var o=uc(e,e===Q?Z:0);if(o===0)return null;if(o&30||o&e.expiredLanes||i)i=Ik(e,o);else{i=o;var c=K;K|=2;var a=Jk();(Q!==e||Z!==i)&&(uk=null,Gj=B()+500,Kk(e,i));do try{Lk();break}catch(ut){Mk(e,ut)}while(!0);$g(),mk.current=a,K=c,Y!==null?i=0:(Q=null,Z=0,i=T)}if(i!==0){if(i===2&&(c=xc(e),c!==0&&(o=c,i=Nk(e,c))),i===1)throw s=pk,Kk(e,0),Ck(e,o),Dk(e,B()),s;if(i===6)Ck(e,o);else{if(c=e.current.alternate,!(o&30)&&!Ok(c)&&(i=Ik(e,o),i===2&&(a=xc(e),a!==0&&(o=a,i=Nk(e,a))),i===1))throw s=pk,Kk(e,0),Ck(e,o),Dk(e,B()),s;switch(e.finishedWork=c,e.finishedLanes=o,i){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,o),(o&130023424)===o&&(i=fk+500-B(),10<i)){if(uc(e,0)!==0)break;if(c=e.suspendedLanes,(c&o)!==o){R(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),i);break}Pk(e,tk,uk);break;case 4:if(Ck(e,o),(o&4194240)===o)break;for(i=e.eventTimes,c=-1;0<o;){var d=31-oc(o);a=1<<d,d=i[d],d>c&&(c=d),o&=~a}if(o=c,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lk(o/1960))-o,10<o){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),o);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===s?Gk.bind(null,e):null}function Nk(e,i){var s=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,i).flags|=256),e=Ik(e,i),e!==2&&(i=tk,tk=s,i!==null&&Fj(i)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var i=e;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var c=s[o],a=c.getSnapshot;c=c.value;try{if(!He(a(),c))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ck(e,i){for(i&=~rk,i&=~qk,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var s=31-oc(i),o=1<<s;e[s]=-1,i&=~o}}function Ek(e){if(K&6)throw Error(p(327));Hk();var i=uc(e,0);if(!(i&1))return Dk(e,B()),null;var s=Ik(e,i);if(e.tag!==0&&s===2){var o=xc(e);o!==0&&(i=o,s=Nk(e,o))}if(s===1)throw s=pk,Kk(e,0),Ck(e,i),Dk(e,B()),s;if(s===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,i){var s=K;K|=1;try{return e(i)}finally{K=s,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var i=K;K|=1;var s=ok.transition,o=C;try{if(ok.transition=null,C=1,e)return e()}finally{C=o,ok.transition=s,K=i,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,i){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var o=s;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(o);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(o.type._context);break;case 22:case 23:Hj()}s=s.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=i,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(i=0;i<fh.length;i++)if(s=fh[i],o=s.interleaved,o!==null){s.interleaved=null;var c=o.next,a=s.pending;if(a!==null){var d=a.next;a.next=c,o.next=d}s.pending=o}fh=null}return e}function Mk(e,i){do{var s=Y;try{if($g(),Fh.current=Rh,Ih){for(var o=M.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,s===null||s.return===null){T=1,pk=i,Y=null;break}e:{var a=e,d=s.return,ut=s,tt=i;if(i=Z,ut.flags|=32768,tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var st=tt,_e=ut,yt=_e.tag;if(!(_e.mode&1)&&(yt===0||yt===11||yt===15)){var ft=_e.alternate;ft?(_e.updateQueue=ft.updateQueue,_e.memoizedState=ft.memoizedState,_e.lanes=ft.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var dt=Ui(d);if(dt!==null){dt.flags&=-257,Vi(dt,d,ut,a,i),dt.mode&1&&Si(a,st,i),i=dt,tt=st;var lt=i.updateQueue;if(lt===null){var mt=new Set;mt.add(tt),i.updateQueue=mt}else lt.add(tt);break e}else{if(!(i&1)){Si(a,st,i),tj();break e}tt=Error(p(426))}}else if(I&&ut.mode&1){var gt=Ui(d);if(gt!==null){!(gt.flags&65536)&&(gt.flags|=256),Vi(gt,d,ut,a,i),Jg(Ji(tt,ut));break e}}a=tt=Ji(tt,ut),T!==4&&(T=2),sk===null?sk=[a]:sk.push(a),a=d;do{switch(a.tag){case 3:a.flags|=65536,i&=-i,a.lanes|=i;var g=Ni(a,tt,i);ph(a,g);break e;case 1:ut=tt;var _=a.type,at=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||at!==null&&typeof at.componentDidCatch=="function"&&(Ri===null||!Ri.has(at)))){a.flags|=65536,i&=-i,a.lanes|=i;var ht=Qi(a,ut,i);ph(a,ht);break e}}a=a.return}while(a!==null)}Sk(s)}catch(j){i=j,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,i){var s=K;K|=2;var o=Jk();(Q!==e||Z!==i)&&(uk=null,Kk(e,i));do try{Tk();break}catch(c){Mk(e,c)}while(!0);if($g(),K=s,mk.current=o,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var i=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,i===null?Sk(e):Y=i,nk.current=null}function Sk(e){var i=e;do{var s=i.alternate;if(e=i.return,i.flags&32768){if(s=Ij(s,i),s!==null){s.flags&=32767,Y=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(s=Ej(s,i,fj),s!==null){Y=s;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=e}while(i!==null);T===0&&(T=5)}function Pk(e,i,s){var o=C,c=ok.transition;try{ok.transition=null,C=1,Wk(e,i,s,o)}finally{ok.transition=c,C=o}return null}function Wk(e,i,s,o){do Hk();while(wk!==null);if(K&6)throw Error(p(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(Bc(e,a),e===Q&&(Y=Q=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=ok.transition,ok.transition=null;var d=C;C=1;var ut=K;K|=4,nk.current=null,Oj(e,s),dk(s,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=s,hk(s),dc(),K=ut,C=d,ok.transition=a}else e.current=s;if(vk&&(vk=!1,wk=e,xk=c),a=e.pendingLanes,a===0&&(Ri=null),mc(s.stateNode),Dk(e,B()),i!==null)for(o=e.onRecoverableError,s=0;s<i.length;s++)c=i[s],o(c.value,{componentStack:c.stack,digest:c.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),a=e.pendingLanes,a&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),i=ok.transition,s=C;try{if(ok.transition=null,C=16>e?16:e,wk===null)var o=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var c=K;for(K|=4,V=e.current;V!==null;){var a=V,d=a.child;if(V.flags&16){var ut=a.deletions;if(ut!==null){for(var tt=0;tt<ut.length;tt++){var st=ut[tt];for(V=st;V!==null;){var _e=V;switch(_e.tag){case 0:case 11:case 15:Pj(8,_e,a)}var yt=_e.child;if(yt!==null)yt.return=_e,V=yt;else for(;V!==null;){_e=V;var ft=_e.sibling,dt=_e.return;if(Sj(_e),_e===st){V=null;break}if(ft!==null){ft.return=dt,V=ft;break}V=dt}}}var lt=a.alternate;if(lt!==null){var mt=lt.child;if(mt!==null){lt.child=null;do{var gt=mt.sibling;mt.sibling=null,mt=gt}while(mt!==null)}}V=a}}if(a.subtreeFlags&2064&&d!==null)d.return=a,V=d;else e:for(;V!==null;){if(a=V,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pj(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,V=g;break e}V=a.return}}var _=e.current;for(V=_;V!==null;){d=V;var at=d.child;if(d.subtreeFlags&2064&&at!==null)at.return=d,V=at;else e:for(d=_;V!==null;){if(ut=V,ut.flags&2048)try{switch(ut.tag){case 0:case 11:case 15:Qj(9,ut)}}catch(j){W(ut,ut.return,j)}if(ut===d){V=null;break e}var ht=ut.sibling;if(ht!==null){ht.return=ut.return,V=ht;break e}V=ut.return}}if(K=c,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}o=!0}return o}finally{C=s,ok.transition=i}}return!1}function Xk(e,i,s){i=Ji(s,i),i=Ni(e,i,1),e=nh(e,i,1),i=R(),e!==null&&(Ac(e,1,i),Dk(e,i))}function W(e,i,s){if(e.tag===3)Xk(e,e,s);else for(;i!==null;){if(i.tag===3){Xk(i,e,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){e=Ji(s,e),e=Qi(i,e,1),i=nh(i,e,1),e=R(),i!==null&&(Ac(i,1,e),Dk(i,e));break}}i=i.return}}function Ti(e,i,s){var o=e.pingCache;o!==null&&o.delete(i),i=R(),e.pingedLanes|=e.suspendedLanes&s,Q===e&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=s),Dk(e,i)}function Yk(e,i){i===0&&(e.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var s=R();e=ih(e,i),e!==null&&(Ac(e,i,s),Dk(e,s))}function uj(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Yk(e,s)}function bk(e,i){var s=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(i),Yk(e,s)}var Vk;Vk=function(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&s)&&!(i.flags&128))return dh=!1,yj(e,i,s);dh=!!(e.flags&131072)}else dh=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var o=i.type;ij(e,i),e=i.pendingProps;var c=Yf(i,H.current);ch(i,s),c=Nh(null,i,o,e,c,s);var a=Sh();return i.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(o)?(a=!0,cg(i)):a=!1,i.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,kh(i),c.updater=Ei,i.stateNode=c,c._reactInternals=i,Ii(i,o,e,s),i=jj(null,i,o,!0,a,s)):(i.tag=0,I&&a&&vg(i),Xi(null,i,c,s),i=i.child),i;case 16:o=i.elementType;e:{switch(ij(e,i),e=i.pendingProps,c=o._init,o=c(o._payload),i.type=o,c=i.tag=Zk(o),e=Ci(o,e),c){case 0:i=cj(null,i,o,e,s);break e;case 1:i=hj(null,i,o,e,s);break e;case 11:i=Yi(null,i,o,e,s);break e;case 14:i=$i(null,i,o,Ci(o.type,e),s);break e}throw Error(p(306,o,""))}return i;case 0:return o=i.type,c=i.pendingProps,c=i.elementType===o?c:Ci(o,c),cj(e,i,o,c,s);case 1:return o=i.type,c=i.pendingProps,c=i.elementType===o?c:Ci(o,c),hj(e,i,o,c,s);case 3:e:{if(kj(i),e===null)throw Error(p(387));o=i.pendingProps,a=i.memoizedState,c=a.element,lh(e,i),qh(i,o,null,s);var d=i.memoizedState;if(o=d.element,a.isDehydrated)if(a={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},i.updateQueue.baseState=a,i.memoizedState=a,i.flags&256){c=Ji(Error(p(423)),i),i=lj(e,i,o,s,c);break e}else if(o!==c){c=Ji(Error(p(424)),i),i=lj(e,i,o,s,c);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,s=Vg(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),o===c){i=Zi(e,i,s);break e}Xi(e,i,o,s)}i=i.child}return i;case 5:return Ah(i),e===null&&Eg(i),o=i.type,c=i.pendingProps,a=e!==null?e.memoizedProps:null,d=c.children,Ef(o,c)?d=null:a!==null&&Ef(o,a)&&(i.flags|=32),gj(e,i),Xi(e,i,d,s),i.child;case 6:return e===null&&Eg(i),null;case 13:return oj(e,i,s);case 4:return yh(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Ug(i,null,o,s):Xi(e,i,o,s),i.child;case 11:return o=i.type,c=i.pendingProps,c=i.elementType===o?c:Ci(o,c),Yi(e,i,o,c,s);case 7:return Xi(e,i,i.pendingProps,s),i.child;case 8:return Xi(e,i,i.pendingProps.children,s),i.child;case 12:return Xi(e,i,i.pendingProps.children,s),i.child;case 10:e:{if(o=i.type._context,c=i.pendingProps,a=i.memoizedProps,d=c.value,G(Wg,o._currentValue),o._currentValue=d,a!==null)if(He(a.value,d)){if(a.children===c.children&&!Wf.current){i=Zi(e,i,s);break e}}else for(a=i.child,a!==null&&(a.return=i);a!==null;){var ut=a.dependencies;if(ut!==null){d=a.child;for(var tt=ut.firstContext;tt!==null;){if(tt.context===o){if(a.tag===1){tt=mh(-1,s&-s),tt.tag=2;var st=a.updateQueue;if(st!==null){st=st.shared;var _e=st.pending;_e===null?tt.next=tt:(tt.next=_e.next,_e.next=tt),st.pending=tt}}a.lanes|=s,tt=a.alternate,tt!==null&&(tt.lanes|=s),bh(a.return,s,i),ut.lanes|=s;break}tt=tt.next}}else if(a.tag===10)d=a.type===i.type?null:a.child;else if(a.tag===18){if(d=a.return,d===null)throw Error(p(341));d.lanes|=s,ut=d.alternate,ut!==null&&(ut.lanes|=s),bh(d,s,i),d=a.sibling}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===i){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}Xi(e,i,c.children,s),i=i.child}return i;case 9:return c=i.type,o=i.pendingProps.children,ch(i,s),c=eh(c),o=o(c),i.flags|=1,Xi(e,i,o,s),i.child;case 14:return o=i.type,c=Ci(o,i.pendingProps),c=Ci(o.type,c),$i(e,i,o,c,s);case 15:return bj(e,i,i.type,i.pendingProps,s);case 17:return o=i.type,c=i.pendingProps,c=i.elementType===o?c:Ci(o,c),ij(e,i),i.tag=1,Zf(o)?(e=!0,cg(i)):e=!1,ch(i,s),Gi(i,o,c),Ii(i,o,c,s),jj(null,i,o,!0,e,s);case 19:return xj(e,i,s);case 22:return dj(e,i,s)}throw Error(p(156,i.tag))};function Fk(e,i){return ac(e,i)}function $k(e,i,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,i,s,o){return new $k(e,i,s,o)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,i){var s=e.alternate;return s===null?(s=Bg(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Rg(e,i,s,o,c,a){var d=2;if(o=e,typeof e=="function")aj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Tg(s.children,c,a,i);case za:d=8,c|=8;break;case Aa:return e=Bg(12,s,i,c|2),e.elementType=Aa,e.lanes=a,e;case Ea:return e=Bg(13,s,i,c),e.elementType=Ea,e.lanes=a,e;case Fa:return e=Bg(19,s,i,c),e.elementType=Fa,e.lanes=a,e;case Ia:return pj(s,c,a,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,o=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return i=Bg(d,s,i,c),i.elementType=e,i.type=o,i.lanes=a,i}function Tg(e,i,s,o){return e=Bg(7,e,o,i),e.lanes=s,e}function pj(e,i,s,o){return e=Bg(22,e,o,i),e.elementType=Ia,e.lanes=s,e.stateNode={isHidden:!1},e}function Qg(e,i,s){return e=Bg(6,e,null,i),e.lanes=s,e}function Sg(e,i,s){return i=Bg(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function al(e,i,s,o,c){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function bl(e,i,s,o,c,a,d,ut,tt){return e=new al(e,i,s,ut,tt),i===1?(i=1,a===!0&&(i|=8)):i=0,a=Bg(3,null,null,i),e.current=a,a.stateNode=e,a.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(a),e}function cl(e,i,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:e,containerInfo:i,implementation:s}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p(171))}if(e.tag===1){var s=e.type;if(Zf(s))return bg(e,s,i)}return i}function el(e,i,s,o,c,a,d,ut,tt){return e=bl(s,o,!0,e,c,a,d,ut,tt),e.context=dl(null),s=e.current,o=R(),c=yi(s),a=mh(o,c),a.callback=i??null,nh(s,a,c),e.current.lanes=c,Ac(e,c,o),Dk(e,o),e}function fl(e,i,s,o){var c=i.current,a=R(),d=yi(c);return s=dl(s),i.context===null?i.context=s:i.pendingContext=s,i=mh(a,d),i.payload={element:e},o=o===void 0?null:o,o!==null&&(i.callback=o),e=nh(c,i,d),e!==null&&(gi(e,c,d,a),oh(e,c,d)),d}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function il(e,i){hl(e,i),(e=e.alternate)&&hl(e,i)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(p(409));fl(e,i,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Rk(function(){fl(null,e,null,null)}),i[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var i=Hc();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Qc.length&&i!==0&&i<Qc[s].priority;s++);Qc.splice(s,0,e),s===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,i,s,o,c){if(c){if(typeof o=="function"){var a=o;o=function(){var st=gl(d);a.call(st)}}var d=el(i,o,e,0,null,!1,!1,"",pl);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Rk(),d}for(;c=e.lastChild;)e.removeChild(c);if(typeof o=="function"){var ut=o;o=function(){var st=gl(tt);ut.call(st)}}var tt=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=tt,e[uf]=tt.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(i,tt,s,o)}),tt}function rl(e,i,s,o,c){var a=s._reactRootContainer;if(a){var d=a;if(typeof c=="function"){var ut=c;c=function(){var tt=gl(d);ut.call(tt)}}fl(i,d,e,c)}else d=ql(s,i,e,c,o);return gl(d)}Ec=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var s=tc(i.pendingLanes);s!==0&&(Cc(i,s|1),Dk(i,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var o=ih(e,1);if(o!==null){var c=R();gi(o,e,1,c)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var i=ih(e,134217728);if(i!==null){var s=R();gi(i,e,134217728,s)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var i=yi(e),s=ih(e,i);if(s!==null){var o=R();gi(s,e,i,o)}il(e,i)}};Hc=function(){return C};Ic=function(e,i){var s=C;try{return C=e,i()}finally{C=s}};yb=function(e,i,s){switch(i){case"input":if(bb(e,s),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==e&&o.form===e.form){var c=Db(o);if(!c)throw Error(p(90));Wa(o),bb(o,c)}}}break;case"textarea":ib(e,s);break;case"select":i=s.value,i!=null&&fb(e,!!s.multiple,i,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(i))throw Error(p(200));return cl(e,i,null,s)};reactDom_production_min.createRoot=function(e,i){if(!nl(e))throw Error(p(299));var s=!1,o="",c=kl;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),i=bl(e,1,!1,null,null,s,!1,o,c),e[uf]=i.current,sf(e.nodeType===8?e.parentNode:e),new ll(i)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(i),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,i,s){if(!ol(i))throw Error(p(200));return rl(null,e,i,!0,s)};reactDom_production_min.hydrateRoot=function(e,i,s){if(!nl(e))throw Error(p(405));var o=s!=null&&s.hydratedSources||null,c=!1,a="",d=kl;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),i=el(i,null,e,1,s??null,c,!1,a,d),e[uf]=i.current,sf(e),o)for(e=0;e<o.length;e++)s=o[e],c=s._getVersion,c=c(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,c]:i.mutableSourceEagerHydrationData.push(s,c);return new ml(i)};reactDom_production_min.render=function(e,i,s){if(!ol(i))throw Error(p(200));return rl(null,e,i,!1,s)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,i,s,o){if(!ol(s))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,i,s,!1,o)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,i)=>{const s=reactExports.forwardRef(({color:o="currentColor",size:c=24,strokeWidth:a=2,absoluteStrokeWidth:d,className:ut="",children:tt,...st},_e)=>reactExports.createElement("svg",{ref:_e,...defaultAttributes,width:c,height:c,stroke:o,strokeWidth:d?Number(a)*24/Number(c):a,className:["lucide",`lucide-${toKebabCase(e)}`,ut].join(" "),...st},[...i.map(([yt,ft])=>reactExports.createElement(yt,ft)),...Array.isArray(tt)?tt:[tt]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Briefcase=createLucideIcon("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Camera=createLucideIcon("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cloud=createLucideIcon("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Code2=createLucideIcon("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Code=createLucideIcon("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Database=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Github=createLucideIcon("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Globe=createLucideIcon("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Layers=createLucideIcon("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Linkedin=createLucideIcon("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Palette=createLucideIcon("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PenLine=createLucideIcon("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Server=createLucideIcon("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var lib={exports:{}},core_min={};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,s){module.exports=i.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i)=>{var wr;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=St,i.bytesToString=un,i.createValidAbsoluteUrl=Vt,i.getModificationDate=xn,i.getUuid=Wn,i.getVerbosityLevel=jt,i.info=Xt,i.isArrayBuffer=$t,i.isArrayEqual=Tn,i.isNodeJS=void 0,i.normalizeUnicode=In,i.objectFromMap=_n,i.objectSize=yn,i.setVerbosityLevel=sn,i.shadow=wt,i.string32=pn,i.stringToBytes=dn,i.stringToPDFString=hn,i.stringToUTF8String=Sn,i.unreachable=Ot,i.utf8StringToString=mn,i.warn=Nt;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=s;const o=[1,0,0,1,0,0];i.IDENTITY_MATRIX=o;const c=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=c;const a=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=a;const d=1.35;i.LINE_FACTOR=d;const ut=.35;i.LINE_DESCENT_FACTOR=ut;const tt=ut/d;i.BASELINE_FACTOR=tt;const st={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=st;const _e={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=_e;const yt="pdfjs_internal_editor_";i.AnnotationEditorPrefix=yt;const ft={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=ft;const dt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=dt;const lt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=lt;const mt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=mt;const gt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=gt;const g={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=g;const _={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=_;const at={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=at;const ht={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=ht;const j={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=j;const it={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=it;const $={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=$;const rt={O:"PageOpen",C:"PageClose"};i.PageActionEventType=rt;const ct={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=ct;const At={NONE:0,BINARY:1};i.CMapCompressionType=At;const ot={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=ot;const Et={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=Et;let Tt=ct.WARNINGS;function sn(gn){Number.isInteger(gn)&&(Tt=gn)}function jt(){return Tt}function Xt(gn){Tt>=ct.INFOS&&console.log(`Info: ${gn}`)}function Nt(gn){Tt>=ct.WARNINGS&&console.log(`Warning: ${gn}`)}function Ot(gn){throw new Error(gn)}function St(gn,qt){gn||Ot(qt)}function Lt(gn){switch(gn==null?void 0:gn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Vt(gn,qt=null,Kt=null){if(!gn)return null;try{if(Kt&&typeof gn=="string"){if(Kt.addDefaultProtocol&&gn.startsWith("www.")){const jn=gn.match(/\./g);(jn==null?void 0:jn.length)>=2&&(gn=`http://${gn}`)}if(Kt.tryConvertEncoding)try{gn=Sn(gn)}catch{}}const Dn=qt?new URL(gn,qt):new URL(gn);if(Lt(Dn))return Dn}catch{}return null}function wt(gn,qt,Kt,Dn=!1){return Object.defineProperty(gn,qt,{value:Kt,enumerable:!Dn,configurable:!0,writable:!1}),Kt}const et=function(){function qt(Kt,Dn){this.constructor===qt&&Ot("Cannot initialize BaseException."),this.message=Kt,this.name=Dn}return qt.prototype=new Error,qt.constructor=qt,qt}();i.BaseException=et;class nt extends et{constructor(qt,Kt){super(qt,"PasswordException"),this.code=Kt}}i.PasswordException=nt;class vt extends et{constructor(qt,Kt){super(qt,"UnknownErrorException"),this.details=Kt}}i.UnknownErrorException=vt;class xt extends et{constructor(qt){super(qt,"InvalidPDFException")}}i.InvalidPDFException=xt;class Pt extends et{constructor(qt){super(qt,"MissingPDFException")}}i.MissingPDFException=Pt;class Ct extends et{constructor(qt,Kt){super(qt,"UnexpectedResponseException"),this.status=Kt}}i.UnexpectedResponseException=Ct;class Ht extends et{constructor(qt){super(qt,"FormatError")}}i.FormatError=Ht;class an extends et{constructor(qt){super(qt,"AbortException")}}i.AbortException=an;function un(gn){(typeof gn!="object"||(gn==null?void 0:gn.length)===void 0)&&Ot("Invalid argument for bytesToString");const qt=gn.length,Kt=8192;if(qt<Kt)return String.fromCharCode.apply(null,gn);const Dn=[];for(let jn=0;jn<qt;jn+=Kt){const qn=Math.min(jn+Kt,qt),Mt=gn.subarray(jn,qn);Dn.push(String.fromCharCode.apply(null,Mt))}return Dn.join("")}function dn(gn){typeof gn!="string"&&Ot("Invalid argument for stringToBytes");const qt=gn.length,Kt=new Uint8Array(qt);for(let Dn=0;Dn<qt;++Dn)Kt[Dn]=gn.charCodeAt(Dn)&255;return Kt}function pn(gn){return String.fromCharCode(gn>>24&255,gn>>16&255,gn>>8&255,gn&255)}function yn(gn){return Object.keys(gn).length}function _n(gn){const qt=Object.create(null);for(const[Kt,Dn]of gn)qt[Kt]=Dn;return qt}function Zt(){const gn=new Uint8Array(4);return gn[0]=1,new Uint32Array(gn.buffer,0,1)[0]===1}function en(){try{return new Function(""),!0}catch{return!1}}class _t{static get isLittleEndian(){return wt(this,"isLittleEndian",Zt())}static get isEvalSupported(){return wt(this,"isEvalSupported",en())}static get isOffscreenCanvasSupported(){return wt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?wt(this,"platform",{isWin:!1,isMac:!1}):wt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var qt,Kt;return wt(this,"isCSSRoundSupported",(Kt=(qt=globalThis.CSS)==null?void 0:qt.supports)==null?void 0:Kt.call(qt,"width: round(1.5px, 1px)"))}}i.FeatureTest=_t;const Rt=[...Array(256).keys()].map(gn=>gn.toString(16).padStart(2,"0"));class Gt{static makeHexColor(qt,Kt,Dn){return`#${Rt[qt]}${Rt[Kt]}${Rt[Dn]}`}static scaleMinMax(qt,Kt){let Dn;qt[0]?(qt[0]<0&&(Dn=Kt[0],Kt[0]=Kt[1],Kt[1]=Dn),Kt[0]*=qt[0],Kt[1]*=qt[0],qt[3]<0&&(Dn=Kt[2],Kt[2]=Kt[3],Kt[3]=Dn),Kt[2]*=qt[3],Kt[3]*=qt[3]):(Dn=Kt[0],Kt[0]=Kt[2],Kt[2]=Dn,Dn=Kt[1],Kt[1]=Kt[3],Kt[3]=Dn,qt[1]<0&&(Dn=Kt[2],Kt[2]=Kt[3],Kt[3]=Dn),Kt[2]*=qt[1],Kt[3]*=qt[1],qt[2]<0&&(Dn=Kt[0],Kt[0]=Kt[1],Kt[1]=Dn),Kt[0]*=qt[2],Kt[1]*=qt[2]),Kt[0]+=qt[4],Kt[1]+=qt[4],Kt[2]+=qt[5],Kt[3]+=qt[5]}static transform(qt,Kt){return[qt[0]*Kt[0]+qt[2]*Kt[1],qt[1]*Kt[0]+qt[3]*Kt[1],qt[0]*Kt[2]+qt[2]*Kt[3],qt[1]*Kt[2]+qt[3]*Kt[3],qt[0]*Kt[4]+qt[2]*Kt[5]+qt[4],qt[1]*Kt[4]+qt[3]*Kt[5]+qt[5]]}static applyTransform(qt,Kt){const Dn=qt[0]*Kt[0]+qt[1]*Kt[2]+Kt[4],jn=qt[0]*Kt[1]+qt[1]*Kt[3]+Kt[5];return[Dn,jn]}static applyInverseTransform(qt,Kt){const Dn=Kt[0]*Kt[3]-Kt[1]*Kt[2],jn=(qt[0]*Kt[3]-qt[1]*Kt[2]+Kt[2]*Kt[5]-Kt[4]*Kt[3])/Dn,qn=(-qt[0]*Kt[1]+qt[1]*Kt[0]+Kt[4]*Kt[1]-Kt[5]*Kt[0])/Dn;return[jn,qn]}static getAxialAlignedBoundingBox(qt,Kt){const Dn=this.applyTransform(qt,Kt),jn=this.applyTransform(qt.slice(2,4),Kt),qn=this.applyTransform([qt[0],qt[3]],Kt),Mt=this.applyTransform([qt[2],qt[1]],Kt);return[Math.min(Dn[0],jn[0],qn[0],Mt[0]),Math.min(Dn[1],jn[1],qn[1],Mt[1]),Math.max(Dn[0],jn[0],qn[0],Mt[0]),Math.max(Dn[1],jn[1],qn[1],Mt[1])]}static inverseTransform(qt){const Kt=qt[0]*qt[3]-qt[1]*qt[2];return[qt[3]/Kt,-qt[1]/Kt,-qt[2]/Kt,qt[0]/Kt,(qt[2]*qt[5]-qt[4]*qt[3])/Kt,(qt[4]*qt[1]-qt[5]*qt[0])/Kt]}static singularValueDecompose2dScale(qt){const Kt=[qt[0],qt[2],qt[1],qt[3]],Dn=qt[0]*Kt[0]+qt[1]*Kt[2],jn=qt[0]*Kt[1]+qt[1]*Kt[3],qn=qt[2]*Kt[0]+qt[3]*Kt[2],Mt=qt[2]*Kt[1]+qt[3]*Kt[3],fn=(Dn+Mt)/2,Pn=Math.sqrt((Dn+Mt)**2-4*(Dn*Mt-qn*jn))/2,zn=fn+Pn||1,Hn=fn-Pn||1;return[Math.sqrt(zn),Math.sqrt(Hn)]}static normalizeRect(qt){const Kt=qt.slice(0);return qt[0]>qt[2]&&(Kt[0]=qt[2],Kt[2]=qt[0]),qt[1]>qt[3]&&(Kt[1]=qt[3],Kt[3]=qt[1]),Kt}static intersect(qt,Kt){const Dn=Math.max(Math.min(qt[0],qt[2]),Math.min(Kt[0],Kt[2])),jn=Math.min(Math.max(qt[0],qt[2]),Math.max(Kt[0],Kt[2]));if(Dn>jn)return null;const qn=Math.max(Math.min(qt[1],qt[3]),Math.min(Kt[1],Kt[3])),Mt=Math.min(Math.max(qt[1],qt[3]),Math.max(Kt[1],Kt[3]));return qn>Mt?null:[Dn,qn,jn,Mt]}static bezierBoundingBox(qt,Kt,Dn,jn,qn,Mt,fn,Pn){const zn=[],Hn=[[],[]];let Ln,kt,bt,Bt,ln,cn,vn,An;for(let sr=0;sr<2;++sr){if(sr===0?(kt=6*qt-12*Dn+6*qn,Ln=-3*qt+9*Dn-9*qn+3*fn,bt=3*Dn-3*qt):(kt=6*Kt-12*jn+6*Mt,Ln=-3*Kt+9*jn-9*Mt+3*Pn,bt=3*jn-3*Kt),Math.abs(Ln)<1e-12){if(Math.abs(kt)<1e-12)continue;Bt=-bt/kt,0<Bt&&Bt<1&&zn.push(Bt);continue}vn=kt*kt-4*bt*Ln,An=Math.sqrt(vn),!(vn<0)&&(ln=(-kt+An)/(2*Ln),0<ln&&ln<1&&zn.push(ln),cn=(-kt-An)/(2*Ln),0<cn&&cn<1&&zn.push(cn))}let Bn=zn.length,On;const Mn=Bn;for(;Bn--;)Bt=zn[Bn],On=1-Bt,Hn[0][Bn]=On*On*On*qt+3*On*On*Bt*Dn+3*On*Bt*Bt*qn+Bt*Bt*Bt*fn,Hn[1][Bn]=On*On*On*Kt+3*On*On*Bt*jn+3*On*Bt*Bt*Mt+Bt*Bt*Bt*Pn;return Hn[0][Mn]=qt,Hn[1][Mn]=Kt,Hn[0][Mn+1]=fn,Hn[1][Mn+1]=Pn,Hn[0].length=Hn[1].length=Mn+2,[Math.min(...Hn[0]),Math.min(...Hn[1]),Math.max(...Hn[0]),Math.max(...Hn[1])]}}i.Util=Gt;const tn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function hn(gn){if(gn[0]>="ï"){let Kt;if(gn[0]==="þ"&&gn[1]==="ÿ"?Kt="utf-16be":gn[0]==="ÿ"&&gn[1]==="þ"?Kt="utf-16le":gn[0]==="ï"&&gn[1]==="»"&&gn[2]==="¿"&&(Kt="utf-8"),Kt)try{const Dn=new TextDecoder(Kt,{fatal:!0}),jn=dn(gn);return Dn.decode(jn)}catch(Dn){Nt(`stringToPDFString: "${Dn}".`)}}const qt=[];for(let Kt=0,Dn=gn.length;Kt<Dn;Kt++){const jn=tn[gn.charCodeAt(Kt)];qt.push(jn?String.fromCharCode(jn):gn.charAt(Kt))}return qt.join("")}function Sn(gn){return decodeURIComponent(escape(gn))}function mn(gn){return unescape(encodeURIComponent(gn))}function $t(gn){return typeof gn=="object"&&(gn==null?void 0:gn.byteLength)!==void 0}function Tn(gn,qt){if(gn.length!==qt.length)return!1;for(let Kt=0,Dn=gn.length;Kt<Dn;Kt++)if(gn[Kt]!==qt[Kt])return!1;return!0}function xn(gn=new Date){return[gn.getUTCFullYear().toString(),(gn.getUTCMonth()+1).toString().padStart(2,"0"),gn.getUTCDate().toString().padStart(2,"0"),gn.getUTCHours().toString().padStart(2,"0"),gn.getUTCMinutes().toString().padStart(2,"0"),gn.getUTCSeconds().toString().padStart(2,"0")].join("")}class nr{constructor(){rn(this,wr,!1);this.promise=new Promise((qt,Kt)=>{this.resolve=Dn=>{on(this,wr,!0),qt(Dn)},this.reject=Dn=>{on(this,wr,!0),Kt(Dn)}})}get settled(){return h(this,wr)}}wr=new WeakMap,i.PromiseCapability=nr;let Yn=null,fr=null;function In(gn){return Yn||(Yn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,fr=new Map([["ﬅ","ſt"]])),gn.replaceAll(Yn,(qt,Kt,Dn)=>Kt?Kt.normalize("NFKC"):fr.get(Dn))}function Wn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const gn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(gn);else for(let qt=0;qt<32;qt++)gn[qt]=Math.floor(Math.random()*255);return un(gn)}const ar="pdfjs_internal_id_";i.AnnotationPrefix=ar},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,s,o,c,_s,Hs,ut,tt,st,_e,yt,ft,dt,lt,mt,Vs,g,_,mo,ht,j;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument($){if(typeof $=="string"||$ instanceof URL?$={url:$}:(0,_util.isArrayBuffer)($)&&($={data:$}),typeof $!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!$.url&&!$.data&&!$.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const rt=new PDFDocumentLoadingTask,{docId:ct}=rt,At=$.url?getUrlProp($.url):null,ot=$.data?getDataProp($.data):null,Et=$.httpHeaders||null,Tt=$.withCredentials===!0,sn=$.password??null,jt=$.range instanceof PDFDataRangeTransport?$.range:null,Xt=Number.isInteger($.rangeChunkSize)&&$.rangeChunkSize>0?$.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Nt=$.worker instanceof PDFWorker?$.worker:null;const Ot=$.verbosity,St=typeof $.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)($.docBaseUrl)?$.docBaseUrl:null,Lt=typeof $.cMapUrl=="string"?$.cMapUrl:null,Vt=$.cMapPacked!==!1,wt=$.CMapReaderFactory||DefaultCMapReaderFactory,et=typeof $.standardFontDataUrl=="string"?$.standardFontDataUrl:null,nt=$.StandardFontDataFactory||DefaultStandardFontDataFactory,vt=$.stopAtErrors!==!0,xt=Number.isInteger($.maxImageSize)&&$.maxImageSize>-1?$.maxImageSize:-1,Pt=$.isEvalSupported!==!1,Ct=typeof $.isOffscreenCanvasSupported=="boolean"?$.isOffscreenCanvasSupported:!_util.isNodeJS,Ht=Number.isInteger($.canvasMaxAreaInBytes)?$.canvasMaxAreaInBytes:-1,an=typeof $.disableFontFace=="boolean"?$.disableFontFace:_util.isNodeJS,un=$.fontExtraProperties===!0,dn=$.enableXfa===!0,pn=$.ownerDocument||globalThis.document,yn=$.disableRange===!0,_n=$.disableStream===!0,Zt=$.disableAutoFetch===!0,en=$.pdfBug===!0,_t=jt?jt.length:$.length??NaN,Rt=typeof $.useSystemFonts=="boolean"?$.useSystemFonts:!_util.isNodeJS&&!an,Gt=typeof $.useWorkerFetch=="boolean"?$.useWorkerFetch:wt===_display_utils.DOMCMapReaderFactory&&nt===_display_utils.DOMStandardFontDataFactory&&Lt&&et&&(0,_display_utils.isValidFetchUrl)(Lt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(et,document.baseURI),tn=$.canvasFactory||new DefaultCanvasFactory({ownerDocument:pn}),hn=$.filterFactory||new DefaultFilterFactory({docId:ct,ownerDocument:pn}),Sn=null;(0,_util.setVerbosityLevel)(Ot);const mn={canvasFactory:tn,filterFactory:hn};if(Gt||(mn.cMapReaderFactory=new wt({baseUrl:Lt,isCompressed:Vt}),mn.standardFontDataFactory=new nt({baseUrl:et})),!Nt){const xn={verbosity:Ot,port:_worker_options.GlobalWorkerOptions.workerPort};Nt=xn.port?PDFWorker.fromPort(xn):new PDFWorker(xn),rt._worker=Nt}const $t={docId:ct,apiVersion:"3.11.174",data:ot,password:sn,disableAutoFetch:Zt,rangeChunkSize:Xt,length:_t,docBaseUrl:St,enableXfa:dn,evaluatorOptions:{maxImageSize:xt,disableFontFace:an,ignoreErrors:vt,isEvalSupported:Pt,isOffscreenCanvasSupported:Ct,canvasMaxAreaInBytes:Ht,fontExtraProperties:un,useSystemFonts:Rt,cMapUrl:Gt?Lt:null,standardFontDataUrl:Gt?et:null}},Tn={ignoreErrors:vt,isEvalSupported:Pt,disableFontFace:an,fontExtraProperties:un,enableXfa:dn,ownerDocument:pn,disableAutoFetch:Zt,pdfBug:en,styleElement:Sn};return Nt.promise.then(function(){if(rt.destroyed)throw new Error("Loading aborted");const xn=_fetchDocument(Nt,$t),nr=new Promise(function(Yn){let fr;jt?fr=new _transport_stream.PDFDataTransportStream({length:_t,initialData:jt.initialData,progressiveDone:jt.progressiveDone,contentDispositionFilename:jt.contentDispositionFilename,disableRange:yn,disableStream:_n},jt):ot||(fr=(Wn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Wn):(0,_display_utils.isValidFetchUrl)(Wn.url)?new _displayFetch_stream.PDFFetchStream(Wn):new _displayNetwork.PDFNetworkStream(Wn))({url:At,length:_t,httpHeaders:Et,withCredentials:Tt,rangeChunkSize:Xt,disableRange:yn,disableStream:_n})),Yn(fr)});return Promise.all([xn,nr]).then(function([Yn,fr]){if(rt.destroyed)throw new Error("Loading aborted");const In=new _message_handler.MessageHandler(ct,Yn,Nt.port),Wn=new WorkerTransport(In,rt,fr,Tn,mn);rt._transport=Wn,In.send("Ready",null)})}).catch(rt._capability.reject),rt}async function _fetchDocument($,rt){if($.destroyed)throw new Error("Worker was destroyed");const ct=await $.messageHandler.sendWithPromise("GetDocRequest",rt,rt.data?[rt.data.buffer]:null);if($.destroyed)throw new Error("Worker was destroyed");return ct}function getUrlProp($){if($ instanceof URL)return $.href;try{return new URL($,window.location).href}catch{if(_util.isNodeJS&&typeof $=="string")return $}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp($){if(_util.isNodeJS&&typeof Buffer<"u"&&$ instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if($ instanceof Uint8Array&&$.byteLength===$.buffer.byteLength)return $;if(typeof $=="string")return(0,_util.stringToBytes)($);if(typeof $=="object"&&!isNaN($==null?void 0:$.length)||(0,_util.isArrayBuffer)($))return new Uint8Array($);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ks(i,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var rt,ct,At;this.destroyed=!0;try{(rt=this._worker)!=null&&rt.port&&(this._worker._pendingDestroy=!0),await((ct=this._transport)==null?void 0:ct.destroy())}catch(ot){throw(At=this._worker)!=null&&At.port&&delete this._worker._pendingDestroy,ot}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,rn(i,e,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(rt,ct,At=!1,ot=null){this.length=rt,this.initialData=ct,this.progressiveDone=At,this.contentDispositionFilename=ot,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(rt){this._rangeListeners.push(rt)}addProgressListener(rt){this._progressListeners.push(rt)}addProgressiveReadListener(rt){this._progressiveReadListeners.push(rt)}addProgressiveDoneListener(rt){this._progressiveDoneListeners.push(rt)}onDataRange(rt,ct){for(const At of this._rangeListeners)At(rt,ct)}onDataProgress(rt,ct){this._readyCapability.promise.then(()=>{for(const At of this._progressListeners)At(rt,ct)})}onDataProgressiveRead(rt){this._readyCapability.promise.then(()=>{for(const ct of this._progressiveReadListeners)ct(rt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const rt of this._progressiveDoneListeners)rt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(rt,ct){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(rt,ct){this._pdfInfo=rt,this._transport=ct,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(At=>{if(!At)return At;const ot=[];for(const Et in At)ot.push(...At[Et]);return ot}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(rt){return this._transport.getPage(rt)}getPageIndex(rt){return this._transport.getPageIndex(rt)}getDestinations(){return this._transport.getDestinations()}getDestination(rt){return this._transport.getDestination(rt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(rt=!1){return this._transport.startCleanup(rt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(rt,ct,At,ot=!1){rn(this,c);rn(this,s,null);rn(this,o,!1);this._pageIndex=rt,this._pageInfo=ct,this._transport=At,this._stats=ot?new _display_utils.StatTimer:null,this._pdfBug=ot,this.commonObjs=At.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:rt,rotation:ct=this.rotate,offsetX:At=0,offsetY:ot=0,dontFlip:Et=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:rt,rotation:ct,offsetX:At,offsetY:ot,dontFlip:Et})}getAnnotations({intent:rt="display"}={}){const ct=this._transport.getRenderingIntent(rt);return this._transport.getAnnotations(this._pageIndex,ct.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var rt;return((rt=this._transport._htmlForXfa)==null?void 0:rt.children[this._pageIndex])||null}render({canvasContext:rt,viewport:ct,intent:At="display",annotationMode:ot=_util.AnnotationMode.ENABLE,transform:Et=null,background:Tt=null,optionalContentConfigPromise:sn=null,annotationCanvasMap:jt=null,pageColors:Xt=null,printAnnotationStorage:Nt=null}){var nt,vt;(nt=this._stats)==null||nt.time("Overall");const Ot=this._transport.getRenderingIntent(At,ot,Nt);on(this,o,!1),Wt(this,c,Hs).call(this),sn||(sn=this._transport.getOptionalContentConfig());let St=this._intentStates.get(Ot.cacheKey);St||(St=Object.create(null),this._intentStates.set(Ot.cacheKey,St)),St.streamReaderCancelTimeout&&(clearTimeout(St.streamReaderCancelTimeout),St.streamReaderCancelTimeout=null);const Lt=!!(Ot.renderingIntent&_util.RenderingIntentFlag.PRINT);St.displayReadyCapability||(St.displayReadyCapability=new _util.PromiseCapability,St.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(vt=this._stats)==null||vt.time("Page Request"),this._pumpOperatorList(Ot));const Vt=xt=>{var Pt,Ct;St.renderTasks.delete(wt),(this._maybeCleanupAfterRender||Lt)&&on(this,o,!0),Wt(this,c,_s).call(this,!Lt),xt?(wt.capability.reject(xt),this._abortOperatorList({intentState:St,reason:xt instanceof Error?xt:new Error(xt)})):wt.capability.resolve(),(Pt=this._stats)==null||Pt.timeEnd("Rendering"),(Ct=this._stats)==null||Ct.timeEnd("Overall")},wt=new InternalRenderTask({callback:Vt,params:{canvasContext:rt,viewport:ct,transform:Et,background:Tt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:jt,operatorList:St.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Lt,pdfBug:this._pdfBug,pageColors:Xt});(St.renderTasks||(St.renderTasks=new Set)).add(wt);const et=wt.task;return Promise.all([St.displayReadyCapability.promise,sn]).then(([xt,Pt])=>{var Ct;if(this.destroyed){Vt();return}(Ct=this._stats)==null||Ct.time("Rendering"),wt.initializeGraphics({transparency:xt,optionalContentConfig:Pt}),wt.operatorListChanged()}).catch(Vt),et}getOperatorList({intent:rt="display",annotationMode:ct=_util.AnnotationMode.ENABLE,printAnnotationStorage:At=null}={}){var jt;function ot(){Tt.operatorList.lastChunk&&(Tt.opListReadCapability.resolve(Tt.operatorList),Tt.renderTasks.delete(sn))}const Et=this._transport.getRenderingIntent(rt,ct,At,!0);let Tt=this._intentStates.get(Et.cacheKey);Tt||(Tt=Object.create(null),this._intentStates.set(Et.cacheKey,Tt));let sn;return Tt.opListReadCapability||(sn=Object.create(null),sn.operatorListChanged=ot,Tt.opListReadCapability=new _util.PromiseCapability,(Tt.renderTasks||(Tt.renderTasks=new Set)).add(sn),Tt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(jt=this._stats)==null||jt.time("Page Request"),this._pumpOperatorList(Et)),Tt.opListReadCapability.promise}streamTextContent({includeMarkedContent:rt=!1,disableNormalization:ct=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:rt===!0,disableNormalization:ct===!0},{highWaterMark:100,size(ot){return ot.items.length}})}getTextContent(rt={}){if(this._transport._htmlForXfa)return this.getXfa().then(At=>_xfa_text.XfaText.textContent(At));const ct=this.streamTextContent(rt);return new Promise(function(At,ot){function Et(){Tt.read().then(function({value:jt,done:Xt}){if(Xt){At(sn);return}Object.assign(sn.styles,jt.styles),sn.items.push(...jt.items),Et()},ot)}const Tt=ct.getReader(),sn={items:[],styles:Object.create(null)};Et()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const rt=[];for(const ct of this._intentStates.values())if(this._abortOperatorList({intentState:ct,reason:new Error("Page was destroyed."),force:!0}),!ct.opListReadCapability)for(const At of ct.renderTasks)rt.push(At.completed),At.cancel();return this.objs.clear(),on(this,o,!1),Wt(this,c,Hs).call(this),Promise.all(rt)}cleanup(rt=!1){on(this,o,!0);const ct=Wt(this,c,_s).call(this,!1);return rt&&ct&&this._stats&&(this._stats=new _display_utils.StatTimer),ct}_startRenderPage(rt,ct){var ot,Et;const At=this._intentStates.get(ct);At&&((ot=this._stats)==null||ot.timeEnd("Page Request"),(Et=At.displayReadyCapability)==null||Et.resolve(rt))}_renderPageChunk(rt,ct){for(let At=0,ot=rt.length;At<ot;At++)ct.operatorList.fnArray.push(rt.fnArray[At]),ct.operatorList.argsArray.push(rt.argsArray[At]);ct.operatorList.lastChunk=rt.lastChunk,ct.operatorList.separateAnnots=rt.separateAnnots;for(const At of ct.renderTasks)At.operatorListChanged();rt.lastChunk&&Wt(this,c,_s).call(this,!0)}_pumpOperatorList({renderingIntent:rt,cacheKey:ct,annotationStorageSerializable:At}){const{map:ot,transfers:Et}=At,sn=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:rt,cacheKey:ct,annotationStorage:ot},Et).getReader(),jt=this._intentStates.get(ct);jt.streamReader=sn;const Xt=()=>{sn.read().then(({value:Nt,done:Ot})=>{if(Ot){jt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Nt,jt),Xt())},Nt=>{if(jt.streamReader=null,!this._transport.destroyed){if(jt.operatorList){jt.operatorList.lastChunk=!0;for(const Ot of jt.renderTasks)Ot.operatorListChanged();Wt(this,c,_s).call(this,!0)}if(jt.displayReadyCapability)jt.displayReadyCapability.reject(Nt);else if(jt.opListReadCapability)jt.opListReadCapability.reject(Nt);else throw Nt}})};Xt()}_abortOperatorList({intentState:rt,reason:ct,force:At=!1}){if(rt.streamReader){if(rt.streamReaderCancelTimeout&&(clearTimeout(rt.streamReaderCancelTimeout),rt.streamReaderCancelTimeout=null),!At){if(rt.renderTasks.size>0)return;if(ct instanceof _display_utils.RenderingCancelledException){let ot=RENDERING_CANCELLED_TIMEOUT;ct.extraDelay>0&&ct.extraDelay<1e3&&(ot+=ct.extraDelay),rt.streamReaderCancelTimeout=setTimeout(()=>{rt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:rt,reason:ct,force:!0})},ot);return}}if(rt.streamReader.cancel(new _util.AbortException(ct.message)).catch(()=>{}),rt.streamReader=null,!this._transport.destroyed){for(const[ot,Et]of this._intentStates)if(Et===rt){this._intentStates.delete(ot);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,o=new WeakMap,c=new WeakSet,_s=function(rt=!1){if(Wt(this,c,Hs).call(this),!h(this,o)||this.destroyed)return!1;if(rt)return on(this,s,setTimeout(()=>{on(this,s,null),Wt(this,c,_s).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ct,operatorList:At}of this._intentStates.values())if(ct.size>0||!At.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),on(this,o,!1),!0},Hs=function(){h(this,s)&&(clearTimeout(h(this,s)),on(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){rn(this,ut,new Set);rn(this,tt,Promise.resolve())}postMessage(rt,ct){const At={data:structuredClone(rt,ct?{transfer:ct}:null)};h(this,tt).then(()=>{for(const ot of h(this,ut))ot.call(this,At)})}addEventListener(rt,ct){h(this,ut).add(ct)}removeEventListener(rt,ct){h(this,ut).delete(ct)}terminate(){h(this,ut).clear()}}ut=new WeakMap,tt=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const $=(st=document==null?void 0:document.currentScript)==null?void 0:st.src;$&&(PDFWorkerUtil.fallbackWorkerSrc=$.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function($,rt){let ct;try{if(ct=new URL($),!ct.origin||ct.origin==="null")return!1}catch{return!1}const At=new URL(rt,ct);return ct.origin===At.origin},PDFWorkerUtil.createCDNWrapper=function($){const rt=`importScripts("${$}");`;return URL.createObjectURL(new Blob([rt]))}}const _PDFWorker=class _PDFWorker{constructor({name:$=null,port:rt=null,verbosity:ct=(0,_util.getVerbosityLevel)()}={}){var At;if(this.name=$,this.destroyed=!1,this.verbosity=ct,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,rt){if((At=h(_PDFWorker,_e))!=null&&At.has(rt))throw new Error("Cannot use more than one PDFWorker per port.");(h(_PDFWorker,_e)||on(_PDFWorker,_e,new WeakMap)).set(rt,this),this._initializeFromPort(rt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new _message_handler.MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:$}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const rt=new Worker($),ct=new _message_handler.MessageHandler("main","worker",rt),At=()=>{rt.removeEventListener("error",ot),ct.destroy(),rt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ot=()=>{this._webWorker||At()};rt.addEventListener("error",ot),ct.on("test",Tt=>{if(rt.removeEventListener("error",ot),this.destroyed){At();return}Tt?(this._messageHandler=ct,this._port=rt,this._webWorker=rt,this._readyCapability.resolve(),ct.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ct.destroy(),rt.terminate())}),ct.on("ready",Tt=>{if(rt.removeEventListener("error",ot),this.destroyed){At();return}try{Et()}catch{this._setupFakeWorker()}});const Et=()=>{const Tt=new Uint8Array;ct.send("test",Tt,[Tt.buffer])};Et();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then($=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const rt=new LoopbackPort;this._port=rt;const ct=`fake${PDFWorkerUtil.fakeWorkerId++}`,At=new _message_handler.MessageHandler(ct+"_worker",ct,rt);$.setup(At,rt);const ot=new _message_handler.MessageHandler(ct,ct+"_worker",rt);this._messageHandler=ot,this._readyCapability.resolve(),ot.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){var $;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($=h(_PDFWorker,_e))==null||$.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){var ct;if(!($!=null&&$.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const rt=(ct=h(this,_e))==null?void 0:ct.get($.port);if(rt){if(rt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return rt}return new _PDFWorker($)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var $;try{return(($=globalThis.pdfjsWorker)==null?void 0:$.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};_e=new WeakMap,rn(_PDFWorker,_e);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(rt,ct,At,ot,Et){rn(this,mt);rn(this,yt,new Map);rn(this,ft,new Map);rn(this,dt,new Map);rn(this,lt,null);this.messageHandler=rt,this.loadingTask=ct,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:ot.ownerDocument,styleElement:ot.styleElement}),this._params=ot,this.canvasFactory=Et.canvasFactory,this.filterFactory=Et.filterFactory,this.cMapReaderFactory=Et.cMapReaderFactory,this.standardFontDataFactory=Et.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=At,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(rt,ct=_util.AnnotationMode.ENABLE,At=null,ot=!1){let Et=_util.RenderingIntentFlag.DISPLAY,Tt=_annotation_storage.SerializableEmpty;switch(rt){case"any":Et=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Et=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${rt}`)}switch(ct){case _util.AnnotationMode.DISABLE:Et+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Et+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Et+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Tt=(Et&_util.RenderingIntentFlag.PRINT&&At instanceof _annotation_storage.PrintAnnotationStorage?At:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ct}`)}return ot&&(Et+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Et,cacheKey:`${Et}_${Tt.hash}`,annotationStorageSerializable:Tt}}destroy(){var At;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(At=h(this,lt))==null||At.reject(new Error("Worker was destroyed during onPassword callback"));const rt=[];for(const ot of h(this,ft).values())rt.push(ot._destroy());h(this,ft).clear(),h(this,dt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ct=this.messageHandler.sendWithPromise("Terminate",null);return rt.push(ct),Promise.all(rt).then(()=>{var ot;this.commonObjs.clear(),this.fontLoader.clear(),h(this,yt).clear(),this.filterFactory.destroy(),(ot=this._networkStream)==null||ot.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:rt,loadingTask:ct}=this;rt.on("GetReader",(At,ot)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Et=>{this._lastProgress={loaded:Et.loaded,total:Et.total}},ot.onPull=()=>{this._fullReader.read().then(function({value:Et,done:Tt}){if(Tt){ot.close();return}(0,_util.assert)(Et instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),ot.enqueue(new Uint8Array(Et),1,[Et])}).catch(Et=>{ot.error(Et)})},ot.onCancel=Et=>{this._fullReader.cancel(Et),ot.ready.catch(Tt=>{if(!this.destroyed)throw Tt})}}),rt.on("ReaderHeadersReady",At=>{const ot=new _util.PromiseCapability,Et=this._fullReader;return Et.headersReady.then(()=>{var Tt;(!Et.isStreamingSupported||!Et.isRangeSupported)&&(this._lastProgress&&((Tt=ct.onProgress)==null||Tt.call(ct,this._lastProgress)),Et.onProgress=sn=>{var jt;(jt=ct.onProgress)==null||jt.call(ct,{loaded:sn.loaded,total:sn.total})}),ot.resolve({isStreamingSupported:Et.isStreamingSupported,isRangeSupported:Et.isRangeSupported,contentLength:Et.contentLength})},ot.reject),ot.promise}),rt.on("GetRangeReader",(At,ot)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Et=this._networkStream.getRangeReader(At.begin,At.end);if(!Et){ot.close();return}ot.onPull=()=>{Et.read().then(function({value:Tt,done:sn}){if(sn){ot.close();return}(0,_util.assert)(Tt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),ot.enqueue(new Uint8Array(Tt),1,[Tt])}).catch(Tt=>{ot.error(Tt)})},ot.onCancel=Tt=>{Et.cancel(Tt),ot.ready.catch(sn=>{if(!this.destroyed)throw sn})}}),rt.on("GetDoc",({pdfInfo:At})=>{this._numPages=At.numPages,this._htmlForXfa=At.htmlForXfa,delete At.htmlForXfa,ct._capability.resolve(new PDFDocumentProxy(At,this))}),rt.on("DocException",function(At){let ot;switch(At.name){case"PasswordException":ot=new _util.PasswordException(At.message,At.code);break;case"InvalidPDFException":ot=new _util.InvalidPDFException(At.message);break;case"MissingPDFException":ot=new _util.MissingPDFException(At.message);break;case"UnexpectedResponseException":ot=new _util.UnexpectedResponseException(At.message,At.status);break;case"UnknownErrorException":ot=new _util.UnknownErrorException(At.message,At.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ct._capability.reject(ot)}),rt.on("PasswordRequest",At=>{if(on(this,lt,new _util.PromiseCapability),ct.onPassword){const ot=Et=>{Et instanceof Error?h(this,lt).reject(Et):h(this,lt).resolve({password:Et})};try{ct.onPassword(ot,At.code)}catch(Et){h(this,lt).reject(Et)}}else h(this,lt).reject(new _util.PasswordException(At.message,At.code));return h(this,lt).promise}),rt.on("DataLoaded",At=>{var ot;(ot=ct.onProgress)==null||ot.call(ct,{loaded:At.length,total:At.length}),this.downloadInfoCapability.resolve(At)}),rt.on("StartRenderPage",At=>{if(this.destroyed)return;h(this,ft).get(At.pageIndex)._startRenderPage(At.transparency,At.cacheKey)}),rt.on("commonobj",([At,ot,Et])=>{var Tt;if(!this.destroyed&&!this.commonObjs.has(At))switch(ot){case"Font":const sn=this._params;if("error"in Et){const Nt=Et.error;(0,_util.warn)(`Error during font loading: ${Nt}`),this.commonObjs.resolve(At,Nt);break}const jt=sn.pdfBug&&((Tt=globalThis.FontInspector)!=null&&Tt.enabled)?(Nt,Ot)=>globalThis.FontInspector.fontAdded(Nt,Ot):null,Xt=new _font_loader.FontFaceObject(Et,{isEvalSupported:sn.isEvalSupported,disableFontFace:sn.disableFontFace,ignoreErrors:sn.ignoreErrors,inspectFont:jt});this.fontLoader.bind(Xt).catch(Nt=>rt.sendWithPromise("FontFallback",{id:At})).finally(()=>{!sn.fontExtraProperties&&Xt.data&&(Xt.data=null),this.commonObjs.resolve(At,Xt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(At,Et);break;default:throw new Error(`Got unknown common object type ${ot}`)}}),rt.on("obj",([At,ot,Et,Tt])=>{var jt;if(this.destroyed)return;const sn=h(this,ft).get(ot);if(!sn.objs.has(At))switch(Et){case"Image":if(sn.objs.resolve(At,Tt),Tt){let Xt;if(Tt.bitmap){const{width:Nt,height:Ot}=Tt;Xt=Nt*Ot*4}else Xt=((jt=Tt.data)==null?void 0:jt.length)||0;Xt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(sn._maybeCleanupAfterRender=!0)}break;case"Pattern":sn.objs.resolve(At,Tt);break;default:throw new Error(`Got unknown object type ${Et}`)}}),rt.on("DocProgress",At=>{var ot;this.destroyed||(ot=ct.onProgress)==null||ot.call(ct,{loaded:At.loaded,total:At.total})}),rt.on("FetchBuiltInCMap",At=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(At):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),rt.on("FetchStandardFontData",At=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(At):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var At;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:rt,transfers:ct}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:rt,filename:((At=this._fullReader)==null?void 0:At.filename)??null},ct).finally(()=>{this.annotationStorage.resetModified()})}getPage(rt){if(!Number.isInteger(rt)||rt<=0||rt>this._numPages)return Promise.reject(new Error("Invalid page request."));const ct=rt-1,At=h(this,dt).get(ct);if(At)return At;const ot=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ct}).then(Et=>{if(this.destroyed)throw new Error("Transport destroyed");const Tt=new PDFPageProxy(ct,Et,this,this._params.pdfBug);return h(this,ft).set(ct,Tt),Tt});return h(this,dt).set(ct,ot),ot}getPageIndex(rt){return typeof rt!="object"||rt===null||!Number.isInteger(rt.num)||rt.num<0||!Number.isInteger(rt.gen)||rt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:rt.num,gen:rt.gen})}getAnnotations(rt,ct){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:rt,intent:ct})}getFieldObjects(){return Wt(this,mt,Vs).call(this,"GetFieldObjects")}hasJSActions(){return Wt(this,mt,Vs).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(rt){return typeof rt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:rt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Wt(this,mt,Vs).call(this,"GetDocJSActions")}getPageJSActions(rt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:rt})}getStructTree(rt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:rt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(rt=>new _optional_content_config.OptionalContentConfig(rt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const rt="GetMetadata",ct=h(this,yt).get(rt);if(ct)return ct;const At=this.messageHandler.sendWithPromise(rt,null).then(ot=>{var Et,Tt;return{info:ot[0],metadata:ot[1]?new _metadata.Metadata(ot[1]):null,contentDispositionFilename:((Et=this._fullReader)==null?void 0:Et.filename)??null,contentLength:((Tt=this._fullReader)==null?void 0:Tt.contentLength)??null}});return h(this,yt).set(rt,At),At}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(rt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ct of h(this,ft).values())if(!ct.cleanup())throw new Error(`startCleanup: Page ${ct.pageNumber} is currently rendering.`);this.commonObjs.clear(),rt||this.fontLoader.clear(),h(this,yt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:rt,enableXfa:ct}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:rt,enableXfa:ct})}}yt=new WeakMap,ft=new WeakMap,dt=new WeakMap,lt=new WeakMap,mt=new WeakSet,Vs=function(rt,ct=null){const At=h(this,yt).get(rt);if(At)return At;const ot=this.messageHandler.sendWithPromise(rt,ct);return h(this,yt).set(rt,ot),ot};class PDFObjects{constructor(){rn(this,_);rn(this,g,Object.create(null))}get(rt,ct=null){if(ct){const ot=Wt(this,_,mo).call(this,rt);return ot.capability.promise.then(()=>ct(ot.data)),null}const At=h(this,g)[rt];if(!(At!=null&&At.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${rt}.`);return At.data}has(rt){const ct=h(this,g)[rt];return(ct==null?void 0:ct.capability.settled)||!1}resolve(rt,ct=null){const At=Wt(this,_,mo).call(this,rt);At.data=ct,At.capability.resolve()}clear(){var rt;for(const ct in h(this,g)){const{data:At}=h(this,g)[ct];(rt=At==null?void 0:At.bitmap)==null||rt.close()}on(this,g,Object.create(null))}}g=new WeakMap,_=new WeakSet,mo=function(rt){var ct;return(ct=h(this,g))[rt]||(ct[rt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(rt){rn(this,ht,null);on(this,ht,rt),this.onContinue=null}get promise(){return h(this,ht).capability.promise}cancel(rt=0){h(this,ht).cancel(null,rt)}get separateAnnots(){const{separateAnnots:rt}=h(this,ht).operatorList;if(!rt)return!1;const{annotationCanvasMap:ct}=h(this,ht);return rt.form||rt.canvas&&(ct==null?void 0:ct.size)>0}}ht=new WeakMap,exports.RenderTask=RenderTask;const it=class it{constructor({callback:rt,params:ct,objs:At,commonObjs:ot,annotationCanvasMap:Et,operatorList:Tt,pageIndex:sn,canvasFactory:jt,filterFactory:Xt,useRequestAnimationFrame:Nt=!1,pdfBug:Ot=!1,pageColors:St=null}){this.callback=rt,this.params=ct,this.objs=At,this.commonObjs=ot,this.annotationCanvasMap=Et,this.operatorListIdx=null,this.operatorList=Tt,this._pageIndex=sn,this.canvasFactory=jt,this.filterFactory=Xt,this._pdfBug=Ot,this.pageColors=St,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Nt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ct.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:rt=!1,optionalContentConfig:ct}){var sn,jt;if(this.cancelled)return;if(this._canvas){if(h(it,j).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(it,j).add(this._canvas)}this._pdfBug&&((sn=globalThis.StepperManager)!=null&&sn.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:At,viewport:ot,transform:Et,background:Tt}=this.params;this.gfx=new _canvas.CanvasGraphics(At,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ct},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Et,viewport:ot,transparency:rt,background:Tt}),this.operatorListIdx=0,this.graphicsReady=!0,(jt=this.graphicsReadyCallback)==null||jt.call(this)}cancel(rt=null,ct=0){var At;this.running=!1,this.cancelled=!0,(At=this.gfx)==null||At.endDrawing(),h(it,j).delete(this._canvas),this.callback(rt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ct))}operatorListChanged(){var rt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(rt=this.stepper)==null||rt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(it,j).delete(this._canvas),this.callback())))}};j=new WeakMap,rn(it,j,new WeakSet);let InternalRenderTask=it;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,i,s)=>{var st,_e,yt,Tl,dt;Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var o=s(1),c=s(4),a=s(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=d;class ut{constructor(){rn(this,yt);rn(this,st,!1);rn(this,_e,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(mt,gt){const g=h(this,_e).get(mt);return g===void 0?gt:Object.assign(gt,g)}getRawValue(mt){return h(this,_e).get(mt)}remove(mt){if(h(this,_e).delete(mt),h(this,_e).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const gt of h(this,_e).values())if(gt instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(mt,gt){const g=h(this,_e).get(mt);let _=!1;if(g!==void 0)for(const[at,ht]of Object.entries(gt))g[at]!==ht&&(_=!0,g[at]=ht);else _=!0,h(this,_e).set(mt,gt);_&&Wt(this,yt,Tl).call(this),gt instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(gt.constructor._type)}has(mt){return h(this,_e).has(mt)}getAll(){return h(this,_e).size>0?(0,o.objectFromMap)(h(this,_e)):null}setAll(mt){for(const[gt,g]of Object.entries(mt))this.setValue(gt,g)}get size(){return h(this,_e).size}resetModified(){h(this,st)&&(on(this,st,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new tt(this)}get serializable(){if(h(this,_e).size===0)return d;const mt=new Map,gt=new a.MurmurHash3_64,g=[],_=Object.create(null);let at=!1;for(const[ht,j]of h(this,_e)){const it=j instanceof c.AnnotationEditor?j.serialize(!1,_):j;it&&(mt.set(ht,it),gt.update(`${ht}:${JSON.stringify(it)}`),at||(at=!!it.bitmap))}if(at)for(const ht of mt.values())ht.bitmap&&g.push(ht.bitmap);return mt.size>0?{map:mt,hash:gt.hexdigest(),transfers:g}:d}}st=new WeakMap,_e=new WeakMap,yt=new WeakSet,Tl=function(){h(this,st)||(on(this,st,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=ut;class tt extends ut{constructor(gt){super();rn(this,dt);const{map:g,hash:_,transfers:at}=gt.serializable,ht=structuredClone(g,at?{transfer:at}:null);on(this,dt,{map:ht,hash:_,transfers:at})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,dt)}}dt=new WeakMap,i.PrintAnnotationStorage=tt},(e,i,s)=>{var tt,st,_e,yt,ft,dt,lt,mt,gt,g,_,at,ht,j,it,vo,yo,ct,_o,So,Rl,Ml,Fl,wo,Ll;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var o=s(5),c=s(1),a=s(6);const Nt=class Nt{constructor(St){rn(this,it);rn(this,tt,"");rn(this,st,!1);rn(this,_e,null);rn(this,yt,null);rn(this,ft,null);rn(this,dt,!1);rn(this,lt,null);rn(this,mt,this.focusin.bind(this));rn(this,gt,this.focusout.bind(this));rn(this,g,!1);rn(this,_,!1);rn(this,at,!1);Lr(this,"_initialOptions",Object.create(null));Lr(this,"_uiManager",null);Lr(this,"_focusEventsAllowed",!0);Lr(this,"_l10nPromise",null);rn(this,ht,!1);rn(this,j,Nt._zIndex++);this.constructor===Nt&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=St.parent,this.id=St.id,this.width=this.height=null,this.pageIndex=St.parent.pageIndex,this.name=St.name,this.div=null,this._uiManager=St.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=St.isCentered,this._structTreeParentId=null;const{rotation:Lt,rawDims:{pageWidth:Vt,pageHeight:wt,pageX:et,pageY:nt}}=this.parent.viewport;this.rotation=Lt,this.pageRotation=(360+Lt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Vt,wt],this.pageTranslation=[et,nt];const[vt,xt]=this.parentDimensions;this.x=St.x/vt,this.y=St.y/xt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(St){const Lt=new ut({id:St.parent.getNextId(),parent:St.parent,uiManager:St._uiManager});Lt.annotationElementId=St.annotationElementId,Lt.deleted=!0,Lt._uiManager.addToAnnotationStorage(Lt)}static initialize(St,Lt=null){if(Nt._l10nPromise||(Nt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(wt=>[wt,St.get(wt)]))),Lt!=null&&Lt.strings)for(const wt of Lt.strings)Nt._l10nPromise.set(wt,St.get(wt));if(Nt._borderLineWidth!==-1)return;const Vt=getComputedStyle(document.documentElement);Nt._borderLineWidth=parseFloat(Vt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(St,Lt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(St){return!1}static paste(St,Lt){(0,c.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,ht)}set _isDraggable(St){var Lt;on(this,ht,St),(Lt=this.div)==null||Lt.classList.toggle("draggable",St)}center(){const[St,Lt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Lt/(St*2),this.y+=this.width*St/(Lt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Lt/(St*2),this.y-=this.width*St/(Lt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(St){this._uiManager.addCommands(St)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,j)}setParent(St){St!==null&&(this.pageIndex=St.pageIndex,this.pageDimensions=St.pageDimensions),this.parent=St}focusin(St){this._focusEventsAllowed&&(h(this,g)?on(this,g,!1):this.parent.setSelected(this))}focusout(St){var Vt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Lt=St.relatedTarget;Lt!=null&&Lt.closest(`#${this.id}`)||(St.preventDefault(),(Vt=this.parent)!=null&&Vt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(St,Lt,Vt,wt){const[et,nt]=this.parentDimensions;[Vt,wt]=this.screenToPageTranslation(Vt,wt),this.x=(St+Vt)/et,this.y=(Lt+wt)/nt,this.fixAndSetPosition()}translate(St,Lt){Wt(this,it,vo).call(this,this.parentDimensions,St,Lt)}translateInPage(St,Lt){Wt(this,it,vo).call(this,this.pageDimensions,St,Lt),this.div.scrollIntoView({block:"nearest"})}drag(St,Lt){const[Vt,wt]=this.parentDimensions;if(this.x+=St/Vt,this.y+=Lt/wt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Pt,y:Ct}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Pt,Ct)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:et,y:nt}=this;const[vt,xt]=Wt(this,it,yo).call(this);et+=vt,nt+=xt,this.div.style.left=`${(100*et).toFixed(2)}%`,this.div.style.top=`${(100*nt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[St,Lt]=this.pageDimensions;let{x:Vt,y:wt,width:et,height:nt}=this;switch(et*=St,nt*=Lt,Vt*=St,wt*=Lt,this.rotation){case 0:Vt=Math.max(0,Math.min(St-et,Vt)),wt=Math.max(0,Math.min(Lt-nt,wt));break;case 90:Vt=Math.max(0,Math.min(St-nt,Vt)),wt=Math.min(Lt,Math.max(et,wt));break;case 180:Vt=Math.min(St,Math.max(et,Vt)),wt=Math.min(Lt,Math.max(nt,wt));break;case 270:Vt=Math.min(St,Math.max(nt,Vt)),wt=Math.max(0,Math.min(Lt-et,wt));break}this.x=Vt/=St,this.y=wt/=Lt;const[vt,xt]=Wt(this,it,yo).call(this);Vt+=vt,wt+=xt;const{style:Pt}=this.div;Pt.left=`${(100*Vt).toFixed(2)}%`,Pt.top=`${(100*wt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(St,Lt){var Vt;return Wt(Vt=Nt,ct,_o).call(Vt,St,Lt,this.parentRotation)}pageTranslationToScreen(St,Lt){var Vt;return Wt(Vt=Nt,ct,_o).call(Vt,St,Lt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:St,pageDimensions:[Lt,Vt]}=this,wt=Lt*St,et=Vt*St;return c.FeatureTest.isCSSRoundSupported?[Math.round(wt),Math.round(et)]:[wt,et]}setDims(St,Lt){var et;const[Vt,wt]=this.parentDimensions;this.div.style.width=`${(100*St/Vt).toFixed(2)}%`,h(this,dt)||(this.div.style.height=`${(100*Lt/wt).toFixed(2)}%`),(et=h(this,_e))==null||et.classList.toggle("small",St<Nt.SMALL_EDITOR_SIZE||Lt<Nt.SMALL_EDITOR_SIZE)}fixDims(){const{style:St}=this.div,{height:Lt,width:Vt}=St,wt=Vt.endsWith("%"),et=!h(this,dt)&&Lt.endsWith("%");if(wt&&et)return;const[nt,vt]=this.parentDimensions;wt||(St.width=`${(100*parseFloat(Vt)/nt).toFixed(2)}%`),!h(this,dt)&&!et&&(St.height=`${(100*parseFloat(Lt)/vt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(h(this,_e))return;const St=on(this,_e,document.createElement("button"));St.className="altText";const Lt=await Nt._l10nPromise.get("editor_alt_text_button_label");St.textContent=Lt,St.setAttribute("aria-label",Lt),St.tabIndex="0",St.addEventListener("contextmenu",a.noContextMenu),St.addEventListener("pointerdown",Vt=>Vt.stopPropagation()),St.addEventListener("click",Vt=>{Vt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),St.addEventListener("keydown",Vt=>{Vt.target===St&&Vt.key==="Enter"&&(Vt.preventDefault(),this._uiManager.editAltText(this))}),Wt(this,it,wo).call(this),this.div.append(St),Nt.SMALL_EDITOR_SIZE||(Nt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(St.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:h(this,tt),decorative:h(this,st)}}set altTextData({altText:St,decorative:Lt}){h(this,tt)===St&&h(this,st)===Lt||(on(this,tt,St),on(this,st,Lt),Wt(this,it,wo).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",h(this,mt)),this.div.addEventListener("focusout",h(this,gt));const[St,Lt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Lt/St).toFixed(2)}%`,this.div.style.maxHeight=`${(100*St/Lt).toFixed(2)}%`);const[Vt,wt]=this.getInitialTranslation();return this.translate(Vt,wt),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(St){const{isMac:Lt}=c.FeatureTest.platform;if(St.button!==0||St.ctrlKey&&Lt){St.preventDefault();return}on(this,g,!0),Wt(this,it,Ll).call(this,St)}moveInDOM(){var St;(St=this.parent)==null||St.moveEditorInDOM(this)}_setParentAndPosition(St,Lt,Vt){St.changeParent(this),this.x=Lt,this.y=Vt,this.fixAndSetPosition()}getRect(St,Lt){const Vt=this.parentScale,[wt,et]=this.pageDimensions,[nt,vt]=this.pageTranslation,xt=St/Vt,Pt=Lt/Vt,Ct=this.x*wt,Ht=this.y*et,an=this.width*wt,un=this.height*et;switch(this.rotation){case 0:return[Ct+xt+nt,et-Ht-Pt-un+vt,Ct+xt+an+nt,et-Ht-Pt+vt];case 90:return[Ct+Pt+nt,et-Ht+xt+vt,Ct+Pt+un+nt,et-Ht+xt+an+vt];case 180:return[Ct-xt-an+nt,et-Ht+Pt+vt,Ct-xt+nt,et-Ht+Pt+un+vt];case 270:return[Ct-Pt-un+nt,et-Ht-xt-an+vt,Ct-Pt+nt,et-Ht-xt+vt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(St,Lt){const[Vt,wt,et,nt]=St,vt=et-Vt,xt=nt-wt;switch(this.rotation){case 0:return[Vt,Lt-nt,vt,xt];case 90:return[Vt,Lt-wt,xt,vt];case 180:return[et,Lt-wt,vt,xt];case 270:return[et,Lt-nt,xt,vt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){on(this,at,!0)}disableEditMode(){on(this,at,!1)}isInEditMode(){return h(this,at)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var St,Lt;(St=this.div)==null||St.addEventListener("focusin",h(this,mt)),(Lt=this.div)==null||Lt.addEventListener("focusout",h(this,gt))}serialize(St=!1,Lt=null){(0,c.unreachable)("An editor must be serializable")}static deserialize(St,Lt,Vt){const wt=new this.prototype.constructor({parent:Lt,id:Lt.getNextId(),uiManager:Vt});wt.rotation=St.rotation;const[et,nt]=wt.pageDimensions,[vt,xt,Pt,Ct]=wt.getRectInCurrentCoords(St.rect,nt);return wt.x=vt/et,wt.y=xt/nt,wt.width=Pt/et,wt.height=Ct/nt,wt}remove(){var St;this.div.removeEventListener("focusin",h(this,mt)),this.div.removeEventListener("focusout",h(this,gt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(St=h(this,_e))==null||St.remove(),on(this,_e,null),on(this,yt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Wt(this,it,Rl).call(this),h(this,lt).classList.remove("hidden"))}select(){var St;this.makeResizable(),(St=this.div)==null||St.classList.add("selectedEditor")}unselect(){var St,Lt,Vt;(St=h(this,lt))==null||St.classList.add("hidden"),(Lt=this.div)==null||Lt.classList.remove("selectedEditor"),(Vt=this.div)!=null&&Vt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(St,Lt){}disableEditing(){h(this,_e)&&(h(this,_e).hidden=!0)}enableEditing(){h(this,_e)&&(h(this,_e).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return h(this,_)}set isEditing(St){on(this,_,St),this.parent&&(St?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(St,Lt){on(this,dt,!0);const Vt=St/Lt,{style:wt}=this.div;wt.aspectRatio=Vt,wt.height="auto"}static get MIN_SIZE(){return 16}};tt=new WeakMap,st=new WeakMap,_e=new WeakMap,yt=new WeakMap,ft=new WeakMap,dt=new WeakMap,lt=new WeakMap,mt=new WeakMap,gt=new WeakMap,g=new WeakMap,_=new WeakMap,at=new WeakMap,ht=new WeakMap,j=new WeakMap,it=new WeakSet,vo=function([St,Lt],Vt,wt){[Vt,wt]=this.screenToPageTranslation(Vt,wt),this.x+=Vt/St,this.y+=wt/Lt,this.fixAndSetPosition()},yo=function(){const[St,Lt]=this.parentDimensions,{_borderLineWidth:Vt}=Nt,wt=Vt/St,et=Vt/Lt;switch(this.rotation){case 90:return[-wt,et];case 180:return[wt,et];case 270:return[wt,-et];default:return[-wt,-et]}},ct=new WeakSet,_o=function(St,Lt,Vt){switch(Vt){case 90:return[Lt,-St];case 180:return[-St,-Lt];case 270:return[-Lt,St];default:return[St,Lt]}},So=function(St){switch(St){case 90:{const[Lt,Vt]=this.pageDimensions;return[0,-Lt/Vt,Vt/Lt,0]}case 180:return[-1,0,0,-1];case 270:{const[Lt,Vt]=this.pageDimensions;return[0,Lt/Vt,-Vt/Lt,0]}default:return[1,0,0,1]}},Rl=function(){if(h(this,lt))return;on(this,lt,document.createElement("div")),h(this,lt).classList.add("resizers");const St=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||St.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Lt of St){const Vt=document.createElement("div");h(this,lt).append(Vt),Vt.classList.add("resizer",Lt),Vt.addEventListener("pointerdown",Wt(this,it,Ml).bind(this,Lt)),Vt.addEventListener("contextmenu",a.noContextMenu)}this.div.prepend(h(this,lt))},Ml=function(St,Lt){Lt.preventDefault();const{isMac:Vt}=c.FeatureTest.platform;if(Lt.button!==0||Lt.ctrlKey&&Vt)return;const wt=Wt(this,it,Fl).bind(this,St),et=this._isDraggable;this._isDraggable=!1;const nt={passive:!0,capture:!0};window.addEventListener("pointermove",wt,nt);const vt=this.x,xt=this.y,Pt=this.width,Ct=this.height,Ht=this.parent.div.style.cursor,an=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Lt.target).cursor;const un=()=>{this._isDraggable=et,window.removeEventListener("pointerup",un),window.removeEventListener("blur",un),window.removeEventListener("pointermove",wt,nt),this.parent.div.style.cursor=Ht,this.div.style.cursor=an;const dn=this.x,pn=this.y,yn=this.width,_n=this.height;dn===vt&&pn===xt&&yn===Pt&&_n===Ct||this.addCommands({cmd:()=>{this.width=yn,this.height=_n,this.x=dn,this.y=pn;const[Zt,en]=this.parentDimensions;this.setDims(Zt*yn,en*_n),this.fixAndSetPosition()},undo:()=>{this.width=Pt,this.height=Ct,this.x=vt,this.y=xt;const[Zt,en]=this.parentDimensions;this.setDims(Zt*Pt,en*Ct),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",un),window.addEventListener("blur",un)},Fl=function(St,Lt){const[Vt,wt]=this.parentDimensions,et=this.x,nt=this.y,vt=this.width,xt=this.height,Pt=Nt.MIN_SIZE/Vt,Ct=Nt.MIN_SIZE/wt,Ht=In=>Math.round(In*1e4)/1e4,an=Wt(this,it,So).call(this,this.rotation),un=(In,Wn)=>[an[0]*In+an[2]*Wn,an[1]*In+an[3]*Wn],dn=Wt(this,it,So).call(this,360-this.rotation),pn=(In,Wn)=>[dn[0]*In+dn[2]*Wn,dn[1]*In+dn[3]*Wn];let yn,_n,Zt=!1,en=!1;switch(St){case"topLeft":Zt=!0,yn=(In,Wn)=>[0,0],_n=(In,Wn)=>[In,Wn];break;case"topMiddle":yn=(In,Wn)=>[In/2,0],_n=(In,Wn)=>[In/2,Wn];break;case"topRight":Zt=!0,yn=(In,Wn)=>[In,0],_n=(In,Wn)=>[0,Wn];break;case"middleRight":en=!0,yn=(In,Wn)=>[In,Wn/2],_n=(In,Wn)=>[0,Wn/2];break;case"bottomRight":Zt=!0,yn=(In,Wn)=>[In,Wn],_n=(In,Wn)=>[0,0];break;case"bottomMiddle":yn=(In,Wn)=>[In/2,Wn],_n=(In,Wn)=>[In/2,0];break;case"bottomLeft":Zt=!0,yn=(In,Wn)=>[0,Wn],_n=(In,Wn)=>[In,0];break;case"middleLeft":en=!0,yn=(In,Wn)=>[0,Wn/2],_n=(In,Wn)=>[In,Wn/2];break}const _t=yn(vt,xt),Rt=_n(vt,xt);let Gt=un(...Rt);const tn=Ht(et+Gt[0]),hn=Ht(nt+Gt[1]);let Sn=1,mn=1,[$t,Tn]=this.screenToPageTranslation(Lt.movementX,Lt.movementY);if([$t,Tn]=pn($t/Vt,Tn/wt),Zt){const In=Math.hypot(vt,xt);Sn=mn=Math.max(Math.min(Math.hypot(Rt[0]-_t[0]-$t,Rt[1]-_t[1]-Tn)/In,1/vt,1/xt),Pt/vt,Ct/xt)}else en?Sn=Math.max(Pt,Math.min(1,Math.abs(Rt[0]-_t[0]-$t)))/vt:mn=Math.max(Ct,Math.min(1,Math.abs(Rt[1]-_t[1]-Tn)))/xt;const xn=Ht(vt*Sn),nr=Ht(xt*mn);Gt=un(..._n(xn,nr));const Yn=tn-Gt[0],fr=hn-Gt[1];this.width=xn,this.height=nr,this.x=Yn,this.y=fr,this.setDims(Vt*xn,wt*nr),this.fixAndSetPosition()},wo=async function(){var Vt;const St=h(this,_e);if(!St)return;if(!h(this,tt)&&!h(this,st)){St.classList.remove("done"),(Vt=h(this,yt))==null||Vt.remove();return}Nt._l10nPromise.get("editor_alt_text_edit_button_label").then(wt=>{St.setAttribute("aria-label",wt)});let Lt=h(this,yt);if(!Lt){on(this,yt,Lt=document.createElement("span")),Lt.className="tooltip",Lt.setAttribute("role","tooltip");const wt=Lt.id=`alt-text-tooltip-${this.id}`;St.setAttribute("aria-describedby",wt);const et=100;St.addEventListener("mouseenter",()=>{on(this,ft,setTimeout(()=>{on(this,ft,null),h(this,yt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},et))}),St.addEventListener("mouseleave",()=>{var nt;clearTimeout(h(this,ft)),on(this,ft,null),(nt=h(this,yt))==null||nt.classList.remove("show")})}St.classList.add("done"),Lt.innerText=h(this,st)?await Nt._l10nPromise.get("editor_alt_text_decorative_tooltip"):h(this,tt),Lt.parentNode||St.append(Lt)},Ll=function(St){if(!this._isDraggable)return;const Lt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Vt,wt;Lt&&(Vt={passive:!0,capture:!0},wt=nt=>{const[vt,xt]=this.screenToPageTranslation(nt.movementX,nt.movementY);this._uiManager.dragSelectedEditors(vt,xt)},window.addEventListener("pointermove",wt,Vt));const et=()=>{if(window.removeEventListener("pointerup",et),window.removeEventListener("blur",et),Lt&&window.removeEventListener("pointermove",wt,Vt),on(this,g,!1),!this._uiManager.endDragSession()){const{isMac:nt}=c.FeatureTest.platform;St.ctrlKey&&!nt||St.shiftKey||St.metaKey&&nt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",et),window.addEventListener("blur",et)},rn(Nt,ct),Lr(Nt,"_borderLineWidth",-1),Lr(Nt,"_colorManager",new o.ColorManager),Lr(Nt,"_zIndex",1),Lr(Nt,"SMALL_EDITOR_SIZE",0);let d=Nt;i.AnnotationEditor=d;class ut extends d{constructor(St){super(St),this.annotationElementId=St.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,i,s)=>{var dt,lt,mt,gt,g,Eo,ht,j,it,$,rt,Dl,ot,Et,Tt,sn,jt,Xt,Nt,Ot,St,Lt,Vt,wt,et,nt,vt,xt,Pt,Ct,Ht,an,un,dn,pn,yn,_n,Zt,en,_t,Rt,Gt,tn,hn,Sn,mn,$t,Il,bo,Ao,Ws,xo,ko,es,Cs,Ol,Nl,Co,Ps,Po;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=a,i.opacityToHex=d;var o=s(1),c=s(6);function a(qn,Mt,fn){for(const Pn of fn)Mt.addEventListener(Pn,qn[Pn].bind(qn))}function d(qn){return Math.round(Math.min(255,Math.max(1,255*qn))).toString(16).padStart(2,"0")}class ut{constructor(){rn(this,dt,0)}getId(){return`${o.AnnotationEditorPrefix}${ks(this,dt)._++}`}}dt=new WeakMap;const at=class at{constructor(){rn(this,g);rn(this,lt,(0,o.getUuid)());rn(this,mt,0);rn(this,gt,null)}static get _isSVGFittingCanvas(){const Mt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Pn=new OffscreenCanvas(1,3).getContext("2d"),zn=new Image;zn.src=Mt;const Hn=zn.decode().then(()=>(Pn.drawImage(zn,0,0,1,1,0,0,1,3),new Uint32Array(Pn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",Hn)}async getFromFile(Mt){const{lastModified:fn,name:Pn,size:zn,type:Hn}=Mt;return Wt(this,g,Eo).call(this,`${fn}_${Pn}_${zn}_${Hn}`,Mt)}async getFromUrl(Mt){return Wt(this,g,Eo).call(this,Mt,Mt)}async getFromId(Mt){h(this,gt)||on(this,gt,new Map);const fn=h(this,gt).get(Mt);return fn?fn.bitmap?(fn.refCounter+=1,fn):fn.file?this.getFromFile(fn.file):this.getFromUrl(fn.url):null}getSvgUrl(Mt){const fn=h(this,gt).get(Mt);return fn!=null&&fn.isSvg?fn.svgUrl:null}deleteId(Mt){h(this,gt)||on(this,gt,new Map);const fn=h(this,gt).get(Mt);fn&&(fn.refCounter-=1,fn.refCounter===0&&(fn.bitmap=null))}isValidId(Mt){return Mt.startsWith(`image_${h(this,lt)}_`)}};lt=new WeakMap,mt=new WeakMap,gt=new WeakMap,g=new WeakSet,Eo=async function(Mt,fn){h(this,gt)||on(this,gt,new Map);let Pn=h(this,gt).get(Mt);if(Pn===null)return null;if(Pn!=null&&Pn.bitmap)return Pn.refCounter+=1,Pn;try{Pn||(Pn={bitmap:null,id:`image_${h(this,lt)}_${ks(this,mt)._++}`,refCounter:0,isSvg:!1});let zn;if(typeof fn=="string"){Pn.url=fn;const Hn=await fetch(fn);if(!Hn.ok)throw new Error(Hn.statusText);zn=await Hn.blob()}else zn=Pn.file=fn;if(zn.type==="image/svg+xml"){const Hn=at._isSVGFittingCanvas,Ln=new FileReader,kt=new Image,bt=new Promise((Bt,ln)=>{kt.onload=()=>{Pn.bitmap=kt,Pn.isSvg=!0,Bt()},Ln.onload=async()=>{const cn=Pn.svgUrl=Ln.result;kt.src=await Hn?`${cn}#svgView(preserveAspectRatio(none))`:cn},kt.onerror=Ln.onerror=ln});Ln.readAsDataURL(zn),await bt}else Pn.bitmap=await createImageBitmap(zn);Pn.refCounter=1}catch(zn){console.error(zn),Pn=null}return h(this,gt).set(Mt,Pn),Pn&&h(this,gt).set(Pn.id,Pn),Pn};let tt=at;class st{constructor(Mt=128){rn(this,ht,[]);rn(this,j,!1);rn(this,it);rn(this,$,-1);on(this,it,Mt)}add({cmd:Mt,undo:fn,mustExec:Pn,type:zn=NaN,overwriteIfSameType:Hn=!1,keepUndo:Ln=!1}){if(Pn&&Mt(),h(this,j))return;const kt={cmd:Mt,undo:fn,type:zn};if(h(this,$)===-1){h(this,ht).length>0&&(h(this,ht).length=0),on(this,$,0),h(this,ht).push(kt);return}if(Hn&&h(this,ht)[h(this,$)].type===zn){Ln&&(kt.undo=h(this,ht)[h(this,$)].undo),h(this,ht)[h(this,$)]=kt;return}const bt=h(this,$)+1;bt===h(this,it)?h(this,ht).splice(0,1):(on(this,$,bt),bt<h(this,ht).length&&h(this,ht).splice(bt)),h(this,ht).push(kt)}undo(){h(this,$)!==-1&&(on(this,j,!0),h(this,ht)[h(this,$)].undo(),on(this,j,!1),on(this,$,h(this,$)-1))}redo(){h(this,$)<h(this,ht).length-1&&(on(this,$,h(this,$)+1),on(this,j,!0),h(this,ht)[h(this,$)].cmd(),on(this,j,!1))}hasSomethingToUndo(){return h(this,$)!==-1}hasSomethingToRedo(){return h(this,$)<h(this,ht).length-1}destroy(){on(this,ht,null)}}ht=new WeakMap,j=new WeakMap,it=new WeakMap,$=new WeakMap,i.CommandManager=st;class _e{constructor(Mt){rn(this,rt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:fn}=o.FeatureTest.platform;for(const[Pn,zn,Hn={}]of Mt)for(const Ln of Pn){const kt=Ln.startsWith("mac+");fn&&kt?(this.callbacks.set(Ln.slice(4),{callback:zn,options:Hn}),this.allKeys.add(Ln.split("+").at(-1))):!fn&&!kt&&(this.callbacks.set(Ln,{callback:zn,options:Hn}),this.allKeys.add(Ln.split("+").at(-1)))}}exec(Mt,fn){if(!this.allKeys.has(fn.key))return;const Pn=this.callbacks.get(Wt(this,rt,Dl).call(this,fn));if(!Pn)return;const{callback:zn,options:{bubbles:Hn=!1,args:Ln=[],checker:kt=null}}=Pn;kt&&!kt(Mt,fn)||(zn.bind(Mt,...Ln)(),Hn||(fn.stopPropagation(),fn.preventDefault()))}}rt=new WeakSet,Dl=function(Mt){Mt.altKey&&this.buffer.push("alt"),Mt.ctrlKey&&this.buffer.push("ctrl"),Mt.metaKey&&this.buffer.push("meta"),Mt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Mt.key);const fn=this.buffer.join("+");return this.buffer.length=0,fn},i.KeyboardManager=_e;const At=class At{get _colors(){const Mt=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(Mt),(0,o.shadow)(this,"_colors",Mt)}convert(Mt){const fn=(0,c.getRGB)(Mt);if(!window.matchMedia("(forced-colors: active)").matches)return fn;for(const[Pn,zn]of this._colors)if(zn.every((Hn,Ln)=>Hn===fn[Ln]))return At._colorsMapping.get(Pn);return fn}getHexCode(Mt){const fn=this._colors.get(Mt);return fn?o.Util.makeHexColor(...fn):Mt}};Lr(At,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let yt=At;i.ColorManager=yt;const jn=class jn{constructor(Mt,fn,Pn,zn,Hn,Ln){rn(this,$t);rn(this,ot,null);rn(this,Et,new Map);rn(this,Tt,new Map);rn(this,sn,null);rn(this,jt,null);rn(this,Xt,new st);rn(this,Nt,0);rn(this,Ot,new Set);rn(this,St,null);rn(this,Lt,null);rn(this,Vt,new Set);rn(this,wt,null);rn(this,et,new ut);rn(this,nt,!1);rn(this,vt,!1);rn(this,xt,null);rn(this,Pt,o.AnnotationEditorType.NONE);rn(this,Ct,new Set);rn(this,Ht,null);rn(this,an,this.blur.bind(this));rn(this,un,this.focus.bind(this));rn(this,dn,this.copy.bind(this));rn(this,pn,this.cut.bind(this));rn(this,yn,this.paste.bind(this));rn(this,_n,this.keydown.bind(this));rn(this,Zt,this.onEditingAction.bind(this));rn(this,en,this.onPageChanging.bind(this));rn(this,_t,this.onScaleChanging.bind(this));rn(this,Rt,this.onRotationChanging.bind(this));rn(this,Gt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});rn(this,tn,[0,0]);rn(this,hn,null);rn(this,Sn,null);rn(this,mn,null);on(this,Sn,Mt),on(this,mn,fn),on(this,sn,Pn),this._eventBus=zn,this._eventBus._on("editingaction",h(this,Zt)),this._eventBus._on("pagechanging",h(this,en)),this._eventBus._on("scalechanging",h(this,_t)),this._eventBus._on("rotationchanging",h(this,Rt)),on(this,jt,Hn.annotationStorage),on(this,wt,Hn.filterFactory),on(this,Ht,Ln),this.viewParameters={realScale:c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Mt=jn.prototype,fn=Hn=>{const{activeElement:Ln}=document;return Ln&&h(Hn,Sn).contains(Ln)&&Hn.hasSomethingToControl()},Pn=this.TRANSLATE_SMALL,zn=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new _e([[["ctrl+a","mac+meta+a"],Mt.selectAll],[["ctrl+z","mac+meta+z"],Mt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Mt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Mt.delete],[["Escape","mac+Escape"],Mt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Mt.translateSelectedEditors,{args:[-Pn,0],checker:fn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Mt.translateSelectedEditors,{args:[-zn,0],checker:fn}],[["ArrowRight","mac+ArrowRight"],Mt.translateSelectedEditors,{args:[Pn,0],checker:fn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Mt.translateSelectedEditors,{args:[zn,0],checker:fn}],[["ArrowUp","mac+ArrowUp"],Mt.translateSelectedEditors,{args:[0,-Pn],checker:fn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Mt.translateSelectedEditors,{args:[0,-zn],checker:fn}],[["ArrowDown","mac+ArrowDown"],Mt.translateSelectedEditors,{args:[0,Pn],checker:fn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Mt.translateSelectedEditors,{args:[0,zn],checker:fn}]]))}destroy(){Wt(this,$t,Ws).call(this),Wt(this,$t,bo).call(this),this._eventBus._off("editingaction",h(this,Zt)),this._eventBus._off("pagechanging",h(this,en)),this._eventBus._off("scalechanging",h(this,_t)),this._eventBus._off("rotationchanging",h(this,Rt));for(const Mt of h(this,Tt).values())Mt.destroy();h(this,Tt).clear(),h(this,Et).clear(),h(this,Vt).clear(),on(this,ot,null),h(this,Ct).clear(),h(this,Xt).destroy(),h(this,sn).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",h(this,Ht)?h(this,wt).addHCMFilter(h(this,Ht).foreground,h(this,Ht).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(h(this,Sn)).direction)}editAltText(Mt){var fn;(fn=h(this,sn))==null||fn.editAltText(this,Mt)}onPageChanging({pageNumber:Mt}){on(this,Nt,Mt-1)}focusMainContainer(){h(this,Sn).focus()}findParent(Mt,fn){for(const Pn of h(this,Tt).values()){const{x:zn,y:Hn,width:Ln,height:kt}=Pn.div.getBoundingClientRect();if(Mt>=zn&&Mt<=zn+Ln&&fn>=Hn&&fn<=Hn+kt)return Pn}return null}disableUserSelect(Mt=!1){h(this,mn).classList.toggle("noUserSelect",Mt)}addShouldRescale(Mt){h(this,Vt).add(Mt)}removeShouldRescale(Mt){h(this,Vt).delete(Mt)}onScaleChanging({scale:Mt}){this.commitOrRemove(),this.viewParameters.realScale=Mt*c.PixelsPerInch.PDF_TO_CSS_UNITS;for(const fn of h(this,Vt))fn.onScaleChanging()}onRotationChanging({pagesRotation:Mt}){this.commitOrRemove(),this.viewParameters.rotation=Mt}addToAnnotationStorage(Mt){!Mt.isEmpty()&&h(this,jt)&&!h(this,jt).has(Mt.id)&&h(this,jt).setValue(Mt.id,Mt)}blur(){if(!this.hasSelection)return;const{activeElement:Mt}=document;for(const fn of h(this,Ct))if(fn.div.contains(Mt)){on(this,xt,[fn,Mt]),fn._focusEventsAllowed=!1;break}}focus(){if(!h(this,xt))return;const[Mt,fn]=h(this,xt);on(this,xt,null),fn.addEventListener("focusin",()=>{Mt._focusEventsAllowed=!0},{once:!0}),fn.focus()}addEditListeners(){Wt(this,$t,Ao).call(this),Wt(this,$t,xo).call(this)}removeEditListeners(){Wt(this,$t,Ws).call(this),Wt(this,$t,ko).call(this)}copy(Mt){var Pn;if(Mt.preventDefault(),(Pn=h(this,ot))==null||Pn.commitOrRemove(),!this.hasSelection)return;const fn=[];for(const zn of h(this,Ct)){const Hn=zn.serialize(!0);Hn&&fn.push(Hn)}fn.length!==0&&Mt.clipboardData.setData("application/pdfjs",JSON.stringify(fn))}cut(Mt){this.copy(Mt),this.delete()}paste(Mt){Mt.preventDefault();const{clipboardData:fn}=Mt;for(const Hn of fn.items)for(const Ln of h(this,Lt))if(Ln.isHandlingMimeForPasting(Hn.type)){Ln.paste(Hn,this.currentLayer);return}let Pn=fn.getData("application/pdfjs");if(!Pn)return;try{Pn=JSON.parse(Pn)}catch(Hn){(0,o.warn)(`paste: "${Hn.message}".`);return}if(!Array.isArray(Pn))return;this.unselectAll();const zn=this.currentLayer;try{const Hn=[];for(const bt of Pn){const Bt=zn.deserialize(bt);if(!Bt)return;Hn.push(Bt)}const Ln=()=>{for(const bt of Hn)Wt(this,$t,Co).call(this,bt);Wt(this,$t,Po).call(this,Hn)},kt=()=>{for(const bt of Hn)bt.remove()};this.addCommands({cmd:Ln,undo:kt,mustExec:!0})}catch(Hn){(0,o.warn)(`paste: "${Hn.message}".`)}}keydown(Mt){var fn;(fn=this.getActive())!=null&&fn.shouldGetKeyboardEvents()||jn._keyboardManager.exec(this,Mt)}onEditingAction(Mt){["undo","redo","delete","selectAll"].includes(Mt.name)&&this[Mt.name]()}setEditingState(Mt){Mt?(Wt(this,$t,Il).call(this),Wt(this,$t,Ao).call(this),Wt(this,$t,xo).call(this),Wt(this,$t,es).call(this,{isEditing:h(this,Pt)!==o.AnnotationEditorType.NONE,isEmpty:Wt(this,$t,Ps).call(this),hasSomethingToUndo:h(this,Xt).hasSomethingToUndo(),hasSomethingToRedo:h(this,Xt).hasSomethingToRedo(),hasSelectedEditor:!1})):(Wt(this,$t,bo).call(this),Wt(this,$t,Ws).call(this),Wt(this,$t,ko).call(this),Wt(this,$t,es).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Mt){if(!h(this,Lt)){on(this,Lt,Mt);for(const fn of h(this,Lt))Wt(this,$t,Cs).call(this,fn.defaultPropertiesToUpdate)}}getId(){return h(this,et).getId()}get currentLayer(){return h(this,Tt).get(h(this,Nt))}getLayer(Mt){return h(this,Tt).get(Mt)}get currentPageIndex(){return h(this,Nt)}addLayer(Mt){h(this,Tt).set(Mt.pageIndex,Mt),h(this,nt)?Mt.enable():Mt.disable()}removeLayer(Mt){h(this,Tt).delete(Mt.pageIndex)}updateMode(Mt,fn=null){if(h(this,Pt)!==Mt){if(on(this,Pt,Mt),Mt===o.AnnotationEditorType.NONE){this.setEditingState(!1),Wt(this,$t,Nl).call(this);return}this.setEditingState(!0),Wt(this,$t,Ol).call(this),this.unselectAll();for(const Pn of h(this,Tt).values())Pn.updateMode(Mt);if(fn){for(const Pn of h(this,Et).values())if(Pn.annotationElementId===fn){this.setSelected(Pn),Pn.enterInEditMode();break}}}}updateToolbar(Mt){Mt!==h(this,Pt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Mt})}updateParams(Mt,fn){if(h(this,Lt)){if(Mt===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Mt);return}for(const Pn of h(this,Ct))Pn.updateParams(Mt,fn);for(const Pn of h(this,Lt))Pn.updateDefaultParams(Mt,fn)}}enableWaiting(Mt=!1){if(h(this,vt)!==Mt){on(this,vt,Mt);for(const fn of h(this,Tt).values())Mt?fn.disableClick():fn.enableClick(),fn.div.classList.toggle("waiting",Mt)}}getEditors(Mt){const fn=[];for(const Pn of h(this,Et).values())Pn.pageIndex===Mt&&fn.push(Pn);return fn}getEditor(Mt){return h(this,Et).get(Mt)}addEditor(Mt){h(this,Et).set(Mt.id,Mt)}removeEditor(Mt){var fn;h(this,Et).delete(Mt.id),this.unselect(Mt),(!Mt.annotationElementId||!h(this,Ot).has(Mt.annotationElementId))&&((fn=h(this,jt))==null||fn.remove(Mt.id))}addDeletedAnnotationElement(Mt){h(this,Ot).add(Mt.annotationElementId),Mt.deleted=!0}isDeletedAnnotationElement(Mt){return h(this,Ot).has(Mt)}removeDeletedAnnotationElement(Mt){h(this,Ot).delete(Mt.annotationElementId),Mt.deleted=!1}setActiveEditor(Mt){h(this,ot)!==Mt&&(on(this,ot,Mt),Mt&&Wt(this,$t,Cs).call(this,Mt.propertiesToUpdate))}toggleSelected(Mt){if(h(this,Ct).has(Mt)){h(this,Ct).delete(Mt),Mt.unselect(),Wt(this,$t,es).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Ct).add(Mt),Mt.select(),Wt(this,$t,Cs).call(this,Mt.propertiesToUpdate),Wt(this,$t,es).call(this,{hasSelectedEditor:!0})}setSelected(Mt){for(const fn of h(this,Ct))fn!==Mt&&fn.unselect();h(this,Ct).clear(),h(this,Ct).add(Mt),Mt.select(),Wt(this,$t,Cs).call(this,Mt.propertiesToUpdate),Wt(this,$t,es).call(this,{hasSelectedEditor:!0})}isSelected(Mt){return h(this,Ct).has(Mt)}unselect(Mt){Mt.unselect(),h(this,Ct).delete(Mt),Wt(this,$t,es).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Ct).size!==0}undo(){h(this,Xt).undo(),Wt(this,$t,es).call(this,{hasSomethingToUndo:h(this,Xt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Wt(this,$t,Ps).call(this)})}redo(){h(this,Xt).redo(),Wt(this,$t,es).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,Xt).hasSomethingToRedo(),isEmpty:Wt(this,$t,Ps).call(this)})}addCommands(Mt){h(this,Xt).add(Mt),Wt(this,$t,es).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Wt(this,$t,Ps).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Mt=[...h(this,Ct)],fn=()=>{for(const zn of Mt)zn.remove()},Pn=()=>{for(const zn of Mt)Wt(this,$t,Co).call(this,zn)};this.addCommands({cmd:fn,undo:Pn,mustExec:!0})}commitOrRemove(){var Mt;(Mt=h(this,ot))==null||Mt.commitOrRemove()}hasSomethingToControl(){return h(this,ot)||this.hasSelection}selectAll(){for(const Mt of h(this,Ct))Mt.commit();Wt(this,$t,Po).call(this,h(this,Et).values())}unselectAll(){if(h(this,ot)){h(this,ot).commitOrRemove();return}if(this.hasSelection){for(const Mt of h(this,Ct))Mt.unselect();h(this,Ct).clear(),Wt(this,$t,es).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Mt,fn,Pn=!1){if(Pn||this.commitOrRemove(),!this.hasSelection)return;h(this,tn)[0]+=Mt,h(this,tn)[1]+=fn;const[zn,Hn]=h(this,tn),Ln=[...h(this,Ct)],kt=1e3;h(this,hn)&&clearTimeout(h(this,hn)),on(this,hn,setTimeout(()=>{on(this,hn,null),h(this,tn)[0]=h(this,tn)[1]=0,this.addCommands({cmd:()=>{for(const bt of Ln)h(this,Et).has(bt.id)&&bt.translateInPage(zn,Hn)},undo:()=>{for(const bt of Ln)h(this,Et).has(bt.id)&&bt.translateInPage(-zn,-Hn)},mustExec:!1})},kt));for(const bt of Ln)bt.translateInPage(Mt,fn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),on(this,St,new Map);for(const Mt of h(this,Ct))h(this,St).set(Mt,{savedX:Mt.x,savedY:Mt.y,savedPageIndex:Mt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,St))return!1;this.disableUserSelect(!1);const Mt=h(this,St);on(this,St,null);let fn=!1;for(const[{x:zn,y:Hn,pageIndex:Ln},kt]of Mt)kt.newX=zn,kt.newY=Hn,kt.newPageIndex=Ln,fn||(fn=zn!==kt.savedX||Hn!==kt.savedY||Ln!==kt.savedPageIndex);if(!fn)return!1;const Pn=(zn,Hn,Ln,kt)=>{if(h(this,Et).has(zn.id)){const bt=h(this,Tt).get(kt);bt?zn._setParentAndPosition(bt,Hn,Ln):(zn.pageIndex=kt,zn.x=Hn,zn.y=Ln)}};return this.addCommands({cmd:()=>{for(const[zn,{newX:Hn,newY:Ln,newPageIndex:kt}]of Mt)Pn(zn,Hn,Ln,kt)},undo:()=>{for(const[zn,{savedX:Hn,savedY:Ln,savedPageIndex:kt}]of Mt)Pn(zn,Hn,Ln,kt)},mustExec:!0}),!0}dragSelectedEditors(Mt,fn){if(h(this,St))for(const Pn of h(this,St).keys())Pn.drag(Mt,fn)}rebuild(Mt){if(Mt.parent===null){const fn=this.getLayer(Mt.pageIndex);fn?(fn.changeParent(Mt),fn.addOrRebuild(Mt)):(this.addEditor(Mt),this.addToAnnotationStorage(Mt),Mt.rebuild())}else Mt.parent.addOrRebuild(Mt)}isActive(Mt){return h(this,ot)===Mt}getActive(){return h(this,ot)}getMode(){return h(this,Pt)}get imageManager(){return(0,o.shadow)(this,"imageManager",new tt)}};ot=new WeakMap,Et=new WeakMap,Tt=new WeakMap,sn=new WeakMap,jt=new WeakMap,Xt=new WeakMap,Nt=new WeakMap,Ot=new WeakMap,St=new WeakMap,Lt=new WeakMap,Vt=new WeakMap,wt=new WeakMap,et=new WeakMap,nt=new WeakMap,vt=new WeakMap,xt=new WeakMap,Pt=new WeakMap,Ct=new WeakMap,Ht=new WeakMap,an=new WeakMap,un=new WeakMap,dn=new WeakMap,pn=new WeakMap,yn=new WeakMap,_n=new WeakMap,Zt=new WeakMap,en=new WeakMap,_t=new WeakMap,Rt=new WeakMap,Gt=new WeakMap,tn=new WeakMap,hn=new WeakMap,Sn=new WeakMap,mn=new WeakMap,$t=new WeakSet,Il=function(){window.addEventListener("focus",h(this,un)),window.addEventListener("blur",h(this,an))},bo=function(){window.removeEventListener("focus",h(this,un)),window.removeEventListener("blur",h(this,an))},Ao=function(){window.addEventListener("keydown",h(this,_n),{capture:!0})},Ws=function(){window.removeEventListener("keydown",h(this,_n),{capture:!0})},xo=function(){document.addEventListener("copy",h(this,dn)),document.addEventListener("cut",h(this,pn)),document.addEventListener("paste",h(this,yn))},ko=function(){document.removeEventListener("copy",h(this,dn)),document.removeEventListener("cut",h(this,pn)),document.removeEventListener("paste",h(this,yn))},es=function(Mt){Object.entries(Mt).some(([Pn,zn])=>h(this,Gt)[Pn]!==zn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,Gt),Mt)})},Cs=function(Mt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Mt})},Ol=function(){if(!h(this,nt)){on(this,nt,!0);for(const Mt of h(this,Tt).values())Mt.enable()}},Nl=function(){if(this.unselectAll(),h(this,nt)){on(this,nt,!1);for(const Mt of h(this,Tt).values())Mt.disable()}},Co=function(Mt){const fn=h(this,Tt).get(Mt.pageIndex);fn?fn.addOrRebuild(Mt):this.addEditor(Mt)},Ps=function(){if(h(this,Et).size===0)return!0;if(h(this,Et).size===1)for(const Mt of h(this,Et).values())return Mt.isEmpty();return!1},Po=function(Mt){h(this,Ct).clear();for(const fn of Mt)fn.isEmpty()||(h(this,Ct).add(fn),fn.select());Wt(this,$t,es).call(this,{hasSelectedEditor:!0})},Lr(jn,"TRANSLATE_SMALL",1),Lr(jn,"TRANSLATE_BIG",10);let ft=jn;i.AnnotationEditorUIManager=ft},(e,i,s)=>{var Nt,Ot,St,Lt,Vt,wt,et,nt,vt,xt,Pt,Ct,Ss,ws,To,$s,Gs,Ts,Rs;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=$,i.getColorValues=Et,i.getCurrentTransform=Tt,i.getCurrentTransformInverse=sn,i.getFilenameFromUrl=g,i.getPdfFilenameFromUrl=_,i.getRGB=ot,i.getXfaPageViewport=At,i.isDataScheme=mt,i.isPdfFile=gt,i.isValidFetchUrl=ht,i.loadScript=it,i.noContextMenu=j,i.setLayerDimensions=jt;var o=s(7),c=s(1);const a="http://www.w3.org/2000/svg",Xt=class Xt{};Lr(Xt,"CSS",96),Lr(Xt,"PDF",72),Lr(Xt,"PDF_TO_CSS_UNITS",Xt.CSS/Xt.PDF);let d=Xt;i.PixelsPerInch=d;class ut extends o.BaseFilterFactory{constructor({docId:_t,ownerDocument:Rt=globalThis.document}={}){super();rn(this,Ct);rn(this,Nt);rn(this,Ot);rn(this,St);rn(this,Lt);rn(this,Vt);rn(this,wt);rn(this,et);rn(this,nt);rn(this,vt);rn(this,xt);rn(this,Pt,0);on(this,St,_t),on(this,Lt,Rt)}addFilter(_t){if(!_t)return"none";let Rt=h(this,Ct,Ss).get(_t);if(Rt)return Rt;let Gt,tn,hn,Sn;if(_t.length===1){const xn=_t[0],nr=new Array(256);for(let Yn=0;Yn<256;Yn++)nr[Yn]=xn[Yn]/255;Sn=Gt=tn=hn=nr.join(",")}else{const[xn,nr,Yn]=_t,fr=new Array(256),In=new Array(256),Wn=new Array(256);for(let ar=0;ar<256;ar++)fr[ar]=xn[ar]/255,In[ar]=nr[ar]/255,Wn[ar]=Yn[ar]/255;Gt=fr.join(","),tn=In.join(","),hn=Wn.join(","),Sn=`${Gt}${tn}${hn}`}if(Rt=h(this,Ct,Ss).get(Sn),Rt)return h(this,Ct,Ss).set(_t,Rt),Rt;const mn=`g_${h(this,St)}_transfer_map_${ks(this,Pt)._++}`,$t=`url(#${mn})`;h(this,Ct,Ss).set(_t,$t),h(this,Ct,Ss).set(Sn,$t);const Tn=Wt(this,Ct,$s).call(this,mn);return Wt(this,Ct,Ts).call(this,Gt,tn,hn,Tn),$t}addHCMFilter(_t,Rt){var nr;const Gt=`${_t}-${Rt}`;if(h(this,wt)===Gt)return h(this,et);if(on(this,wt,Gt),on(this,et,"none"),(nr=h(this,Vt))==null||nr.remove(),!_t||!Rt)return h(this,et);const tn=Wt(this,Ct,Rs).call(this,_t);_t=c.Util.makeHexColor(...tn);const hn=Wt(this,Ct,Rs).call(this,Rt);if(Rt=c.Util.makeHexColor(...hn),h(this,Ct,ws).style.color="",_t==="#000000"&&Rt==="#ffffff"||_t===Rt)return h(this,et);const Sn=new Array(256);for(let Yn=0;Yn<=255;Yn++){const fr=Yn/255;Sn[Yn]=fr<=.03928?fr/12.92:((fr+.055)/1.055)**2.4}const mn=Sn.join(","),$t=`g_${h(this,St)}_hcm_filter`,Tn=on(this,nt,Wt(this,Ct,$s).call(this,$t));Wt(this,Ct,Ts).call(this,mn,mn,mn,Tn),Wt(this,Ct,To).call(this,Tn);const xn=(Yn,fr)=>{const In=tn[Yn]/255,Wn=hn[Yn]/255,ar=new Array(fr+1);for(let wr=0;wr<=fr;wr++)ar[wr]=In+wr/fr*(Wn-In);return ar.join(",")};return Wt(this,Ct,Ts).call(this,xn(0,5),xn(1,5),xn(2,5),Tn),on(this,et,`url(#${$t})`),h(this,et)}addHighlightHCMFilter(_t,Rt,Gt,tn){var Wn;const hn=`${_t}-${Rt}-${Gt}-${tn}`;if(h(this,vt)===hn)return h(this,xt);if(on(this,vt,hn),on(this,xt,"none"),(Wn=h(this,nt))==null||Wn.remove(),!_t||!Rt)return h(this,xt);const[Sn,mn]=[_t,Rt].map(Wt(this,Ct,Rs).bind(this));let $t=Math.round(.2126*Sn[0]+.7152*Sn[1]+.0722*Sn[2]),Tn=Math.round(.2126*mn[0]+.7152*mn[1]+.0722*mn[2]),[xn,nr]=[Gt,tn].map(Wt(this,Ct,Rs).bind(this));Tn<$t&&([$t,Tn,xn,nr]=[Tn,$t,nr,xn]),h(this,Ct,ws).style.color="";const Yn=(ar,wr,gn)=>{const qt=new Array(256),Kt=(Tn-$t)/gn,Dn=ar/255,jn=(wr-ar)/(255*gn);let qn=0;for(let Mt=0;Mt<=gn;Mt++){const fn=Math.round($t+Mt*Kt),Pn=Dn+Mt*jn;for(let zn=qn;zn<=fn;zn++)qt[zn]=Pn;qn=fn+1}for(let Mt=qn;Mt<256;Mt++)qt[Mt]=qt[qn-1];return qt.join(",")},fr=`g_${h(this,St)}_hcm_highlight_filter`,In=on(this,nt,Wt(this,Ct,$s).call(this,fr));return Wt(this,Ct,To).call(this,In),Wt(this,Ct,Ts).call(this,Yn(xn[0],nr[0],5),Yn(xn[1],nr[1],5),Yn(xn[2],nr[2],5),In),on(this,xt,`url(#${fr})`),h(this,xt)}destroy(_t=!1){_t&&(h(this,et)||h(this,xt))||(h(this,Ot)&&(h(this,Ot).parentNode.parentNode.remove(),on(this,Ot,null)),h(this,Nt)&&(h(this,Nt).clear(),on(this,Nt,null)),on(this,Pt,0))}}Nt=new WeakMap,Ot=new WeakMap,St=new WeakMap,Lt=new WeakMap,Vt=new WeakMap,wt=new WeakMap,et=new WeakMap,nt=new WeakMap,vt=new WeakMap,xt=new WeakMap,Pt=new WeakMap,Ct=new WeakSet,Ss=function(){return h(this,Nt)||on(this,Nt,new Map)},ws=function(){if(!h(this,Ot)){const _t=h(this,Lt).createElement("div"),{style:Rt}=_t;Rt.visibility="hidden",Rt.contain="strict",Rt.width=Rt.height=0,Rt.position="absolute",Rt.top=Rt.left=0,Rt.zIndex=-1;const Gt=h(this,Lt).createElementNS(a,"svg");Gt.setAttribute("width",0),Gt.setAttribute("height",0),on(this,Ot,h(this,Lt).createElementNS(a,"defs")),_t.append(Gt),Gt.append(h(this,Ot)),h(this,Lt).body.append(_t)}return h(this,Ot)},To=function(_t){const Rt=h(this,Lt).createElementNS(a,"feColorMatrix");Rt.setAttribute("type","matrix"),Rt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),_t.append(Rt)},$s=function(_t){const Rt=h(this,Lt).createElementNS(a,"filter");return Rt.setAttribute("color-interpolation-filters","sRGB"),Rt.setAttribute("id",_t),h(this,Ct,ws).append(Rt),Rt},Gs=function(_t,Rt,Gt){const tn=h(this,Lt).createElementNS(a,Rt);tn.setAttribute("type","discrete"),tn.setAttribute("tableValues",Gt),_t.append(tn)},Ts=function(_t,Rt,Gt,tn){const hn=h(this,Lt).createElementNS(a,"feComponentTransfer");tn.append(hn),Wt(this,Ct,Gs).call(this,hn,"feFuncR",_t),Wt(this,Ct,Gs).call(this,hn,"feFuncG",Rt),Wt(this,Ct,Gs).call(this,hn,"feFuncB",Gt)},Rs=function(_t){return h(this,Ct,ws).style.color=_t,ot(getComputedStyle(h(this,Ct,ws)).getPropertyValue("color"))},i.DOMFilterFactory=ut;class tt extends o.BaseCanvasFactory{constructor({ownerDocument:en=globalThis.document}={}){super(),this._document=en}_createCanvas(en,_t){const Rt=this._document.createElement("canvas");return Rt.width=en,Rt.height=_t,Rt}}i.DOMCanvasFactory=tt;async function st(Zt,en=!1){if(ht(Zt,document.baseURI)){const _t=await fetch(Zt);if(!_t.ok)throw new Error(_t.statusText);return en?new Uint8Array(await _t.arrayBuffer()):(0,c.stringToBytes)(await _t.text())}return new Promise((_t,Rt)=>{const Gt=new XMLHttpRequest;Gt.open("GET",Zt,!0),en&&(Gt.responseType="arraybuffer"),Gt.onreadystatechange=()=>{if(Gt.readyState===XMLHttpRequest.DONE){if(Gt.status===200||Gt.status===0){let tn;if(en&&Gt.response?tn=new Uint8Array(Gt.response):!en&&Gt.responseText&&(tn=(0,c.stringToBytes)(Gt.responseText)),tn){_t(tn);return}}Rt(new Error(Gt.statusText))}},Gt.send(null)})}class _e extends o.BaseCMapReaderFactory{_fetchData(en,_t){return st(en,this.isCompressed).then(Rt=>({cMapData:Rt,compressionType:_t}))}}i.DOMCMapReaderFactory=_e;class yt extends o.BaseStandardFontDataFactory{_fetchData(en){return st(en,!0)}}i.DOMStandardFontDataFactory=yt;class ft extends o.BaseSVGFactory{_createSVG(en){return document.createElementNS(a,en)}}i.DOMSVGFactory=ft;class dt{constructor({viewBox:en,scale:_t,rotation:Rt,offsetX:Gt=0,offsetY:tn=0,dontFlip:hn=!1}){this.viewBox=en,this.scale=_t,this.rotation=Rt,this.offsetX=Gt,this.offsetY=tn;const Sn=(en[2]+en[0])/2,mn=(en[3]+en[1])/2;let $t,Tn,xn,nr;switch(Rt%=360,Rt<0&&(Rt+=360),Rt){case 180:$t=-1,Tn=0,xn=0,nr=1;break;case 90:$t=0,Tn=1,xn=1,nr=0;break;case 270:$t=0,Tn=-1,xn=-1,nr=0;break;case 0:$t=1,Tn=0,xn=0,nr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}hn&&(xn=-xn,nr=-nr);let Yn,fr,In,Wn;$t===0?(Yn=Math.abs(mn-en[1])*_t+Gt,fr=Math.abs(Sn-en[0])*_t+tn,In=(en[3]-en[1])*_t,Wn=(en[2]-en[0])*_t):(Yn=Math.abs(Sn-en[0])*_t+Gt,fr=Math.abs(mn-en[1])*_t+tn,In=(en[2]-en[0])*_t,Wn=(en[3]-en[1])*_t),this.transform=[$t*_t,Tn*_t,xn*_t,nr*_t,Yn-$t*_t*Sn-xn*_t*mn,fr-Tn*_t*Sn-nr*_t*mn],this.width=In,this.height=Wn}get rawDims(){const{viewBox:en}=this;return(0,c.shadow)(this,"rawDims",{pageWidth:en[2]-en[0],pageHeight:en[3]-en[1],pageX:en[0],pageY:en[1]})}clone({scale:en=this.scale,rotation:_t=this.rotation,offsetX:Rt=this.offsetX,offsetY:Gt=this.offsetY,dontFlip:tn=!1}={}){return new dt({viewBox:this.viewBox.slice(),scale:en,rotation:_t,offsetX:Rt,offsetY:Gt,dontFlip:tn})}convertToViewportPoint(en,_t){return c.Util.applyTransform([en,_t],this.transform)}convertToViewportRectangle(en){const _t=c.Util.applyTransform([en[0],en[1]],this.transform),Rt=c.Util.applyTransform([en[2],en[3]],this.transform);return[_t[0],_t[1],Rt[0],Rt[1]]}convertToPdfPoint(en,_t){return c.Util.applyInverseTransform([en,_t],this.transform)}}i.PageViewport=dt;class lt extends c.BaseException{constructor(en,_t=0){super(en,"RenderingCancelledException"),this.extraDelay=_t}}i.RenderingCancelledException=lt;function mt(Zt){const en=Zt.length;let _t=0;for(;_t<en&&Zt[_t].trim()==="";)_t++;return Zt.substring(_t,_t+5).toLowerCase()==="data:"}function gt(Zt){return typeof Zt=="string"&&/\.pdf$/i.test(Zt)}function g(Zt,en=!1){return en||([Zt]=Zt.split(/[#?]/,1)),Zt.substring(Zt.lastIndexOf("/")+1)}function _(Zt,en="document.pdf"){if(typeof Zt!="string")return en;if(mt(Zt))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),en;const _t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Rt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Gt=_t.exec(Zt);let tn=Rt.exec(Gt[1])||Rt.exec(Gt[2])||Rt.exec(Gt[3]);if(tn&&(tn=tn[0],tn.includes("%")))try{tn=Rt.exec(decodeURIComponent(tn))[0]}catch{}return tn||en}class at{constructor(){Lr(this,"started",Object.create(null));Lr(this,"times",[])}time(en){en in this.started&&(0,c.warn)(`Timer is already running for ${en}`),this.started[en]=Date.now()}timeEnd(en){en in this.started||(0,c.warn)(`Timer has not been started for ${en}`),this.times.push({name:en,start:this.started[en],end:Date.now()}),delete this.started[en]}toString(){const en=[];let _t=0;for(const{name:Rt}of this.times)_t=Math.max(Rt.length,_t);for(const{name:Rt,start:Gt,end:tn}of this.times)en.push(`${Rt.padEnd(_t)} ${tn-Gt}ms
`);return en.join("")}}i.StatTimer=at;function ht(Zt,en){try{const{protocol:_t}=en?new URL(Zt,en):new URL(Zt);return _t==="http:"||_t==="https:"}catch{return!1}}function j(Zt){Zt.preventDefault()}function it(Zt,en=!1){return new Promise((_t,Rt)=>{const Gt=document.createElement("script");Gt.src=Zt,Gt.onload=function(tn){en&&Gt.remove(),_t(tn)},Gt.onerror=function(){Rt(new Error(`Cannot load script at: ${Gt.src}`))},(document.head||document.documentElement).append(Gt)})}function $(Zt){console.log("Deprecated API usage: "+Zt)}let rt;class ct{static toDateObject(en){if(!en||typeof en!="string")return null;rt||(rt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const _t=rt.exec(en);if(!_t)return null;const Rt=parseInt(_t[1],10);let Gt=parseInt(_t[2],10);Gt=Gt>=1&&Gt<=12?Gt-1:0;let tn=parseInt(_t[3],10);tn=tn>=1&&tn<=31?tn:1;let hn=parseInt(_t[4],10);hn=hn>=0&&hn<=23?hn:0;let Sn=parseInt(_t[5],10);Sn=Sn>=0&&Sn<=59?Sn:0;let mn=parseInt(_t[6],10);mn=mn>=0&&mn<=59?mn:0;const $t=_t[7]||"Z";let Tn=parseInt(_t[8],10);Tn=Tn>=0&&Tn<=23?Tn:0;let xn=parseInt(_t[9],10)||0;return xn=xn>=0&&xn<=59?xn:0,$t==="-"?(hn+=Tn,Sn+=xn):$t==="+"&&(hn-=Tn,Sn-=xn),new Date(Date.UTC(Rt,Gt,tn,hn,Sn,mn))}}i.PDFDateString=ct;function At(Zt,{scale:en=1,rotation:_t=0}){const{width:Rt,height:Gt}=Zt.attributes.style,tn=[0,0,parseInt(Rt),parseInt(Gt)];return new dt({viewBox:tn,scale:en,rotation:_t})}function ot(Zt){if(Zt.startsWith("#")){const en=parseInt(Zt.slice(1),16);return[(en&16711680)>>16,(en&65280)>>8,en&255]}return Zt.startsWith("rgb(")?Zt.slice(4,-1).split(",").map(en=>parseInt(en)):Zt.startsWith("rgba(")?Zt.slice(5,-1).split(",").map(en=>parseInt(en)).slice(0,3):((0,c.warn)(`Not a valid color format: "${Zt}"`),[0,0,0])}function Et(Zt){const en=document.createElement("span");en.style.visibility="hidden",document.body.append(en);for(const _t of Zt.keys()){en.style.color=_t;const Rt=window.getComputedStyle(en).color;Zt.set(_t,ot(Rt))}en.remove()}function Tt(Zt){const{a:en,b:_t,c:Rt,d:Gt,e:tn,f:hn}=Zt.getTransform();return[en,_t,Rt,Gt,tn,hn]}function sn(Zt){const{a:en,b:_t,c:Rt,d:Gt,e:tn,f:hn}=Zt.getTransform().invertSelf();return[en,_t,Rt,Gt,tn,hn]}function jt(Zt,en,_t=!1,Rt=!0){if(en instanceof dt){const{pageWidth:Gt,pageHeight:tn}=en.rawDims,{style:hn}=Zt,Sn=c.FeatureTest.isCSSRoundSupported,mn=`var(--scale-factor) * ${Gt}px`,$t=`var(--scale-factor) * ${tn}px`,Tn=Sn?`round(${mn}, 1px)`:`calc(${mn})`,xn=Sn?`round(${$t}, 1px)`:`calc(${$t})`;!_t||en.rotation%180===0?(hn.width=Tn,hn.height=xn):(hn.width=xn,hn.height=Tn)}Rt&&Zt.setAttribute("data-main-rotation",en.rotation)}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var o=s(1);class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(_e){return"none"}addHCMFilter(_e,yt){return"none"}addHighlightHCMFilter(_e,yt,ft,dt){return"none"}destroy(_e=!1){}}i.BaseFilterFactory=c;class a{constructor(){this.constructor===a&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_e,yt){if(_e<=0||yt<=0)throw new Error("Invalid canvas size");const ft=this._createCanvas(_e,yt);return{canvas:ft,context:ft.getContext("2d")}}reset(_e,yt,ft){if(!_e.canvas)throw new Error("Canvas is not specified");if(yt<=0||ft<=0)throw new Error("Invalid canvas size");_e.canvas.width=yt,_e.canvas.height=ft}destroy(_e){if(!_e.canvas)throw new Error("Canvas is not specified");_e.canvas.width=0,_e.canvas.height=0,_e.canvas=null,_e.context=null}_createCanvas(_e,yt){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=a;class d{constructor({baseUrl:_e=null,isCompressed:yt=!0}){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_e,this.isCompressed=yt}async fetch({name:_e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_e)throw new Error("CMap name must be specified.");const yt=this.baseUrl+_e+(this.isCompressed?".bcmap":""),ft=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(yt,ft).catch(dt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${yt}`)})}_fetchData(_e,yt){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=d;class ut{constructor({baseUrl:_e=null}){this.constructor===ut&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_e}async fetch({filename:_e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_e)throw new Error("Font filename must be specified.");const yt=`${this.baseUrl}${_e}`;return this._fetchData(yt).catch(ft=>{throw new Error(`Unable to load font data at: ${yt}`)})}_fetchData(_e){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=ut;class tt{constructor(){this.constructor===tt&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(_e,yt,ft=!1){if(_e<=0||yt<=0)throw new Error("Invalid SVG dimensions");const dt=this._createSVG("svg:svg");return dt.setAttribute("version","1.1"),ft||(dt.setAttribute("width",`${_e}px`),dt.setAttribute("height",`${yt}px`)),dt.setAttribute("preserveAspectRatio","none"),dt.setAttribute("viewBox",`0 0 ${_e} ${yt}`),dt}createElement(_e){if(typeof _e!="string")throw new Error("Invalid SVG element type");return this._createSVG(_e)}_createSVG(_e){(0,o.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=tt},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var o=s(1);const c=3285377520,a=4294901760,d=65535;class ut{constructor(st){this.h1=st?st&4294967295:c,this.h2=st?st&4294967295:c}update(st){let _e,yt;if(typeof st=="string"){_e=new Uint8Array(st.length*2),yt=0;for(let $=0,rt=st.length;$<rt;$++){const ct=st.charCodeAt($);ct<=255?_e[yt++]=ct:(_e[yt++]=ct>>>8,_e[yt++]=ct&255)}}else if((0,o.isArrayBuffer)(st))_e=st.slice(),yt=_e.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ft=yt>>2,dt=yt-ft*4,lt=new Uint32Array(_e.buffer,0,ft);let mt=0,gt=0,g=this.h1,_=this.h2;const at=3432918353,ht=461845907,j=at&d,it=ht&d;for(let $=0;$<ft;$++)$&1?(mt=lt[$],mt=mt*at&a|mt*j&d,mt=mt<<15|mt>>>17,mt=mt*ht&a|mt*it&d,g^=mt,g=g<<13|g>>>19,g=g*5+3864292196):(gt=lt[$],gt=gt*at&a|gt*j&d,gt=gt<<15|gt>>>17,gt=gt*ht&a|gt*it&d,_^=gt,_=_<<13|_>>>19,_=_*5+3864292196);switch(mt=0,dt){case 3:mt^=_e[ft*4+2]<<16;case 2:mt^=_e[ft*4+1]<<8;case 1:mt^=_e[ft*4],mt=mt*at&a|mt*j&d,mt=mt<<15|mt>>>17,mt=mt*ht&a|mt*it&d,ft&1?g^=mt:_^=mt}this.h1=g,this.h2=_}hexdigest(){let st=this.h1,_e=this.h2;return st^=_e>>>1,st=st*3981806797&a|st*36045&d,_e=_e*4283543511&a|((_e<<16|st>>>16)*2950163797&a)>>>16,st^=_e>>>1,st=st*444984403&a|st*60499&d,_e=_e*3301882366&a|((_e<<16|st>>>16)*3120437893&a)>>>16,st^=_e>>>1,(st>>>0).toString(16).padStart(8,"0")+(_e>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=ut},(e,i,s)=>{var d;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var o=s(1);class c{constructor({ownerDocument:tt=globalThis.document,styleElement:st=null}){rn(this,d,new Set);this._document=tt,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(tt){this.nativeFontFaces.add(tt),this._document.fonts.add(tt)}removeNativeFontFace(tt){this.nativeFontFaces.delete(tt),this._document.fonts.delete(tt)}insertRule(tt){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const st=this.styleElement.sheet;st.insertRule(tt,st.cssRules.length)}clear(){for(const tt of this.nativeFontFaces)this._document.fonts.delete(tt);this.nativeFontFaces.clear(),h(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(tt){if(!(!tt||h(this,d).has(tt.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:st,src:_e,style:yt}=tt,ft=new FontFace(st,_e,yt);this.addNativeFontFace(ft);try{await ft.load(),h(this,d).add(st)}catch{(0,o.warn)(`Cannot load system font: ${tt.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ft)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(tt){if(tt.attached||tt.missingFile&&!tt.systemFontInfo)return;if(tt.attached=!0,tt.systemFontInfo){await this.loadSystemFont(tt.systemFontInfo);return}if(this.isFontLoadingAPISupported){const _e=tt.createNativeFontFace();if(_e){this.addNativeFontFace(_e);try{await _e.loaded}catch(yt){throw(0,o.warn)(`Failed to load font '${_e.family}': '${yt}'.`),tt.disableFontFace=!0,yt}}return}const st=tt.createFontFaceRule();if(st){if(this.insertRule(st),this.isSyncFontLoadingSupported)return;await new Promise(_e=>{const yt=this._queueLoadingCallback(_e);this._prepareFontLoadEvent(tt,yt)})}}get isFontLoadingAPISupported(){var st;const tt=!!((st=this._document)!=null&&st.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",tt)}get isSyncFontLoadingSupported(){let tt=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(tt=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",tt)}_queueLoadingCallback(tt){function st(){for((0,o.assert)(!yt.done,"completeRequest() cannot be called twice."),yt.done=!0;_e.length>0&&_e[0].done;){const ft=_e.shift();setTimeout(ft.callback,0)}}const{loadingRequests:_e}=this,yt={done:!1,complete:st,callback:tt};return _e.push(yt),yt}get _loadTestFont(){const tt=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",tt)}_prepareFontLoadEvent(tt,st){function _e(ot,Et){return ot.charCodeAt(Et)<<24|ot.charCodeAt(Et+1)<<16|ot.charCodeAt(Et+2)<<8|ot.charCodeAt(Et+3)&255}function yt(ot,Et,Tt,sn){const jt=ot.substring(0,Et),Xt=ot.substring(Et+Tt);return jt+sn+Xt}let ft,dt;const lt=this._document.createElement("canvas");lt.width=1,lt.height=1;const mt=lt.getContext("2d");let gt=0;function g(ot,Et){if(++gt>30){(0,o.warn)("Load test font never loaded."),Et();return}if(mt.font="30px "+ot,mt.fillText(".",0,20),mt.getImageData(0,0,1,1).data[3]>0){Et();return}setTimeout(g.bind(null,ot,Et))}const _=`lt${Date.now()}${this.loadTestFontId++}`;let at=this._loadTestFont;at=yt(at,976,_.length,_);const j=16,it=1482184792;let $=_e(at,j);for(ft=0,dt=_.length-3;ft<dt;ft+=4)$=$-it+_e(_,ft)|0;ft<_.length&&($=$-it+_e(_+"XXX",ft)|0),at=yt(at,j,4,(0,o.string32)($));const rt=`url(data:font/opentype;base64,${btoa(at)});`,ct=`@font-face {font-family:"${_}";src:${rt}}`;this.insertRule(ct);const At=this._document.createElement("div");At.style.visibility="hidden",At.style.width=At.style.height="10px",At.style.position="absolute",At.style.top=At.style.left="0px";for(const ot of[tt.loadedName,_]){const Et=this._document.createElement("span");Et.textContent="Hi",Et.style.fontFamily=ot,At.append(Et)}this._document.body.append(At),g(_,()=>{At.remove(),st.complete()})}}d=new WeakMap,i.FontLoader=c;class a{constructor(tt,{isEvalSupported:st=!0,disableFontFace:_e=!1,ignoreErrors:yt=!1,inspectFont:ft=null}){this.compiledGlyphs=Object.create(null);for(const dt in tt)this[dt]=tt[dt];this.isEvalSupported=st!==!1,this.disableFontFace=_e===!0,this.ignoreErrors=yt===!0,this._inspectFont=ft}createNativeFontFace(){var st;if(!this.data||this.disableFontFace)return null;let tt;if(!this.cssFontInfo)tt=new FontFace(this.loadedName,this.data,{});else{const _e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),tt=new FontFace(this.cssFontInfo.fontFamily,this.data,_e)}return(st=this._inspectFont)==null||st.call(this,this),tt}createFontFaceRule(){var yt;if(!this.data||this.disableFontFace)return null;const tt=(0,o.bytesToString)(this.data),st=`url(data:${this.mimetype};base64,${btoa(tt)});`;let _e;if(!this.cssFontInfo)_e=`@font-face {font-family:"${this.loadedName}";src:${st}}`;else{let ft=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ft+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ft}src:${st}}`}return(yt=this._inspectFont)==null||yt.call(this,this,st),_e}getPathGenerator(tt,st){if(this.compiledGlyphs[st]!==void 0)return this.compiledGlyphs[st];let _e;try{_e=tt.get(this.loadedName+"_path_"+st)}catch(yt){if(!this.ignoreErrors)throw yt;return(0,o.warn)(`getPathGenerator - ignoring character: "${yt}".`),this.compiledGlyphs[st]=function(ft,dt){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const yt=[];for(const ft of _e){const dt=ft.args!==void 0?ft.args.join(","):"";yt.push("c.",ft.cmd,"(",dt,`);
`)}return this.compiledGlyphs[st]=new Function("c","size",yt.join(""))}return this.compiledGlyphs[st]=function(yt,ft){for(const dt of _e)dt.cmd==="scale"&&(dt.args=[ft,-ft]),yt[dt.cmd].apply(yt,dt.args)}}}i.FontFaceObject=a},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var o=s(7);s(1);const c=function(st){return new Promise((_e,yt)=>{require$$5.readFile(st,(dt,lt)=>{if(dt||!lt){yt(new Error(dt));return}_e(new Uint8Array(lt))})})};class a extends o.BaseFilterFactory{}i.NodeFilterFactory=a;class d extends o.BaseCanvasFactory{_createCanvas(_e,yt){return require$$5.createCanvas(_e,yt)}}i.NodeCanvasFactory=d;class ut extends o.BaseCMapReaderFactory{_fetchData(_e,yt){return c(_e).then(ft=>({cMapData:ft,compressionType:yt}))}}i.NodeCMapReaderFactory=ut;class tt extends o.BaseStandardFontDataFactory{_fetchData(_e){return c(_e)}}i.NodeStandardFontDataFactory=tt},(e,i,s)=>{var Ot,Ro,Mo;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var o=s(1),c=s(6),a=s(12),d=s(13);const ut=16,tt=100,st=4096,_e=15,yt=10,ft=1e3,dt=16;function lt(wt,et){if(wt._removeMirroring)throw new Error("Context is already forwarding operations.");wt.__originalSave=wt.save,wt.__originalRestore=wt.restore,wt.__originalRotate=wt.rotate,wt.__originalScale=wt.scale,wt.__originalTranslate=wt.translate,wt.__originalTransform=wt.transform,wt.__originalSetTransform=wt.setTransform,wt.__originalResetTransform=wt.resetTransform,wt.__originalClip=wt.clip,wt.__originalMoveTo=wt.moveTo,wt.__originalLineTo=wt.lineTo,wt.__originalBezierCurveTo=wt.bezierCurveTo,wt.__originalRect=wt.rect,wt.__originalClosePath=wt.closePath,wt.__originalBeginPath=wt.beginPath,wt._removeMirroring=()=>{wt.save=wt.__originalSave,wt.restore=wt.__originalRestore,wt.rotate=wt.__originalRotate,wt.scale=wt.__originalScale,wt.translate=wt.__originalTranslate,wt.transform=wt.__originalTransform,wt.setTransform=wt.__originalSetTransform,wt.resetTransform=wt.__originalResetTransform,wt.clip=wt.__originalClip,wt.moveTo=wt.__originalMoveTo,wt.lineTo=wt.__originalLineTo,wt.bezierCurveTo=wt.__originalBezierCurveTo,wt.rect=wt.__originalRect,wt.closePath=wt.__originalClosePath,wt.beginPath=wt.__originalBeginPath,delete wt._removeMirroring},wt.save=function(){et.save(),this.__originalSave()},wt.restore=function(){et.restore(),this.__originalRestore()},wt.translate=function(vt,xt){et.translate(vt,xt),this.__originalTranslate(vt,xt)},wt.scale=function(vt,xt){et.scale(vt,xt),this.__originalScale(vt,xt)},wt.transform=function(vt,xt,Pt,Ct,Ht,an){et.transform(vt,xt,Pt,Ct,Ht,an),this.__originalTransform(vt,xt,Pt,Ct,Ht,an)},wt.setTransform=function(vt,xt,Pt,Ct,Ht,an){et.setTransform(vt,xt,Pt,Ct,Ht,an),this.__originalSetTransform(vt,xt,Pt,Ct,Ht,an)},wt.resetTransform=function(){et.resetTransform(),this.__originalResetTransform()},wt.rotate=function(vt){et.rotate(vt),this.__originalRotate(vt)},wt.clip=function(vt){et.clip(vt),this.__originalClip(vt)},wt.moveTo=function(nt,vt){et.moveTo(nt,vt),this.__originalMoveTo(nt,vt)},wt.lineTo=function(nt,vt){et.lineTo(nt,vt),this.__originalLineTo(nt,vt)},wt.bezierCurveTo=function(nt,vt,xt,Pt,Ct,Ht){et.bezierCurveTo(nt,vt,xt,Pt,Ct,Ht),this.__originalBezierCurveTo(nt,vt,xt,Pt,Ct,Ht)},wt.rect=function(nt,vt,xt,Pt){et.rect(nt,vt,xt,Pt),this.__originalRect(nt,vt,xt,Pt)},wt.closePath=function(){et.closePath(),this.__originalClosePath()},wt.beginPath=function(){et.beginPath(),this.__originalBeginPath()}}class mt{constructor(et){this.canvasFactory=et,this.cache=Object.create(null)}getCanvas(et,nt,vt){let xt;return this.cache[et]!==void 0?(xt=this.cache[et],this.canvasFactory.reset(xt,nt,vt)):(xt=this.canvasFactory.create(nt,vt),this.cache[et]=xt),xt}delete(et){delete this.cache[et]}clear(){for(const et in this.cache){const nt=this.cache[et];this.canvasFactory.destroy(nt),delete this.cache[et]}}}function gt(wt,et,nt,vt,xt,Pt,Ct,Ht,an,un){const[dn,pn,yn,_n,Zt,en]=(0,c.getCurrentTransform)(wt);if(pn===0&&yn===0){const Gt=Ct*dn+Zt,tn=Math.round(Gt),hn=Ht*_n+en,Sn=Math.round(hn),mn=(Ct+an)*dn+Zt,$t=Math.abs(Math.round(mn)-tn)||1,Tn=(Ht+un)*_n+en,xn=Math.abs(Math.round(Tn)-Sn)||1;return wt.setTransform(Math.sign(dn),0,0,Math.sign(_n),tn,Sn),wt.drawImage(et,nt,vt,xt,Pt,0,0,$t,xn),wt.setTransform(dn,pn,yn,_n,Zt,en),[$t,xn]}if(dn===0&&_n===0){const Gt=Ht*yn+Zt,tn=Math.round(Gt),hn=Ct*pn+en,Sn=Math.round(hn),mn=(Ht+un)*yn+Zt,$t=Math.abs(Math.round(mn)-tn)||1,Tn=(Ct+an)*pn+en,xn=Math.abs(Math.round(Tn)-Sn)||1;return wt.setTransform(0,Math.sign(pn),Math.sign(yn),0,tn,Sn),wt.drawImage(et,nt,vt,xt,Pt,0,0,xn,$t),wt.setTransform(dn,pn,yn,_n,Zt,en),[xn,$t]}wt.drawImage(et,nt,vt,xt,Pt,Ct,Ht,an,un);const _t=Math.hypot(dn,pn),Rt=Math.hypot(yn,_n);return[_t*an,Rt*un]}function g(wt){const{width:et,height:nt}=wt;if(et>ft||nt>ft)return null;const vt=1e3,xt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Pt=et+1;let Ct=new Uint8Array(Pt*(nt+1)),Ht,an,un;const dn=et+7&-8;let pn=new Uint8Array(dn*nt),yn=0;for(const Rt of wt.data){let Gt=128;for(;Gt>0;)pn[yn++]=Rt&Gt?0:255,Gt>>=1}let _n=0;for(yn=0,pn[yn]!==0&&(Ct[0]=1,++_n),an=1;an<et;an++)pn[yn]!==pn[yn+1]&&(Ct[an]=pn[yn]?2:1,++_n),yn++;for(pn[yn]!==0&&(Ct[an]=2,++_n),Ht=1;Ht<nt;Ht++){yn=Ht*dn,un=Ht*Pt,pn[yn-dn]!==pn[yn]&&(Ct[un]=pn[yn]?1:8,++_n);let Rt=(pn[yn]?4:0)+(pn[yn-dn]?8:0);for(an=1;an<et;an++)Rt=(Rt>>2)+(pn[yn+1]?4:0)+(pn[yn-dn+1]?8:0),xt[Rt]&&(Ct[un+an]=xt[Rt],++_n),yn++;if(pn[yn-dn]!==pn[yn]&&(Ct[un+an]=pn[yn]?2:4,++_n),_n>vt)return null}for(yn=dn*(nt-1),un=Ht*Pt,pn[yn]!==0&&(Ct[un]=8,++_n),an=1;an<et;an++)pn[yn]!==pn[yn+1]&&(Ct[un+an]=pn[yn]?4:8,++_n),yn++;if(pn[yn]!==0&&(Ct[un+an]=4,++_n),_n>vt)return null;const Zt=new Int32Array([0,Pt,-1,0,-Pt,0,0,0,1]),en=new Path2D;for(Ht=0;_n&&Ht<=nt;Ht++){let Rt=Ht*Pt;const Gt=Rt+et;for(;Rt<Gt&&!Ct[Rt];)Rt++;if(Rt===Gt)continue;en.moveTo(Rt%Pt,Ht);const tn=Rt;let hn=Ct[Rt];do{const Sn=Zt[hn];do Rt+=Sn;while(!Ct[Rt]);const mn=Ct[Rt];mn!==5&&mn!==10?(hn=mn,Ct[Rt]=0):(hn=mn&51*hn>>4,Ct[Rt]&=hn>>2|hn<<2),en.lineTo(Rt%Pt,Rt/Pt|0),Ct[Rt]||--_n}while(tn!==Rt);--Ht}return pn=null,Ct=null,function(Rt){Rt.save(),Rt.scale(1/et,-1/nt),Rt.translate(0,-nt),Rt.fill(en),Rt.beginPath(),Rt.restore()}}class _{constructor(et,nt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,et,nt])}clone(){const et=Object.create(this);return et.clipBox=this.clipBox.slice(),et}setCurrentPoint(et,nt){this.x=et,this.y=nt}updatePathMinMax(et,nt,vt){[nt,vt]=o.Util.applyTransform([nt,vt],et),this.minX=Math.min(this.minX,nt),this.minY=Math.min(this.minY,vt),this.maxX=Math.max(this.maxX,nt),this.maxY=Math.max(this.maxY,vt)}updateRectMinMax(et,nt){const vt=o.Util.applyTransform(nt,et),xt=o.Util.applyTransform(nt.slice(2),et);this.minX=Math.min(this.minX,vt[0],xt[0]),this.minY=Math.min(this.minY,vt[1],xt[1]),this.maxX=Math.max(this.maxX,vt[0],xt[0]),this.maxY=Math.max(this.maxY,vt[1],xt[1])}updateScalingPathMinMax(et,nt){o.Util.scaleMinMax(et,nt),this.minX=Math.min(this.minX,nt[0]),this.maxX=Math.max(this.maxX,nt[1]),this.minY=Math.min(this.minY,nt[2]),this.maxY=Math.max(this.maxY,nt[3])}updateCurvePathMinMax(et,nt,vt,xt,Pt,Ct,Ht,an,un,dn){const pn=o.Util.bezierBoundingBox(nt,vt,xt,Pt,Ct,Ht,an,un);if(dn){dn[0]=Math.min(dn[0],pn[0],pn[2]),dn[1]=Math.max(dn[1],pn[0],pn[2]),dn[2]=Math.min(dn[2],pn[1],pn[3]),dn[3]=Math.max(dn[3],pn[1],pn[3]);return}this.updateRectMinMax(et,pn)}getPathBoundingBox(et=a.PathType.FILL,nt=null){const vt=[this.minX,this.minY,this.maxX,this.maxY];if(et===a.PathType.STROKE){nt||(0,o.unreachable)("Stroke bounding box must include transform.");const xt=o.Util.singularValueDecompose2dScale(nt),Pt=xt[0]*this.lineWidth/2,Ct=xt[1]*this.lineWidth/2;vt[0]-=Pt,vt[1]-=Ct,vt[2]+=Pt,vt[3]+=Ct}return vt}updateClipFromPath(){const et=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(et||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(et){this.clipBox=et,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(et=a.PathType.FILL,nt=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(et,nt))}}function at(wt,et){if(typeof ImageData<"u"&&et instanceof ImageData){wt.putImageData(et,0,0);return}const nt=et.height,vt=et.width,xt=nt%dt,Pt=(nt-xt)/dt,Ct=xt===0?Pt:Pt+1,Ht=wt.createImageData(vt,dt);let an=0,un;const dn=et.data,pn=Ht.data;let yn,_n,Zt,en;if(et.kind===o.ImageKind.GRAYSCALE_1BPP){const _t=dn.byteLength,Rt=new Uint32Array(pn.buffer,0,pn.byteLength>>2),Gt=Rt.length,tn=vt+7>>3,hn=4294967295,Sn=o.FeatureTest.isLittleEndian?4278190080:255;for(yn=0;yn<Ct;yn++){for(Zt=yn<Pt?dt:xt,un=0,_n=0;_n<Zt;_n++){const mn=_t-an;let $t=0;const Tn=mn>tn?vt:mn*8-7,xn=Tn&-8;let nr=0,Yn=0;for(;$t<xn;$t+=8)Yn=dn[an++],Rt[un++]=Yn&128?hn:Sn,Rt[un++]=Yn&64?hn:Sn,Rt[un++]=Yn&32?hn:Sn,Rt[un++]=Yn&16?hn:Sn,Rt[un++]=Yn&8?hn:Sn,Rt[un++]=Yn&4?hn:Sn,Rt[un++]=Yn&2?hn:Sn,Rt[un++]=Yn&1?hn:Sn;for(;$t<Tn;$t++)nr===0&&(Yn=dn[an++],nr=128),Rt[un++]=Yn&nr?hn:Sn,nr>>=1}for(;un<Gt;)Rt[un++]=0;wt.putImageData(Ht,0,yn*dt)}}else if(et.kind===o.ImageKind.RGBA_32BPP){for(_n=0,en=vt*dt*4,yn=0;yn<Pt;yn++)pn.set(dn.subarray(an,an+en)),an+=en,wt.putImageData(Ht,0,_n),_n+=dt;yn<Ct&&(en=vt*xt*4,pn.set(dn.subarray(an,an+en)),wt.putImageData(Ht,0,_n))}else if(et.kind===o.ImageKind.RGB_24BPP)for(Zt=dt,en=vt*Zt,yn=0;yn<Ct;yn++){for(yn>=Pt&&(Zt=xt,en=vt*Zt),un=0,_n=en;_n--;)pn[un++]=dn[an++],pn[un++]=dn[an++],pn[un++]=dn[an++],pn[un++]=255;wt.putImageData(Ht,0,yn*dt)}else throw new Error(`bad image kind: ${et.kind}`)}function ht(wt,et){if(et.bitmap){wt.drawImage(et.bitmap,0,0);return}const nt=et.height,vt=et.width,xt=nt%dt,Pt=(nt-xt)/dt,Ct=xt===0?Pt:Pt+1,Ht=wt.createImageData(vt,dt);let an=0;const un=et.data,dn=Ht.data;for(let pn=0;pn<Ct;pn++){const yn=pn<Pt?dt:xt;({srcPos:an}=(0,d.convertBlackAndWhiteToRGBA)({src:un,srcPos:an,dest:dn,width:vt,height:yn,nonBlackColor:0})),wt.putImageData(Ht,0,pn*dt)}}function j(wt,et){const nt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const vt of nt)wt[vt]!==void 0&&(et[vt]=wt[vt]);wt.setLineDash!==void 0&&(et.setLineDash(wt.getLineDash()),et.lineDashOffset=wt.lineDashOffset)}function it(wt){if(wt.strokeStyle=wt.fillStyle="#000000",wt.fillRule="nonzero",wt.globalAlpha=1,wt.lineWidth=1,wt.lineCap="butt",wt.lineJoin="miter",wt.miterLimit=10,wt.globalCompositeOperation="source-over",wt.font="10px sans-serif",wt.setLineDash!==void 0&&(wt.setLineDash([]),wt.lineDashOffset=0),!o.isNodeJS){const{filter:et}=wt;et!=="none"&&et!==""&&(wt.filter="none")}}function $(wt,et,nt,vt){const xt=wt.length;for(let Pt=3;Pt<xt;Pt+=4){const Ct=wt[Pt];if(Ct===0)wt[Pt-3]=et,wt[Pt-2]=nt,wt[Pt-1]=vt;else if(Ct<255){const Ht=255-Ct;wt[Pt-3]=wt[Pt-3]*Ct+et*Ht>>8,wt[Pt-2]=wt[Pt-2]*Ct+nt*Ht>>8,wt[Pt-1]=wt[Pt-1]*Ct+vt*Ht>>8}}}function rt(wt,et,nt){const vt=wt.length,xt=1/255;for(let Pt=3;Pt<vt;Pt+=4){const Ct=nt?nt[wt[Pt]]:wt[Pt];et[Pt]=et[Pt]*Ct*xt|0}}function ct(wt,et,nt){const vt=wt.length;for(let xt=3;xt<vt;xt+=4){const Pt=wt[xt-3]*77+wt[xt-2]*152+wt[xt-1]*28;et[xt]=nt?et[xt]*nt[Pt>>8]>>8:et[xt]*Pt>>16}}function At(wt,et,nt,vt,xt,Pt,Ct,Ht,an,un,dn){const pn=!!Pt,yn=pn?Pt[0]:0,_n=pn?Pt[1]:0,Zt=pn?Pt[2]:0,en=xt==="Luminosity"?ct:rt,Rt=Math.min(vt,Math.ceil(1048576/nt));for(let Gt=0;Gt<vt;Gt+=Rt){const tn=Math.min(Rt,vt-Gt),hn=wt.getImageData(Ht-un,Gt+(an-dn),nt,tn),Sn=et.getImageData(Ht,Gt+an,nt,tn);pn&&$(hn.data,yn,_n,Zt),en(hn.data,Sn.data,Ct),et.putImageData(Sn,Ht,Gt+an)}}function ot(wt,et,nt,vt){const xt=vt[0],Pt=vt[1],Ct=vt[2]-xt,Ht=vt[3]-Pt;Ct===0||Ht===0||(At(et.context,nt,Ct,Ht,et.subtype,et.backdrop,et.transferMap,xt,Pt,et.offsetX,et.offsetY),wt.save(),wt.globalAlpha=1,wt.globalCompositeOperation="source-over",wt.setTransform(1,0,0,1,0,0),wt.drawImage(nt.canvas,0,0),wt.restore())}function Et(wt,et){const nt=o.Util.singularValueDecompose2dScale(wt);nt[0]=Math.fround(nt[0]),nt[1]=Math.fround(nt[1]);const vt=Math.fround((globalThis.devicePixelRatio||1)*c.PixelsPerInch.PDF_TO_CSS_UNITS);return et!==void 0?et:nt[0]<=vt||nt[1]<=vt}const Tt=["butt","round","square"],sn=["miter","round","bevel"],jt={},Xt={},Vt=class Vt{constructor(et,nt,vt,xt,Pt,{optionalContentConfig:Ct,markedContentStack:Ht=null},an,un){rn(this,Ot);this.ctx=et,this.current=new _(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=nt,this.objs=vt,this.canvasFactory=xt,this.filterFactory=Pt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ht||[],this.optionalContentConfig=Ct,this.cachedCanvases=new mt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=an,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=un,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(et,nt=null){return typeof et=="string"?et.startsWith("g_")?this.commonObjs.get(et):this.objs.get(et):nt}beginDrawing({transform:et,viewport:nt,transparency:vt=!1,background:xt=null}){const Pt=this.ctx.canvas.width,Ct=this.ctx.canvas.height,Ht=this.ctx.fillStyle;if(this.ctx.fillStyle=xt||"#ffffff",this.ctx.fillRect(0,0,Pt,Ct),this.ctx.fillStyle=Ht,vt){const an=this.cachedCanvases.getCanvas("transparent",Pt,Ct);this.compositeCtx=this.ctx,this.transparentCanvas=an.canvas,this.ctx=an.context,this.ctx.save(),this.ctx.transform(...(0,c.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),it(this.ctx),et&&(this.ctx.transform(...et),this.outputScaleX=et[0],this.outputScaleY=et[0]),this.ctx.transform(...nt.transform),this.viewportScale=nt.scale,this.baseTransform=(0,c.getCurrentTransform)(this.ctx)}executeOperatorList(et,nt,vt,xt){const Pt=et.argsArray,Ct=et.fnArray;let Ht=nt||0;const an=Pt.length;if(an===Ht)return Ht;const un=an-Ht>yt&&typeof vt=="function",dn=un?Date.now()+_e:0;let pn=0;const yn=this.commonObjs,_n=this.objs;let Zt;for(;;){if(xt!==void 0&&Ht===xt.nextBreakPoint)return xt.breakIt(Ht,vt),Ht;if(Zt=Ct[Ht],Zt!==o.OPS.dependency)this[Zt].apply(this,Pt[Ht]);else for(const en of Pt[Ht]){const _t=en.startsWith("g_")?yn:_n;if(!_t.has(en))return _t.get(en,vt),Ht}if(Ht++,Ht===an)return Ht;if(un&&++pn>yt){if(Date.now()>dn)return vt(),Ht;pn=0}}}endDrawing(){Wt(this,Ot,Ro).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const et of this._cachedBitmapsMap.values()){for(const nt of et.values())typeof HTMLCanvasElement<"u"&&nt instanceof HTMLCanvasElement&&(nt.width=nt.height=0);et.clear()}this._cachedBitmapsMap.clear(),Wt(this,Ot,Mo).call(this)}_scaleImage(et,nt){const vt=et.width,xt=et.height;let Pt=Math.max(Math.hypot(nt[0],nt[1]),1),Ct=Math.max(Math.hypot(nt[2],nt[3]),1),Ht=vt,an=xt,un="prescale1",dn,pn;for(;Pt>2&&Ht>1||Ct>2&&an>1;){let yn=Ht,_n=an;Pt>2&&Ht>1&&(yn=Ht>=16384?Math.floor(Ht/2)-1||1:Math.ceil(Ht/2),Pt/=Ht/yn),Ct>2&&an>1&&(_n=an>=16384?Math.floor(an/2)-1||1:Math.ceil(an)/2,Ct/=an/_n),dn=this.cachedCanvases.getCanvas(un,yn,_n),pn=dn.context,pn.clearRect(0,0,yn,_n),pn.drawImage(et,0,0,Ht,an,0,0,yn,_n),et=dn.canvas,Ht=yn,an=_n,un=un==="prescale1"?"prescale2":"prescale1"}return{img:et,paintWidth:Ht,paintHeight:an}}_createMaskCanvas(et){const nt=this.ctx,{width:vt,height:xt}=et,Pt=this.current.fillColor,Ct=this.current.patternFill,Ht=(0,c.getCurrentTransform)(nt);let an,un,dn,pn;if((et.bitmap||et.data)&&et.count>1){const $t=et.bitmap||et.data.buffer;un=JSON.stringify(Ct?Ht:[Ht.slice(0,4),Pt]),an=this._cachedBitmapsMap.get($t),an||(an=new Map,this._cachedBitmapsMap.set($t,an));const Tn=an.get(un);if(Tn&&!Ct){const xn=Math.round(Math.min(Ht[0],Ht[2])+Ht[4]),nr=Math.round(Math.min(Ht[1],Ht[3])+Ht[5]);return{canvas:Tn,offsetX:xn,offsetY:nr}}dn=Tn}dn||(pn=this.cachedCanvases.getCanvas("maskCanvas",vt,xt),ht(pn.context,et));let yn=o.Util.transform(Ht,[1/vt,0,0,-1/xt,0,0]);yn=o.Util.transform(yn,[1,0,0,1,0,-xt]);const _n=o.Util.applyTransform([0,0],yn),Zt=o.Util.applyTransform([vt,xt],yn),en=o.Util.normalizeRect([_n[0],_n[1],Zt[0],Zt[1]]),_t=Math.round(en[2]-en[0])||1,Rt=Math.round(en[3]-en[1])||1,Gt=this.cachedCanvases.getCanvas("fillCanvas",_t,Rt),tn=Gt.context,hn=Math.min(_n[0],Zt[0]),Sn=Math.min(_n[1],Zt[1]);tn.translate(-hn,-Sn),tn.transform(...yn),dn||(dn=this._scaleImage(pn.canvas,(0,c.getCurrentTransformInverse)(tn)),dn=dn.img,an&&Ct&&an.set(un,dn)),tn.imageSmoothingEnabled=Et((0,c.getCurrentTransform)(tn),et.interpolate),gt(tn,dn,0,0,dn.width,dn.height,0,0,vt,xt),tn.globalCompositeOperation="source-in";const mn=o.Util.transform((0,c.getCurrentTransformInverse)(tn),[1,0,0,1,-hn,-Sn]);return tn.fillStyle=Ct?Pt.getPattern(nt,this,mn,a.PathType.FILL):Pt,tn.fillRect(0,0,vt,xt),an&&!Ct&&(this.cachedCanvases.delete("fillCanvas"),an.set(un,Gt.canvas)),{canvas:Gt.canvas,offsetX:Math.round(hn),offsetY:Math.round(Sn)}}setLineWidth(et){et!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=et,this.ctx.lineWidth=et}setLineCap(et){this.ctx.lineCap=Tt[et]}setLineJoin(et){this.ctx.lineJoin=sn[et]}setMiterLimit(et){this.ctx.miterLimit=et}setDash(et,nt){const vt=this.ctx;vt.setLineDash!==void 0&&(vt.setLineDash(et),vt.lineDashOffset=nt)}setRenderingIntent(et){}setFlatness(et){}setGState(et){for(const[nt,vt]of et)switch(nt){case"LW":this.setLineWidth(vt);break;case"LC":this.setLineCap(vt);break;case"LJ":this.setLineJoin(vt);break;case"ML":this.setMiterLimit(vt);break;case"D":this.setDash(vt[0],vt[1]);break;case"RI":this.setRenderingIntent(vt);break;case"FL":this.setFlatness(vt);break;case"Font":this.setFont(vt[0],vt[1]);break;case"CA":this.current.strokeAlpha=vt;break;case"ca":this.current.fillAlpha=vt,this.ctx.globalAlpha=vt;break;case"BM":this.ctx.globalCompositeOperation=vt;break;case"SMask":this.current.activeSMask=vt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(vt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const et=this.inSMaskMode;this.current.activeSMask&&!et?this.beginSMaskMode():!this.current.activeSMask&&et&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const et=this.ctx.canvas.width,nt=this.ctx.canvas.height,vt="smaskGroupAt"+this.groupLevel,xt=this.cachedCanvases.getCanvas(vt,et,nt);this.suspendedCtx=this.ctx,this.ctx=xt.context;const Pt=this.ctx;Pt.setTransform(...(0,c.getCurrentTransform)(this.suspendedCtx)),j(this.suspendedCtx,Pt),lt(Pt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),j(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(et){if(!this.current.activeSMask)return;et?(et[0]=Math.floor(et[0]),et[1]=Math.floor(et[1]),et[2]=Math.ceil(et[2]),et[3]=Math.ceil(et[3])):et=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const nt=this.current.activeSMask,vt=this.suspendedCtx;ot(vt,nt,this.ctx,et),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(j(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const et=this.current;this.stateStack.push(et),this.current=et.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),j(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(et,nt,vt,xt,Pt,Ct){this.ctx.transform(et,nt,vt,xt,Pt,Ct),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(et,nt,vt){const xt=this.ctx,Pt=this.current;let Ct=Pt.x,Ht=Pt.y,an,un;const dn=(0,c.getCurrentTransform)(xt),pn=dn[0]===0&&dn[3]===0||dn[1]===0&&dn[2]===0,yn=pn?vt.slice(0):null;for(let _n=0,Zt=0,en=et.length;_n<en;_n++)switch(et[_n]|0){case o.OPS.rectangle:Ct=nt[Zt++],Ht=nt[Zt++];const _t=nt[Zt++],Rt=nt[Zt++],Gt=Ct+_t,tn=Ht+Rt;xt.moveTo(Ct,Ht),_t===0||Rt===0?xt.lineTo(Gt,tn):(xt.lineTo(Gt,Ht),xt.lineTo(Gt,tn),xt.lineTo(Ct,tn)),pn||Pt.updateRectMinMax(dn,[Ct,Ht,Gt,tn]),xt.closePath();break;case o.OPS.moveTo:Ct=nt[Zt++],Ht=nt[Zt++],xt.moveTo(Ct,Ht),pn||Pt.updatePathMinMax(dn,Ct,Ht);break;case o.OPS.lineTo:Ct=nt[Zt++],Ht=nt[Zt++],xt.lineTo(Ct,Ht),pn||Pt.updatePathMinMax(dn,Ct,Ht);break;case o.OPS.curveTo:an=Ct,un=Ht,Ct=nt[Zt+4],Ht=nt[Zt+5],xt.bezierCurveTo(nt[Zt],nt[Zt+1],nt[Zt+2],nt[Zt+3],Ct,Ht),Pt.updateCurvePathMinMax(dn,an,un,nt[Zt],nt[Zt+1],nt[Zt+2],nt[Zt+3],Ct,Ht,yn),Zt+=6;break;case o.OPS.curveTo2:an=Ct,un=Ht,xt.bezierCurveTo(Ct,Ht,nt[Zt],nt[Zt+1],nt[Zt+2],nt[Zt+3]),Pt.updateCurvePathMinMax(dn,an,un,Ct,Ht,nt[Zt],nt[Zt+1],nt[Zt+2],nt[Zt+3],yn),Ct=nt[Zt+2],Ht=nt[Zt+3],Zt+=4;break;case o.OPS.curveTo3:an=Ct,un=Ht,Ct=nt[Zt+2],Ht=nt[Zt+3],xt.bezierCurveTo(nt[Zt],nt[Zt+1],Ct,Ht,Ct,Ht),Pt.updateCurvePathMinMax(dn,an,un,nt[Zt],nt[Zt+1],Ct,Ht,Ct,Ht,yn),Zt+=4;break;case o.OPS.closePath:xt.closePath();break}pn&&Pt.updateScalingPathMinMax(dn,yn),Pt.setCurrentPoint(Ct,Ht)}closePath(){this.ctx.closePath()}stroke(et=!0){const nt=this.ctx,vt=this.current.strokeColor;nt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof vt=="object"&&(vt!=null&&vt.getPattern)?(nt.save(),nt.strokeStyle=vt.getPattern(nt,this,(0,c.getCurrentTransformInverse)(nt),a.PathType.STROKE),this.rescaleAndStroke(!1),nt.restore()):this.rescaleAndStroke(!0)),et&&this.consumePath(this.current.getClippedPathBoundingBox()),nt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(et=!0){const nt=this.ctx,vt=this.current.fillColor,xt=this.current.patternFill;let Pt=!1;xt&&(nt.save(),nt.fillStyle=vt.getPattern(nt,this,(0,c.getCurrentTransformInverse)(nt),a.PathType.FILL),Pt=!0);const Ct=this.current.getClippedPathBoundingBox();this.contentVisible&&Ct!==null&&(this.pendingEOFill?(nt.fill("evenodd"),this.pendingEOFill=!1):nt.fill()),Pt&&nt.restore(),et&&this.consumePath(Ct)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=jt}eoClip(){this.pendingClip=Xt}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const et=this.pendingTextPaths,nt=this.ctx;if(et===void 0){nt.beginPath();return}nt.save(),nt.beginPath();for(const vt of et)nt.setTransform(...vt.transform),nt.translate(vt.x,vt.y),vt.addToPath(nt,vt.fontSize);nt.restore(),nt.clip(),nt.beginPath(),delete this.pendingTextPaths}setCharSpacing(et){this.current.charSpacing=et}setWordSpacing(et){this.current.wordSpacing=et}setHScale(et){this.current.textHScale=et/100}setLeading(et){this.current.leading=-et}setFont(et,nt){var dn;const vt=this.commonObjs.get(et),xt=this.current;if(!vt)throw new Error(`Can't find font for ${et}`);if(xt.fontMatrix=vt.fontMatrix||o.FONT_IDENTITY_MATRIX,(xt.fontMatrix[0]===0||xt.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+et),nt<0?(nt=-nt,xt.fontDirection=-1):xt.fontDirection=1,this.current.font=vt,this.current.fontSize=nt,vt.isType3Font)return;const Pt=vt.loadedName||"sans-serif",Ct=((dn=vt.systemFontInfo)==null?void 0:dn.css)||`"${Pt}", ${vt.fallbackName}`;let Ht="normal";vt.black?Ht="900":vt.bold&&(Ht="bold");const an=vt.italic?"italic":"normal";let un=nt;nt<ut?un=ut:nt>tt&&(un=tt),this.current.fontSizeScale=nt/un,this.ctx.font=`${an} ${Ht} ${un}px ${Ct}`}setTextRenderingMode(et){this.current.textRenderingMode=et}setTextRise(et){this.current.textRise=et}moveText(et,nt){this.current.x=this.current.lineX+=et,this.current.y=this.current.lineY+=nt}setLeadingMoveText(et,nt){this.setLeading(-nt),this.moveText(et,nt)}setTextMatrix(et,nt,vt,xt,Pt,Ct){this.current.textMatrix=[et,nt,vt,xt,Pt,Ct],this.current.textMatrixScale=Math.hypot(et,nt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(et,nt,vt,xt){const Pt=this.ctx,Ct=this.current,Ht=Ct.font,an=Ct.textRenderingMode,un=Ct.fontSize/Ct.fontSizeScale,dn=an&o.TextRenderingMode.FILL_STROKE_MASK,pn=!!(an&o.TextRenderingMode.ADD_TO_PATH_FLAG),yn=Ct.patternFill&&!Ht.missingFile;let _n;(Ht.disableFontFace||pn||yn)&&(_n=Ht.getPathGenerator(this.commonObjs,et)),Ht.disableFontFace||yn?(Pt.save(),Pt.translate(nt,vt),Pt.beginPath(),_n(Pt,un),xt&&Pt.setTransform(...xt),(dn===o.TextRenderingMode.FILL||dn===o.TextRenderingMode.FILL_STROKE)&&Pt.fill(),(dn===o.TextRenderingMode.STROKE||dn===o.TextRenderingMode.FILL_STROKE)&&Pt.stroke(),Pt.restore()):((dn===o.TextRenderingMode.FILL||dn===o.TextRenderingMode.FILL_STROKE)&&Pt.fillText(et,nt,vt),(dn===o.TextRenderingMode.STROKE||dn===o.TextRenderingMode.FILL_STROKE)&&Pt.strokeText(et,nt,vt)),pn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,c.getCurrentTransform)(Pt),x:nt,y:vt,fontSize:un,addToPath:_n})}get isFontSubpixelAAEnabled(){const{context:et}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);et.scale(1.5,1),et.fillText("I",0,10);const nt=et.getImageData(0,0,10,10).data;let vt=!1;for(let xt=3;xt<nt.length;xt+=4)if(nt[xt]>0&&nt[xt]<255){vt=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",vt)}showText(et){const nt=this.current,vt=nt.font;if(vt.isType3Font)return this.showType3Text(et);const xt=nt.fontSize;if(xt===0)return;const Pt=this.ctx,Ct=nt.fontSizeScale,Ht=nt.charSpacing,an=nt.wordSpacing,un=nt.fontDirection,dn=nt.textHScale*un,pn=et.length,yn=vt.vertical,_n=yn?1:-1,Zt=vt.defaultVMetrics,en=xt*nt.fontMatrix[0],_t=nt.textRenderingMode===o.TextRenderingMode.FILL&&!vt.disableFontFace&&!nt.patternFill;Pt.save(),Pt.transform(...nt.textMatrix),Pt.translate(nt.x,nt.y+nt.textRise),un>0?Pt.scale(dn,-1):Pt.scale(dn,1);let Rt;if(nt.patternFill){Pt.save();const mn=nt.fillColor.getPattern(Pt,this,(0,c.getCurrentTransformInverse)(Pt),a.PathType.FILL);Rt=(0,c.getCurrentTransform)(Pt),Pt.restore(),Pt.fillStyle=mn}let Gt=nt.lineWidth;const tn=nt.textMatrixScale;if(tn===0||Gt===0){const mn=nt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(mn===o.TextRenderingMode.STROKE||mn===o.TextRenderingMode.FILL_STROKE)&&(Gt=this.getSinglePixelWidth())}else Gt/=tn;if(Ct!==1&&(Pt.scale(Ct,Ct),Gt/=Ct),Pt.lineWidth=Gt,vt.isInvalidPDFjsFont){const mn=[];let $t=0;for(const Tn of et)mn.push(Tn.unicode),$t+=Tn.width;Pt.fillText(mn.join(""),0,0),nt.x+=$t*en*dn,Pt.restore(),this.compose();return}let hn=0,Sn;for(Sn=0;Sn<pn;++Sn){const mn=et[Sn];if(typeof mn=="number"){hn+=_n*mn*xt/1e3;continue}let $t=!1;const Tn=(mn.isSpace?an:0)+Ht,xn=mn.fontChar,nr=mn.accent;let Yn,fr,In=mn.width;if(yn){const ar=mn.vmetric||Zt,wr=-(mn.vmetric?ar[1]:In*.5)*en,gn=ar[2]*en;In=ar?-ar[0]:In,Yn=wr/Ct,fr=(hn+gn)/Ct}else Yn=hn/Ct,fr=0;if(vt.remeasure&&In>0){const ar=Pt.measureText(xn).width*1e3/xt*Ct;if(In<ar&&this.isFontSubpixelAAEnabled){const wr=In/ar;$t=!0,Pt.save(),Pt.scale(wr,1),Yn/=wr}else In!==ar&&(Yn+=(In-ar)/2e3*xt/Ct)}if(this.contentVisible&&(mn.isInFont||vt.missingFile)){if(_t&&!nr)Pt.fillText(xn,Yn,fr);else if(this.paintChar(xn,Yn,fr,Rt),nr){const ar=Yn+xt*nr.offset.x/Ct,wr=fr-xt*nr.offset.y/Ct;this.paintChar(nr.fontChar,ar,wr,Rt)}}const Wn=yn?In*en-Tn*un:In*en+Tn*un;hn+=Wn,$t&&Pt.restore()}yn?nt.y-=hn:nt.x+=hn*dn,Pt.restore(),this.compose()}showType3Text(et){const nt=this.ctx,vt=this.current,xt=vt.font,Pt=vt.fontSize,Ct=vt.fontDirection,Ht=xt.vertical?1:-1,an=vt.charSpacing,un=vt.wordSpacing,dn=vt.textHScale*Ct,pn=vt.fontMatrix||o.FONT_IDENTITY_MATRIX,yn=et.length,_n=vt.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Zt,en,_t,Rt;if(!(_n||Pt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,nt.save(),nt.transform(...vt.textMatrix),nt.translate(vt.x,vt.y),nt.scale(dn,Ct),Zt=0;Zt<yn;++Zt){if(en=et[Zt],typeof en=="number"){Rt=Ht*en*Pt/1e3,this.ctx.translate(Rt,0),vt.x+=Rt*dn;continue}const Gt=(en.isSpace?un:0)+an,tn=xt.charProcOperatorList[en.operatorListId];if(!tn){(0,o.warn)(`Type3 character "${en.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=en,this.save(),nt.scale(Pt,Pt),nt.transform(...pn),this.executeOperatorList(tn),this.restore()),_t=o.Util.applyTransform([en.width,0],pn)[0]*Pt+Gt,nt.translate(_t,0),vt.x+=_t*dn}nt.restore(),this.processingType3=null}}setCharWidth(et,nt){}setCharWidthAndBounds(et,nt,vt,xt,Pt,Ct){this.ctx.rect(vt,xt,Pt-vt,Ct-xt),this.ctx.clip(),this.endPath()}getColorN_Pattern(et){let nt;if(et[0]==="TilingPattern"){const vt=et[1],xt=this.baseTransform||(0,c.getCurrentTransform)(this.ctx),Pt={createCanvasGraphics:Ct=>new Vt(Ct,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};nt=new a.TilingPattern(et,vt,this.ctx,Pt,xt)}else nt=this._getPattern(et[1],et[2]);return nt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(et,nt,vt){const xt=o.Util.makeHexColor(et,nt,vt);this.ctx.strokeStyle=xt,this.current.strokeColor=xt}setFillRGBColor(et,nt,vt){const xt=o.Util.makeHexColor(et,nt,vt);this.ctx.fillStyle=xt,this.current.fillColor=xt,this.current.patternFill=!1}_getPattern(et,nt=null){let vt;return this.cachedPatterns.has(et)?vt=this.cachedPatterns.get(et):(vt=(0,a.getShadingPattern)(this.getObject(et)),this.cachedPatterns.set(et,vt)),nt&&(vt.matrix=nt),vt}shadingFill(et){if(!this.contentVisible)return;const nt=this.ctx;this.save();const vt=this._getPattern(et);nt.fillStyle=vt.getPattern(nt,this,(0,c.getCurrentTransformInverse)(nt),a.PathType.SHADING);const xt=(0,c.getCurrentTransformInverse)(nt);if(xt){const{width:Pt,height:Ct}=nt.canvas,[Ht,an,un,dn]=o.Util.getAxialAlignedBoundingBox([0,0,Pt,Ct],xt);this.ctx.fillRect(Ht,an,un-Ht,dn-an)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(et,nt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(et)&&et.length===6&&this.transform(...et),this.baseTransform=(0,c.getCurrentTransform)(this.ctx),nt)){const vt=nt[2]-nt[0],xt=nt[3]-nt[1];this.ctx.rect(nt[0],nt[1],vt,xt),this.current.updateRectMinMax((0,c.getCurrentTransform)(this.ctx),nt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(et){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const nt=this.ctx;et.isolated||(0,o.info)("TODO: Support non-isolated groups."),et.knockout&&(0,o.warn)("Knockout groups not supported.");const vt=(0,c.getCurrentTransform)(nt);if(et.matrix&&nt.transform(...et.matrix),!et.bbox)throw new Error("Bounding box is required.");let xt=o.Util.getAxialAlignedBoundingBox(et.bbox,(0,c.getCurrentTransform)(nt));const Pt=[0,0,nt.canvas.width,nt.canvas.height];xt=o.Util.intersect(xt,Pt)||[0,0,0,0];const Ct=Math.floor(xt[0]),Ht=Math.floor(xt[1]);let an=Math.max(Math.ceil(xt[2])-Ct,1),un=Math.max(Math.ceil(xt[3])-Ht,1),dn=1,pn=1;an>st&&(dn=an/st,an=st),un>st&&(pn=un/st,un=st),this.current.startNewPathAndClipBox([0,0,an,un]);let yn="groupAt"+this.groupLevel;et.smask&&(yn+="_smask_"+this.smaskCounter++%2);const _n=this.cachedCanvases.getCanvas(yn,an,un),Zt=_n.context;Zt.scale(1/dn,1/pn),Zt.translate(-Ct,-Ht),Zt.transform(...vt),et.smask?this.smaskStack.push({canvas:_n.canvas,context:Zt,offsetX:Ct,offsetY:Ht,scaleX:dn,scaleY:pn,subtype:et.smask.subtype,backdrop:et.smask.backdrop,transferMap:et.smask.transferMap||null,startTransformInverse:null}):(nt.setTransform(1,0,0,1,0,0),nt.translate(Ct,Ht),nt.scale(dn,pn),nt.save()),j(nt,Zt),this.ctx=Zt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(nt),this.groupLevel++}endGroup(et){if(!this.contentVisible)return;this.groupLevel--;const nt=this.ctx,vt=this.groupStack.pop();if(this.ctx=vt,this.ctx.imageSmoothingEnabled=!1,et.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const xt=(0,c.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...xt);const Pt=o.Util.getAxialAlignedBoundingBox([0,0,nt.canvas.width,nt.canvas.height],xt);this.ctx.drawImage(nt.canvas,0,0),this.ctx.restore(),this.compose(Pt)}}beginAnnotation(et,nt,vt,xt,Pt){if(Wt(this,Ot,Ro).call(this),it(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(nt)&&nt.length===4){const Ct=nt[2]-nt[0],Ht=nt[3]-nt[1];if(Pt&&this.annotationCanvasMap){vt=vt.slice(),vt[4]-=nt[0],vt[5]-=nt[1],nt=nt.slice(),nt[0]=nt[1]=0,nt[2]=Ct,nt[3]=Ht;const[an,un]=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(this.ctx)),{viewportScale:dn}=this,pn=Math.ceil(Ct*this.outputScaleX*dn),yn=Math.ceil(Ht*this.outputScaleY*dn);this.annotationCanvas=this.canvasFactory.create(pn,yn);const{canvas:_n,context:Zt}=this.annotationCanvas;this.annotationCanvasMap.set(et,_n),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Zt,this.ctx.save(),this.ctx.setTransform(an,0,0,-un,0,Ht*un),it(this.ctx)}else it(this.ctx),this.ctx.rect(nt[0],nt[1],Ct,Ht),this.ctx.clip(),this.endPath()}this.current=new _(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...vt),this.transform(...xt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Wt(this,Ot,Mo).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(et){if(!this.contentVisible)return;const nt=et.count;et=this.getObject(et.data,et),et.count=nt;const vt=this.ctx,xt=this.processingType3;if(xt&&(xt.compiled===void 0&&(xt.compiled=g(et)),xt.compiled)){xt.compiled(vt);return}const Pt=this._createMaskCanvas(et),Ct=Pt.canvas;vt.save(),vt.setTransform(1,0,0,1,0,0),vt.drawImage(Ct,Pt.offsetX,Pt.offsetY),vt.restore(),this.compose()}paintImageMaskXObjectRepeat(et,nt,vt=0,xt=0,Pt,Ct){if(!this.contentVisible)return;et=this.getObject(et.data,et);const Ht=this.ctx;Ht.save();const an=(0,c.getCurrentTransform)(Ht);Ht.transform(nt,vt,xt,Pt,0,0);const un=this._createMaskCanvas(et);Ht.setTransform(1,0,0,1,un.offsetX-an[4],un.offsetY-an[5]);for(let dn=0,pn=Ct.length;dn<pn;dn+=2){const yn=o.Util.transform(an,[nt,vt,xt,Pt,Ct[dn],Ct[dn+1]]),[_n,Zt]=o.Util.applyTransform([0,0],yn);Ht.drawImage(un.canvas,_n,Zt)}Ht.restore(),this.compose()}paintImageMaskXObjectGroup(et){if(!this.contentVisible)return;const nt=this.ctx,vt=this.current.fillColor,xt=this.current.patternFill;for(const Pt of et){const{data:Ct,width:Ht,height:an,transform:un}=Pt,dn=this.cachedCanvases.getCanvas("maskCanvas",Ht,an),pn=dn.context;pn.save();const yn=this.getObject(Ct,Pt);ht(pn,yn),pn.globalCompositeOperation="source-in",pn.fillStyle=xt?vt.getPattern(pn,this,(0,c.getCurrentTransformInverse)(nt),a.PathType.FILL):vt,pn.fillRect(0,0,Ht,an),pn.restore(),nt.save(),nt.transform(...un),nt.scale(1,-1),gt(nt,dn.canvas,0,0,Ht,an,0,-1,1,1),nt.restore()}this.compose()}paintImageXObject(et){if(!this.contentVisible)return;const nt=this.getObject(et);if(!nt){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(nt)}paintImageXObjectRepeat(et,nt,vt,xt){if(!this.contentVisible)return;const Pt=this.getObject(et);if(!Pt){(0,o.warn)("Dependent image isn't ready yet");return}const Ct=Pt.width,Ht=Pt.height,an=[];for(let un=0,dn=xt.length;un<dn;un+=2)an.push({transform:[nt,0,0,vt,xt[un],xt[un+1]],x:0,y:0,w:Ct,h:Ht});this.paintInlineImageXObjectGroup(Pt,an)}applyTransferMapsToCanvas(et){return this.current.transferMaps!=="none"&&(et.filter=this.current.transferMaps,et.drawImage(et.canvas,0,0),et.filter="none"),et.canvas}applyTransferMapsToBitmap(et){if(this.current.transferMaps==="none")return et.bitmap;const{bitmap:nt,width:vt,height:xt}=et,Pt=this.cachedCanvases.getCanvas("inlineImage",vt,xt),Ct=Pt.context;return Ct.filter=this.current.transferMaps,Ct.drawImage(nt,0,0),Ct.filter="none",Pt.canvas}paintInlineImageXObject(et){if(!this.contentVisible)return;const nt=et.width,vt=et.height,xt=this.ctx;if(this.save(),!o.isNodeJS){const{filter:Ht}=xt;Ht!=="none"&&Ht!==""&&(xt.filter="none")}xt.scale(1/nt,-1/vt);let Pt;if(et.bitmap)Pt=this.applyTransferMapsToBitmap(et);else if(typeof HTMLElement=="function"&&et instanceof HTMLElement||!et.data)Pt=et;else{const an=this.cachedCanvases.getCanvas("inlineImage",nt,vt).context;at(an,et),Pt=this.applyTransferMapsToCanvas(an)}const Ct=this._scaleImage(Pt,(0,c.getCurrentTransformInverse)(xt));xt.imageSmoothingEnabled=Et((0,c.getCurrentTransform)(xt),et.interpolate),gt(xt,Ct.img,0,0,Ct.paintWidth,Ct.paintHeight,0,-vt,nt,vt),this.compose(),this.restore()}paintInlineImageXObjectGroup(et,nt){if(!this.contentVisible)return;const vt=this.ctx;let xt;if(et.bitmap)xt=et.bitmap;else{const Pt=et.width,Ct=et.height,an=this.cachedCanvases.getCanvas("inlineImage",Pt,Ct).context;at(an,et),xt=this.applyTransferMapsToCanvas(an)}for(const Pt of nt)vt.save(),vt.transform(...Pt.transform),vt.scale(1,-1),gt(vt,xt,Pt.x,Pt.y,Pt.w,Pt.h,0,-1,1,1),vt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(et){}markPointProps(et,nt){}beginMarkedContent(et){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(et,nt){et==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(nt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(et){const nt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(et);const vt=this.ctx;this.pendingClip&&(nt||(this.pendingClip===Xt?vt.clip("evenodd"):vt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),vt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const et=(0,c.getCurrentTransform)(this.ctx);if(et[1]===0&&et[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(et[0]),Math.abs(et[3]));else{const nt=Math.abs(et[0]*et[3]-et[2]*et[1]),vt=Math.hypot(et[0],et[2]),xt=Math.hypot(et[1],et[3]);this._cachedGetSinglePixelWidth=Math.max(vt,xt)/nt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:et}=this.current,{a:nt,b:vt,c:xt,d:Pt}=this.ctx.getTransform();let Ct,Ht;if(vt===0&&xt===0){const an=Math.abs(nt),un=Math.abs(Pt);if(an===un)if(et===0)Ct=Ht=1/an;else{const dn=an*et;Ct=Ht=dn<1?1/dn:1}else if(et===0)Ct=1/an,Ht=1/un;else{const dn=an*et,pn=un*et;Ct=dn<1?1/dn:1,Ht=pn<1?1/pn:1}}else{const an=Math.abs(nt*Pt-vt*xt),un=Math.hypot(nt,vt),dn=Math.hypot(xt,Pt);if(et===0)Ct=dn/an,Ht=un/an;else{const pn=et*an;Ct=dn>pn?dn/pn:1,Ht=un>pn?un/pn:1}}this._cachedScaleForStroking[0]=Ct,this._cachedScaleForStroking[1]=Ht}return this._cachedScaleForStroking}rescaleAndStroke(et){const{ctx:nt}=this,{lineWidth:vt}=this.current,[xt,Pt]=this.getScaleForStroking();if(nt.lineWidth=vt||1,xt===1&&Pt===1){nt.stroke();return}const Ct=nt.getLineDash();if(et&&nt.save(),nt.scale(xt,Pt),Ct.length>0){const Ht=Math.max(xt,Pt);nt.setLineDash(Ct.map(an=>an/Ht)),nt.lineDashOffset/=Ht}nt.stroke(),et&&nt.restore()}isContentVisible(){for(let et=this.markedContentStack.length-1;et>=0;et--)if(!this.markedContentStack[et].visible)return!1;return!0}};Ot=new WeakSet,Ro=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Mo=function(){if(this.pageColors){const et=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(et!=="none"){const nt=this.ctx.filter;this.ctx.filter=et,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=nt}}};let Nt=Vt;i.CanvasGraphics=Nt;for(const wt in o.OPS)Nt.prototype[wt]!==void 0&&(Nt.prototype[o.OPS[wt]]=Nt.prototype[wt])},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=dt;var o=s(1),c=s(6);const a={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=a;function d(g,_){if(!_)return;const at=_[2]-_[0],ht=_[3]-_[1],j=new Path2D;j.rect(_[0],_[1],at,ht),g.clip(j)}class ut{constructor(){this.constructor===ut&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class tt extends ut{constructor(_){super(),this._type=_[1],this._bbox=_[2],this._colorStops=_[3],this._p0=_[4],this._p1=_[5],this._r0=_[6],this._r1=_[7],this.matrix=null}_createGradient(_){let at;this._type==="axial"?at=_.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(at=_.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ht of this._colorStops)at.addColorStop(ht[0],ht[1]);return at}getPattern(_,at,ht,j){let it;if(j===a.STROKE||j===a.FILL){const $=at.current.getClippedPathBoundingBox(j,(0,c.getCurrentTransform)(_))||[0,0,0,0],rt=Math.ceil($[2]-$[0])||1,ct=Math.ceil($[3]-$[1])||1,At=at.cachedCanvases.getCanvas("pattern",rt,ct,!0),ot=At.context;ot.clearRect(0,0,ot.canvas.width,ot.canvas.height),ot.beginPath(),ot.rect(0,0,ot.canvas.width,ot.canvas.height),ot.translate(-$[0],-$[1]),ht=o.Util.transform(ht,[1,0,0,1,$[0],$[1]]),ot.transform(...at.baseTransform),this.matrix&&ot.transform(...this.matrix),d(ot,this._bbox),ot.fillStyle=this._createGradient(ot),ot.fill(),it=_.createPattern(At.canvas,"no-repeat");const Et=new DOMMatrix(ht);it.setTransform(Et)}else d(_,this._bbox),it=this._createGradient(_);return it}}function st(g,_,at,ht,j,it,$,rt){const ct=_.coords,At=_.colors,ot=g.data,Et=g.width*4;let Tt;ct[at+1]>ct[ht+1]&&(Tt=at,at=ht,ht=Tt,Tt=it,it=$,$=Tt),ct[ht+1]>ct[j+1]&&(Tt=ht,ht=j,j=Tt,Tt=$,$=rt,rt=Tt),ct[at+1]>ct[ht+1]&&(Tt=at,at=ht,ht=Tt,Tt=it,it=$,$=Tt);const sn=(ct[at]+_.offsetX)*_.scaleX,jt=(ct[at+1]+_.offsetY)*_.scaleY,Xt=(ct[ht]+_.offsetX)*_.scaleX,Nt=(ct[ht+1]+_.offsetY)*_.scaleY,Ot=(ct[j]+_.offsetX)*_.scaleX,St=(ct[j+1]+_.offsetY)*_.scaleY;if(jt>=St)return;const Lt=At[it],Vt=At[it+1],wt=At[it+2],et=At[$],nt=At[$+1],vt=At[$+2],xt=At[rt],Pt=At[rt+1],Ct=At[rt+2],Ht=Math.round(jt),an=Math.round(St);let un,dn,pn,yn,_n,Zt,en,_t;for(let Rt=Ht;Rt<=an;Rt++){if(Rt<Nt){const mn=Rt<jt?0:(jt-Rt)/(jt-Nt);un=sn-(sn-Xt)*mn,dn=Lt-(Lt-et)*mn,pn=Vt-(Vt-nt)*mn,yn=wt-(wt-vt)*mn}else{let mn;Rt>St?mn=1:Nt===St?mn=0:mn=(Nt-Rt)/(Nt-St),un=Xt-(Xt-Ot)*mn,dn=et-(et-xt)*mn,pn=nt-(nt-Pt)*mn,yn=vt-(vt-Ct)*mn}let Gt;Rt<jt?Gt=0:Rt>St?Gt=1:Gt=(jt-Rt)/(jt-St),_n=sn-(sn-Ot)*Gt,Zt=Lt-(Lt-xt)*Gt,en=Vt-(Vt-Pt)*Gt,_t=wt-(wt-Ct)*Gt;const tn=Math.round(Math.min(un,_n)),hn=Math.round(Math.max(un,_n));let Sn=Et*Rt+tn*4;for(let mn=tn;mn<=hn;mn++)Gt=(un-mn)/(un-_n),Gt<0?Gt=0:Gt>1&&(Gt=1),ot[Sn++]=dn-(dn-Zt)*Gt|0,ot[Sn++]=pn-(pn-en)*Gt|0,ot[Sn++]=yn-(yn-_t)*Gt|0,ot[Sn++]=255}}function _e(g,_,at){const ht=_.coords,j=_.colors;let it,$;switch(_.type){case"lattice":const rt=_.verticesPerRow,ct=Math.floor(ht.length/rt)-1,At=rt-1;for(it=0;it<ct;it++){let ot=it*rt;for(let Et=0;Et<At;Et++,ot++)st(g,at,ht[ot],ht[ot+1],ht[ot+rt],j[ot],j[ot+1],j[ot+rt]),st(g,at,ht[ot+rt+1],ht[ot+1],ht[ot+rt],j[ot+rt+1],j[ot+1],j[ot+rt])}break;case"triangles":for(it=0,$=ht.length;it<$;it+=3)st(g,at,ht[it],ht[it+1],ht[it+2],j[it],j[it+1],j[it+2]);break;default:throw new Error("illegal figure")}}class yt extends ut{constructor(_){super(),this._coords=_[2],this._colors=_[3],this._figures=_[4],this._bounds=_[5],this._bbox=_[7],this._background=_[8],this.matrix=null}_createMeshCanvas(_,at,ht){const rt=Math.floor(this._bounds[0]),ct=Math.floor(this._bounds[1]),At=Math.ceil(this._bounds[2])-rt,ot=Math.ceil(this._bounds[3])-ct,Et=Math.min(Math.ceil(Math.abs(At*_[0]*1.1)),3e3),Tt=Math.min(Math.ceil(Math.abs(ot*_[1]*1.1)),3e3),sn=At/Et,jt=ot/Tt,Xt={coords:this._coords,colors:this._colors,offsetX:-rt,offsetY:-ct,scaleX:1/sn,scaleY:1/jt},Nt=Et+2*2,Ot=Tt+2*2,St=ht.getCanvas("mesh",Nt,Ot,!1),Lt=St.context,Vt=Lt.createImageData(Et,Tt);if(at){const et=Vt.data;for(let nt=0,vt=et.length;nt<vt;nt+=4)et[nt]=at[0],et[nt+1]=at[1],et[nt+2]=at[2],et[nt+3]=255}for(const et of this._figures)_e(Vt,et,Xt);return Lt.putImageData(Vt,2,2),{canvas:St.canvas,offsetX:rt-2*sn,offsetY:ct-2*jt,scaleX:sn,scaleY:jt}}getPattern(_,at,ht,j){d(_,this._bbox);let it;if(j===a.SHADING)it=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(_));else if(it=o.Util.singularValueDecompose2dScale(at.baseTransform),this.matrix){const rt=o.Util.singularValueDecompose2dScale(this.matrix);it=[it[0]*rt[0],it[1]*rt[1]]}const $=this._createMeshCanvas(it,j===a.SHADING?null:this._background,at.cachedCanvases);return j!==a.SHADING&&(_.setTransform(...at.baseTransform),this.matrix&&_.transform(...this.matrix)),_.translate($.offsetX,$.offsetY),_.scale($.scaleX,$.scaleY),_.createPattern($.canvas,"no-repeat")}}class ft extends ut{getPattern(){return"hotpink"}}function dt(g){switch(g[0]){case"RadialAxial":return new tt(g);case"Mesh":return new yt(g);case"Dummy":return new ft}throw new Error(`Unknown IR type: ${g[0]}`)}const lt={COLORED:1,UNCOLORED:2},gt=class gt{constructor(_,at,ht,j,it){this.operatorList=_[2],this.matrix=_[3]||[1,0,0,1,0,0],this.bbox=_[4],this.xstep=_[5],this.ystep=_[6],this.paintType=_[7],this.tilingType=_[8],this.color=at,this.ctx=ht,this.canvasGraphicsFactory=j,this.baseTransform=it}createPatternCanvas(_){const at=this.operatorList,ht=this.bbox,j=this.xstep,it=this.ystep,$=this.paintType,rt=this.tilingType,ct=this.color,At=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+rt);const ot=ht[0],Et=ht[1],Tt=ht[2],sn=ht[3],jt=o.Util.singularValueDecompose2dScale(this.matrix),Xt=o.Util.singularValueDecompose2dScale(this.baseTransform),Nt=[jt[0]*Xt[0],jt[1]*Xt[1]],Ot=this.getSizeAndScale(j,this.ctx.canvas.width,Nt[0]),St=this.getSizeAndScale(it,this.ctx.canvas.height,Nt[1]),Lt=_.cachedCanvases.getCanvas("pattern",Ot.size,St.size,!0),Vt=Lt.context,wt=At.createCanvasGraphics(Vt);wt.groupLevel=_.groupLevel,this.setFillAndStrokeStyleToContext(wt,$,ct);let et=ot,nt=Et,vt=Tt,xt=sn;return ot<0&&(et=0,vt+=Math.abs(ot)),Et<0&&(nt=0,xt+=Math.abs(Et)),Vt.translate(-(Ot.scale*et),-(St.scale*nt)),wt.transform(Ot.scale,0,0,St.scale,0,0),Vt.save(),this.clipBbox(wt,et,nt,vt,xt),wt.baseTransform=(0,c.getCurrentTransform)(wt.ctx),wt.executeOperatorList(at),wt.endDrawing(),{canvas:Lt.canvas,scaleX:Ot.scale,scaleY:St.scale,offsetX:et,offsetY:nt}}getSizeAndScale(_,at,ht){_=Math.abs(_);const j=Math.max(gt.MAX_PATTERN_SIZE,at);let it=Math.ceil(_*ht);return it>=j?it=j:ht=it/_,{scale:ht,size:it}}clipBbox(_,at,ht,j,it){const $=j-at,rt=it-ht;_.ctx.rect(at,ht,$,rt),_.current.updateRectMinMax((0,c.getCurrentTransform)(_.ctx),[at,ht,j,it]),_.clip(),_.endPath()}setFillAndStrokeStyleToContext(_,at,ht){const j=_.ctx,it=_.current;switch(at){case lt.COLORED:const $=this.ctx;j.fillStyle=$.fillStyle,j.strokeStyle=$.strokeStyle,it.fillColor=$.fillStyle,it.strokeColor=$.strokeStyle;break;case lt.UNCOLORED:const rt=o.Util.makeHexColor(ht[0],ht[1],ht[2]);j.fillStyle=rt,j.strokeStyle=rt,it.fillColor=rt,it.strokeColor=rt;break;default:throw new o.FormatError(`Unsupported paint type: ${at}`)}}getPattern(_,at,ht,j){let it=ht;j!==a.SHADING&&(it=o.Util.transform(it,at.baseTransform),this.matrix&&(it=o.Util.transform(it,this.matrix)));const $=this.createPatternCanvas(at);let rt=new DOMMatrix(it);rt=rt.translate($.offsetX,$.offsetY),rt=rt.scale(1/$.scaleX,1/$.scaleY);const ct=_.createPattern($.canvas,"repeat");return ct.setTransform(rt),ct}};Lr(gt,"MAX_PATTERN_SIZE",3e3);let mt=gt;i.TilingPattern=mt},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=a,i.convertToRGBA=c,i.grayToRGBA=ut;var o=s(1);function c(tt){switch(tt.kind){case o.ImageKind.GRAYSCALE_1BPP:return a(tt);case o.ImageKind.RGB_24BPP:return d(tt)}return null}function a({src:tt,srcPos:st=0,dest:_e,width:yt,height:ft,nonBlackColor:dt=4294967295,inverseDecode:lt=!1}){const mt=o.FeatureTest.isLittleEndian?4278190080:255,[gt,g]=lt?[dt,mt]:[mt,dt],_=yt>>3,at=yt&7,ht=tt.length;_e=new Uint32Array(_e.buffer);let j=0;for(let it=0;it<ft;it++){for(const rt=st+_;st<rt;st++){const ct=st<ht?tt[st]:255;_e[j++]=ct&128?g:gt,_e[j++]=ct&64?g:gt,_e[j++]=ct&32?g:gt,_e[j++]=ct&16?g:gt,_e[j++]=ct&8?g:gt,_e[j++]=ct&4?g:gt,_e[j++]=ct&2?g:gt,_e[j++]=ct&1?g:gt}if(at===0)continue;const $=st<ht?tt[st++]:255;for(let rt=0;rt<at;rt++)_e[j++]=$&1<<7-rt?g:gt}return{srcPos:st,destPos:j}}function d({src:tt,srcPos:st=0,dest:_e,destPos:yt=0,width:ft,height:dt}){let lt=0;const mt=tt.length>>2,gt=new Uint32Array(tt.buffer,st,mt);if(o.FeatureTest.isLittleEndian){for(;lt<mt-2;lt+=3,yt+=4){const g=gt[lt],_=gt[lt+1],at=gt[lt+2];_e[yt]=g|4278190080,_e[yt+1]=g>>>24|_<<8|4278190080,_e[yt+2]=_>>>16|at<<16|4278190080,_e[yt+3]=at>>>8|4278190080}for(let g=lt*4,_=tt.length;g<_;g+=3)_e[yt++]=tt[g]|tt[g+1]<<8|tt[g+2]<<16|4278190080}else{for(;lt<mt-2;lt+=3,yt+=4){const g=gt[lt],_=gt[lt+1],at=gt[lt+2];_e[yt]=g|255,_e[yt+1]=g<<24|_>>>8|255,_e[yt+2]=_<<16|at>>>16|255,_e[yt+3]=at<<8|255}for(let g=lt*4,_=tt.length;g<_;g+=3)_e[yt++]=tt[g]<<24|tt[g+1]<<16|tt[g+2]<<8|255}return{srcPos:st,destPos:yt}}function ut(tt,st){if(o.FeatureTest.isLittleEndian)for(let _e=0,yt=tt.length;_e<yt;_e++)st[_e]=tt[_e]*65793|4278190080;else for(let _e=0,yt=tt.length;_e<yt;_e++)st[_e]=tt[_e]*16843008|255}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const s=Object.create(null);i.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(e,i,s)=>{var tt,zl,Bl,Xs;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var o=s(1);const c={UNKNOWN:0,DATA:1,ERROR:2},a={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(ft){switch(ft instanceof Error||typeof ft=="object"&&ft!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ft.name){case"AbortException":return new o.AbortException(ft.message);case"MissingPDFException":return new o.MissingPDFException(ft.message);case"PasswordException":return new o.PasswordException(ft.message,ft.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(ft.message,ft.status);case"UnknownErrorException":return new o.UnknownErrorException(ft.message,ft.details);default:return new o.UnknownErrorException(ft.message,ft.toString())}}class ut{constructor(dt,lt,mt){rn(this,tt);this.sourceName=dt,this.targetName=lt,this.comObj=mt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=gt=>{const g=gt.data;if(g.targetName!==this.sourceName)return;if(g.stream){Wt(this,tt,Bl).call(this,g);return}if(g.callback){const at=g.callbackId,ht=this.callbackCapabilities[at];if(!ht)throw new Error(`Cannot resolve callback ${at}`);if(delete this.callbackCapabilities[at],g.callback===c.DATA)ht.resolve(g.data);else if(g.callback===c.ERROR)ht.reject(d(g.reason));else throw new Error("Unexpected callback case");return}const _=this.actionHandler[g.action];if(!_)throw new Error(`Unknown action from worker: ${g.action}`);if(g.callbackId){const at=this.sourceName,ht=g.sourceName;new Promise(function(j){j(_(g.data))}).then(function(j){mt.postMessage({sourceName:at,targetName:ht,callback:c.DATA,callbackId:g.callbackId,data:j})},function(j){mt.postMessage({sourceName:at,targetName:ht,callback:c.ERROR,callbackId:g.callbackId,reason:d(j)})});return}if(g.streamId){Wt(this,tt,zl).call(this,g);return}_(g.data)},mt.addEventListener("message",this._onComObjOnMessage)}on(dt,lt){const mt=this.actionHandler;if(mt[dt])throw new Error(`There is already an actionName called "${dt}"`);mt[dt]=lt}send(dt,lt,mt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:dt,data:lt},mt)}sendWithPromise(dt,lt,mt){const gt=this.callbackId++,g=new o.PromiseCapability;this.callbackCapabilities[gt]=g;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:dt,callbackId:gt,data:lt},mt)}catch(_){g.reject(_)}return g.promise}sendWithStream(dt,lt,mt,gt){const g=this.streamId++,_=this.sourceName,at=this.targetName,ht=this.comObj;return new ReadableStream({start:j=>{const it=new o.PromiseCapability;return this.streamControllers[g]={controller:j,startCall:it,pullCall:null,cancelCall:null,isClosed:!1},ht.postMessage({sourceName:_,targetName:at,action:dt,streamId:g,data:lt,desiredSize:j.desiredSize},gt),it.promise},pull:j=>{const it=new o.PromiseCapability;return this.streamControllers[g].pullCall=it,ht.postMessage({sourceName:_,targetName:at,stream:a.PULL,streamId:g,desiredSize:j.desiredSize}),it.promise},cancel:j=>{(0,o.assert)(j instanceof Error,"cancel must have a valid reason");const it=new o.PromiseCapability;return this.streamControllers[g].cancelCall=it,this.streamControllers[g].isClosed=!0,ht.postMessage({sourceName:_,targetName:at,stream:a.CANCEL,streamId:g,reason:d(j)}),it.promise}},mt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}tt=new WeakSet,zl=function(dt){const lt=dt.streamId,mt=this.sourceName,gt=dt.sourceName,g=this.comObj,_=this,at=this.actionHandler[dt.action],ht={enqueue(j,it=1,$){if(this.isCancelled)return;const rt=this.desiredSize;this.desiredSize-=it,rt>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),g.postMessage({sourceName:mt,targetName:gt,stream:a.ENQUEUE,streamId:lt,chunk:j},$)},close(){this.isCancelled||(this.isCancelled=!0,g.postMessage({sourceName:mt,targetName:gt,stream:a.CLOSE,streamId:lt}),delete _.streamSinks[lt])},error(j){(0,o.assert)(j instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,g.postMessage({sourceName:mt,targetName:gt,stream:a.ERROR,streamId:lt,reason:d(j)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:dt.desiredSize,ready:null};ht.sinkCapability.resolve(),ht.ready=ht.sinkCapability.promise,this.streamSinks[lt]=ht,new Promise(function(j){j(at(dt.data,ht))}).then(function(){g.postMessage({sourceName:mt,targetName:gt,stream:a.START_COMPLETE,streamId:lt,success:!0})},function(j){g.postMessage({sourceName:mt,targetName:gt,stream:a.START_COMPLETE,streamId:lt,reason:d(j)})})},Bl=function(dt){const lt=dt.streamId,mt=this.sourceName,gt=dt.sourceName,g=this.comObj,_=this.streamControllers[lt],at=this.streamSinks[lt];switch(dt.stream){case a.START_COMPLETE:dt.success?_.startCall.resolve():_.startCall.reject(d(dt.reason));break;case a.PULL_COMPLETE:dt.success?_.pullCall.resolve():_.pullCall.reject(d(dt.reason));break;case a.PULL:if(!at){g.postMessage({sourceName:mt,targetName:gt,stream:a.PULL_COMPLETE,streamId:lt,success:!0});break}at.desiredSize<=0&&dt.desiredSize>0&&at.sinkCapability.resolve(),at.desiredSize=dt.desiredSize,new Promise(function(ht){var j;ht((j=at.onPull)==null?void 0:j.call(at))}).then(function(){g.postMessage({sourceName:mt,targetName:gt,stream:a.PULL_COMPLETE,streamId:lt,success:!0})},function(ht){g.postMessage({sourceName:mt,targetName:gt,stream:a.PULL_COMPLETE,streamId:lt,reason:d(ht)})});break;case a.ENQUEUE:if((0,o.assert)(_,"enqueue should have stream controller"),_.isClosed)break;_.controller.enqueue(dt.chunk);break;case a.CLOSE:if((0,o.assert)(_,"close should have stream controller"),_.isClosed)break;_.isClosed=!0,_.controller.close(),Wt(this,tt,Xs).call(this,_,lt);break;case a.ERROR:(0,o.assert)(_,"error should have stream controller"),_.controller.error(d(dt.reason)),Wt(this,tt,Xs).call(this,_,lt);break;case a.CANCEL_COMPLETE:dt.success?_.cancelCall.resolve():_.cancelCall.reject(d(dt.reason)),Wt(this,tt,Xs).call(this,_,lt);break;case a.CANCEL:if(!at)break;new Promise(function(ht){var j;ht((j=at.onCancel)==null?void 0:j.call(at,d(dt.reason)))}).then(function(){g.postMessage({sourceName:mt,targetName:gt,stream:a.CANCEL_COMPLETE,streamId:lt,success:!0})},function(ht){g.postMessage({sourceName:mt,targetName:gt,stream:a.CANCEL_COMPLETE,streamId:lt,reason:d(ht)})}),at.sinkCapability.reject(d(dt.reason)),at.isCancelled=!0,delete this.streamSinks[lt];break;default:throw new Error("Unexpected stream case")}},Xs=async function(dt,lt){var mt,gt,g;await Promise.allSettled([(mt=dt.startCall)==null?void 0:mt.promise,(gt=dt.pullCall)==null?void 0:gt.promise,(g=dt.cancelCall)==null?void 0:g.promise]),delete this.streamControllers[lt]},i.MessageHandler=ut},(e,i,s)=>{var a,d;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var o=s(1);class c{constructor({parsedData:tt,rawData:st}){rn(this,a);rn(this,d);on(this,a,tt),on(this,d,st)}getRaw(){return h(this,d)}get(tt){return h(this,a).get(tt)??null}getAll(){return(0,o.objectFromMap)(h(this,a))}has(tt){return h(this,a).has(tt)}}a=new WeakMap,d=new WeakMap,i.Metadata=c},(e,i,s)=>{var tt,st,_e,yt,ft,dt,Fo;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var o=s(1),c=s(8);const a=Symbol("INTERNAL");class d{constructor(gt,g){rn(this,tt,!0);this.name=gt,this.intent=g}get visible(){return h(this,tt)}_setVisible(gt,g){gt!==a&&(0,o.unreachable)("Internal method `_setVisible` called."),on(this,tt,g)}}tt=new WeakMap;class ut{constructor(gt){rn(this,dt);rn(this,st,null);rn(this,_e,new Map);rn(this,yt,null);rn(this,ft,null);if(this.name=null,this.creator=null,gt!==null){this.name=gt.name,this.creator=gt.creator,on(this,ft,gt.order);for(const g of gt.groups)h(this,_e).set(g.id,new d(g.name,g.intent));if(gt.baseState==="OFF")for(const g of h(this,_e).values())g._setVisible(a,!1);for(const g of gt.on)h(this,_e).get(g)._setVisible(a,!0);for(const g of gt.off)h(this,_e).get(g)._setVisible(a,!1);on(this,yt,this.getHash())}}isVisible(gt){if(h(this,_e).size===0)return!0;if(!gt)return(0,o.warn)("Optional content group not defined."),!0;if(gt.type==="OCG")return h(this,_e).has(gt.id)?h(this,_e).get(gt.id).visible:((0,o.warn)(`Optional content group not found: ${gt.id}`),!0);if(gt.type==="OCMD"){if(gt.expression)return Wt(this,dt,Fo).call(this,gt.expression);if(!gt.policy||gt.policy==="AnyOn"){for(const g of gt.ids){if(!h(this,_e).has(g))return(0,o.warn)(`Optional content group not found: ${g}`),!0;if(h(this,_e).get(g).visible)return!0}return!1}else if(gt.policy==="AllOn"){for(const g of gt.ids){if(!h(this,_e).has(g))return(0,o.warn)(`Optional content group not found: ${g}`),!0;if(!h(this,_e).get(g).visible)return!1}return!0}else if(gt.policy==="AnyOff"){for(const g of gt.ids){if(!h(this,_e).has(g))return(0,o.warn)(`Optional content group not found: ${g}`),!0;if(!h(this,_e).get(g).visible)return!0}return!1}else if(gt.policy==="AllOff"){for(const g of gt.ids){if(!h(this,_e).has(g))return(0,o.warn)(`Optional content group not found: ${g}`),!0;if(h(this,_e).get(g).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${gt.policy}.`),!0}return(0,o.warn)(`Unknown group type ${gt.type}.`),!0}setVisibility(gt,g=!0){if(!h(this,_e).has(gt)){(0,o.warn)(`Optional content group not found: ${gt}`);return}h(this,_e).get(gt)._setVisible(a,!!g),on(this,st,null)}get hasInitialVisibility(){return h(this,yt)===null||this.getHash()===h(this,yt)}getOrder(){return h(this,_e).size?h(this,ft)?h(this,ft).slice():[...h(this,_e).keys()]:null}getGroups(){return h(this,_e).size>0?(0,o.objectFromMap)(h(this,_e)):null}getGroup(gt){return h(this,_e).get(gt)||null}getHash(){if(h(this,st)!==null)return h(this,st);const gt=new c.MurmurHash3_64;for(const[g,_]of h(this,_e))gt.update(`${g}:${_.visible}`);return on(this,st,gt.hexdigest())}}st=new WeakMap,_e=new WeakMap,yt=new WeakMap,ft=new WeakMap,dt=new WeakSet,Fo=function(gt){const g=gt.length;if(g<2)return!0;const _=gt[0];for(let at=1;at<g;at++){const ht=gt[at];let j;if(Array.isArray(ht))j=Wt(this,dt,Fo).call(this,ht);else if(h(this,_e).has(ht))j=h(this,_e).get(ht).visible;else return(0,o.warn)(`Optional content group not found: ${ht}`),!0;switch(_){case"And":if(!j)return!1;break;case"Or":if(j)return!0;break;case"Not":return!j;default:return!0}}return _==="And"},i.OptionalContentConfig=ut},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var o=s(1),c=s(6);class a{constructor({length:st,initialData:_e,progressiveDone:yt=!1,contentDispositionFilename:ft=null,disableRange:dt=!1,disableStream:lt=!1},mt){if((0,o.assert)(mt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=yt,this._contentDispositionFilename=ft,(_e==null?void 0:_e.length)>0){const gt=_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength?_e.buffer:new Uint8Array(_e).buffer;this._queuedChunks.push(gt)}this._pdfDataRangeTransport=mt,this._isStreamingSupported=!lt,this._isRangeSupported=!dt,this._contentLength=st,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((gt,g)=>{this._onReceiveData({begin:gt,chunk:g})}),this._pdfDataRangeTransport.addProgressListener((gt,g)=>{this._onProgress({loaded:gt,total:g})}),this._pdfDataRangeTransport.addProgressiveReadListener(gt=>{this._onReceiveData({chunk:gt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:st,chunk:_e}){const yt=_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength?_e.buffer:new Uint8Array(_e).buffer;if(st===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(yt):this._queuedChunks.push(yt);else{const ft=this._rangeReaders.some(function(dt){return dt._begin!==st?!1:(dt._enqueue(yt),!0)});(0,o.assert)(ft,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}_onProgress(st){var _e,yt,ft,dt;st.total===void 0?(yt=(_e=this._rangeReaders[0])==null?void 0:_e.onProgress)==null||yt.call(_e,{loaded:st.loaded}):(dt=(ft=this._fullRequestReader)==null?void 0:ft.onProgress)==null||dt.call(ft,{loaded:st.loaded,total:st.total})}_onProgressiveDone(){var st;(st=this._fullRequestReader)==null||st.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(st){const _e=this._rangeReaders.indexOf(st);_e>=0&&this._rangeReaders.splice(_e,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const st=this._queuedChunks;return this._queuedChunks=null,new d(this,st,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(st,_e){if(_e<=this._progressiveDataLength)return null;const yt=new ut(this,st,_e);return this._pdfDataRangeTransport.requestDataRange(st,_e),this._rangeReaders.push(yt),yt}cancelAllRequests(st){var _e;(_e=this._fullRequestReader)==null||_e.cancel(st);for(const yt of this._rangeReaders.slice(0))yt.cancel(st);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=a;class d{constructor(st,_e,yt=!1,ft=null){this._stream=st,this._done=yt||!1,this._filename=(0,c.isPdfFile)(ft)?ft:null,this._queuedChunks=_e||[],this._loaded=0;for(const dt of this._queuedChunks)this._loaded+=dt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),st._fullRequestReader=this,this.onProgress=null}_enqueue(st){this._done||(this._requests.length>0?this._requests.shift().resolve({value:st,done:!1}):this._queuedChunks.push(st),this._loaded+=st.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const st=new o.PromiseCapability;return this._requests.push(st),st.promise}cancel(st){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ut{constructor(st,_e,yt){this._stream=st,this._begin=_e,this._end=yt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(st){if(!this._done){if(this._requests.length===0)this._queuedChunk=st;else{this._requests.shift().resolve({value:st,done:!1});for(const yt of this._requests)yt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _e=this._queuedChunk;return this._queuedChunk=null,{value:_e,done:!1}}if(this._done)return{value:void 0,done:!0};const st=new o.PromiseCapability;return this._requests.push(st),st.promise}cancel(st){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var o=s(1),c=s(20);function a(yt,ft,dt){return{method:"GET",headers:yt,signal:dt.signal,mode:"cors",credentials:ft?"include":"same-origin",redirect:"follow"}}function d(yt){const ft=new Headers;for(const dt in yt){const lt=yt[dt];lt!==void 0&&ft.append(dt,lt)}return ft}function ut(yt){return yt instanceof Uint8Array?yt.buffer:yt instanceof ArrayBuffer?yt:((0,o.warn)(`getArrayBuffer - unexpected data format: ${yt}`),new Uint8Array(yt).buffer)}class tt{constructor(ft){this.source=ft,this.isHttp=/^https?:/i.test(ft.url),this.httpHeaders=this.isHttp&&ft.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ft;return((ft=this._fullRequestReader)==null?void 0:ft._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new st(this),this._fullRequestReader}getRangeReader(ft,dt){if(dt<=this._progressiveDataLength)return null;const lt=new _e(this,ft,dt);return this._rangeRequestReaders.push(lt),lt}cancelAllRequests(ft){var dt;(dt=this._fullRequestReader)==null||dt.cancel(ft);for(const lt of this._rangeRequestReaders.slice(0))lt.cancel(ft)}}i.PDFFetchStream=tt;class st{constructor(ft){this._stream=ft,this._reader=null,this._loaded=0,this._filename=null;const dt=ft.source;this._withCredentials=dt.withCredentials||!1,this._contentLength=dt.length,this._headersCapability=new o.PromiseCapability,this._disableRange=dt.disableRange||!1,this._rangeChunkSize=dt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!dt.disableStream,this._isRangeSupported=!dt.disableRange,this._headers=d(this._stream.httpHeaders);const lt=dt.url;fetch(lt,a(this._headers,this._withCredentials,this._abortController)).then(mt=>{if(!(0,c.validateResponseStatus)(mt.status))throw(0,c.createResponseStatusError)(mt.status,lt);this._reader=mt.body.getReader(),this._headersCapability.resolve();const gt=at=>mt.headers.get(at),{allowRangeRequests:g,suggestedLength:_}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:gt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=_||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(gt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var lt;await this._headersCapability.promise;const{value:ft,done:dt}=await this._reader.read();return dt?{value:ft,done:dt}:(this._loaded+=ft.byteLength,(lt=this.onProgress)==null||lt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ut(ft),done:!1})}cancel(ft){var dt;(dt=this._reader)==null||dt.cancel(ft),this._abortController.abort()}}class _e{constructor(ft,dt,lt){this._stream=ft,this._reader=null,this._loaded=0;const mt=ft.source;this._withCredentials=mt.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!mt.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${dt}-${lt-1}`);const gt=mt.url;fetch(gt,a(this._headers,this._withCredentials,this._abortController)).then(g=>{if(!(0,c.validateResponseStatus)(g.status))throw(0,c.createResponseStatusError)(g.status,gt);this._readCapability.resolve(),this._reader=g.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var lt;await this._readCapability.promise;const{value:ft,done:dt}=await this._reader.read();return dt?{value:ft,done:dt}:(this._loaded+=ft.byteLength,(lt=this.onProgress)==null||lt.call(this,{loaded:this._loaded}),{value:ut(ft),done:!1})}cancel(ft){var dt;(dt=this._reader)==null||dt.cancel(ft),this._abortController.abort()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=tt,i.extractFilenameFromHeader=ut,i.validateRangeRequestCapabilities=d,i.validateResponseStatus=st;var o=s(1),c=s(21),a=s(6);function d({getResponseHeader:_e,isHttp:yt,rangeChunkSize:ft,disableRange:dt}){const lt={allowRangeRequests:!1,suggestedLength:void 0},mt=parseInt(_e("Content-Length"),10);return!Number.isInteger(mt)||(lt.suggestedLength=mt,mt<=2*ft)||dt||!yt||_e("Accept-Ranges")!=="bytes"||(_e("Content-Encoding")||"identity")!=="identity"||(lt.allowRangeRequests=!0),lt}function ut(_e){const yt=_e("Content-Disposition");if(yt){let ft=(0,c.getFilenameFromContentDispositionHeader)(yt);if(ft.includes("%"))try{ft=decodeURIComponent(ft)}catch{}if((0,a.isPdfFile)(ft))return ft}return null}function tt(_e,yt){return _e===404||_e===0&&yt.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+yt+'".'):new o.UnexpectedResponseException(`Unexpected server response (${_e}) while retrieving PDF "${yt}".`,_e)}function st(_e){return _e===200||_e===206}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=c;var o=s(1);function c(a){let d=!0,ut=tt("filename\\*","i").exec(a);if(ut){ut=ut[1];let mt=ft(ut);return mt=unescape(mt),mt=dt(mt),mt=lt(mt),_e(mt)}if(ut=yt(a),ut){const mt=lt(ut);return _e(mt)}if(ut=tt("filename","i").exec(a),ut){ut=ut[1];let mt=ft(ut);return mt=lt(mt),_e(mt)}function tt(mt,gt){return new RegExp("(?:^|;)\\s*"+mt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',gt)}function st(mt,gt){if(mt){if(!/^[\x00-\xFF]+$/.test(gt))return gt;try{const g=new TextDecoder(mt,{fatal:!0}),_=(0,o.stringToBytes)(gt);gt=g.decode(_),d=!1}catch{}}return gt}function _e(mt){return d&&/[\x80-\xff]/.test(mt)&&(mt=st("utf-8",mt),d&&(mt=st("iso-8859-1",mt))),mt}function yt(mt){const gt=[];let g;const _=tt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=_.exec(mt))!==null;){let[,ht,j,it]=g;if(ht=parseInt(ht,10),ht in gt){if(ht===0)break;continue}gt[ht]=[j,it]}const at=[];for(let ht=0;ht<gt.length&&ht in gt;++ht){let[j,it]=gt[ht];it=ft(it),j&&(it=unescape(it),ht===0&&(it=dt(it))),at.push(it)}return at.join("")}function ft(mt){if(mt.startsWith('"')){const gt=mt.slice(1).split('\\"');for(let g=0;g<gt.length;++g){const _=gt[g].indexOf('"');_!==-1&&(gt[g]=gt[g].slice(0,_),gt.length=g+1),gt[g]=gt[g].replaceAll(/\\(.)/g,"$1")}mt=gt.join('"')}return mt}function dt(mt){const gt=mt.indexOf("'");if(gt===-1)return mt;const g=mt.slice(0,gt),at=mt.slice(gt+1).replace(/^[^']*'/,"");return st(g,at)}function lt(mt){return!mt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(mt)?mt:mt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(gt,g,_,at){if(_==="q"||_==="Q")return at=at.replaceAll("_"," "),at=at.replaceAll(/=([0-9a-fA-F]{2})/g,function(ht,j){return String.fromCharCode(parseInt(j,16))}),st(g,at);try{at=atob(at)}catch{}return st(g,at)})}return""}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var o=s(1),c=s(20);const a=200,d=206;function ut(ft){const dt=ft.response;return typeof dt!="string"?dt:(0,o.stringToBytes)(dt).buffer}class tt{constructor(dt,lt={}){this.url=dt,this.isHttp=/^https?:/i.test(dt),this.httpHeaders=this.isHttp&&lt.httpHeaders||Object.create(null),this.withCredentials=lt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(dt,lt,mt){const gt={begin:dt,end:lt};for(const g in mt)gt[g]=mt[g];return this.request(gt)}requestFull(dt){return this.request(dt)}request(dt){const lt=new XMLHttpRequest,mt=this.currXhrId++,gt=this.pendingRequests[mt]={xhr:lt};lt.open("GET",this.url),lt.withCredentials=this.withCredentials;for(const g in this.httpHeaders){const _=this.httpHeaders[g];_!==void 0&&lt.setRequestHeader(g,_)}return this.isHttp&&"begin"in dt&&"end"in dt?(lt.setRequestHeader("Range",`bytes=${dt.begin}-${dt.end-1}`),gt.expectedStatus=d):gt.expectedStatus=a,lt.responseType="arraybuffer",dt.onError&&(lt.onerror=function(g){dt.onError(lt.status)}),lt.onreadystatechange=this.onStateChange.bind(this,mt),lt.onprogress=this.onProgress.bind(this,mt),gt.onHeadersReceived=dt.onHeadersReceived,gt.onDone=dt.onDone,gt.onError=dt.onError,gt.onProgress=dt.onProgress,lt.send(null),mt}onProgress(dt,lt){var gt;const mt=this.pendingRequests[dt];mt&&((gt=mt.onProgress)==null||gt.call(mt,lt))}onStateChange(dt,lt){var ht,j,it;const mt=this.pendingRequests[dt];if(!mt)return;const gt=mt.xhr;if(gt.readyState>=2&&mt.onHeadersReceived&&(mt.onHeadersReceived(),delete mt.onHeadersReceived),gt.readyState!==4||!(dt in this.pendingRequests))return;if(delete this.pendingRequests[dt],gt.status===0&&this.isHttp){(ht=mt.onError)==null||ht.call(mt,gt.status);return}const g=gt.status||a;if(!(g===a&&mt.expectedStatus===d)&&g!==mt.expectedStatus){(j=mt.onError)==null||j.call(mt,gt.status);return}const at=ut(gt);if(g===d){const $=gt.getResponseHeader("Content-Range"),rt=/bytes (\d+)-(\d+)\/(\d+)/.exec($);mt.onDone({begin:parseInt(rt[1],10),chunk:at})}else at?mt.onDone({begin:0,chunk:at}):(it=mt.onError)==null||it.call(mt,gt.status)}getRequestXhr(dt){return this.pendingRequests[dt].xhr}isPendingRequest(dt){return dt in this.pendingRequests}abortRequest(dt){const lt=this.pendingRequests[dt].xhr;delete this.pendingRequests[dt],lt.abort()}}class st{constructor(dt){this._source=dt,this._manager=new tt(dt.url,{httpHeaders:dt.httpHeaders,withCredentials:dt.withCredentials}),this._rangeChunkSize=dt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(dt){const lt=this._rangeRequestReaders.indexOf(dt);lt>=0&&this._rangeRequestReaders.splice(lt,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _e(this._manager,this._source),this._fullRequestReader}getRangeReader(dt,lt){const mt=new yt(this._manager,dt,lt);return mt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(mt),mt}cancelAllRequests(dt){var lt;(lt=this._fullRequestReader)==null||lt.cancel(dt);for(const mt of this._rangeRequestReaders.slice(0))mt.cancel(dt)}}i.PDFNetworkStream=st;class _e{constructor(dt,lt){this._manager=dt;const mt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=lt.url,this._fullRequestId=dt.requestFull(mt),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=lt.disableRange||!1,this._contentLength=lt.length,this._rangeChunkSize=lt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const dt=this._fullRequestId,lt=this._manager.getRequestXhr(dt),mt=_=>lt.getResponseHeader(_),{allowRangeRequests:gt,suggestedLength:g}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:mt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});gt&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(mt),this._isRangeSupported&&this._manager.abortRequest(dt),this._headersReceivedCapability.resolve()}_onDone(dt){if(dt&&(this._requests.length>0?this._requests.shift().resolve({value:dt.chunk,done:!1}):this._cachedChunks.push(dt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(dt){this._storedError=(0,c.createResponseStatusError)(dt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const lt of this._requests)lt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(dt){var lt;(lt=this.onProgress)==null||lt.call(this,{loaded:dt.loaded,total:dt.lengthComputable?dt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const dt=new o.PromiseCapability;return this._requests.push(dt),dt.promise}cancel(dt){this._done=!0,this._headersReceivedCapability.reject(dt);for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class yt{constructor(dt,lt,mt){this._manager=dt;const gt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=dt.url,this._requestId=dt.requestRange(lt,mt,gt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var dt;(dt=this.onClosed)==null||dt.call(this,this)}_onDone(dt){const lt=dt.chunk;this._requests.length>0?this._requests.shift().resolve({value:lt,done:!1}):this._queuedChunk=lt,this._done=!0;for(const mt of this._requests)mt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(dt){this._storedError=(0,c.createResponseStatusError)(dt,this._url);for(const lt of this._requests)lt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(dt){var lt;this.isStreamingSupported||(lt=this.onProgress)==null||lt.call(this,{loaded:dt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const lt=this._queuedChunk;return this._queuedChunk=null,{value:lt,done:!1}}if(this._done)return{value:void 0,done:!0};const dt=new o.PromiseCapability;return this._requests.push(dt),dt.promise}cancel(dt){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var o=s(1),c=s(20);const a=/^file:\/\/\/[a-zA-Z]:\//;function d(mt){const gt=require$$5,g=gt.parse(mt);return g.protocol==="file:"||g.host?g:/^[a-z]:[/\\]/i.test(mt)?gt.parse(`file:///${mt}`):(g.host||(g.protocol="file:"),g)}class ut{constructor(gt){this.source=gt,this.url=d(gt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&gt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var gt;return((gt=this._fullRequestReader)==null?void 0:gt._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new dt(this):new yt(this),this._fullRequestReader}getRangeReader(gt,g){if(g<=this._progressiveDataLength)return null;const _=this.isFsUrl?new lt(this,gt,g):new ft(this,gt,g);return this._rangeRequestReaders.push(_),_}cancelAllRequests(gt){var g;(g=this._fullRequestReader)==null||g.cancel(gt);for(const _ of this._rangeRequestReaders.slice(0))_.cancel(gt)}}i.PDFNodeStream=ut;class tt{constructor(gt){this._url=gt.url,this._done=!1,this._storedError=null,this.onProgress=null;const g=gt.source;this._contentLength=g.length,this._loaded=0,this._filename=null,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const gt=this._readableStream.read();return gt===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=gt.length,(_=this.onProgress)==null||_.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(gt).buffer,done:!1})}cancel(gt){if(!this._readableStream){this._error(gt);return}this._readableStream.destroy(gt)}_error(gt){this._storedError=gt,this._readCapability.resolve()}_setReadableStream(gt){this._readableStream=gt,gt.on("readable",()=>{this._readCapability.resolve()}),gt.on("end",()=>{gt.destroy(),this._done=!0,this._readCapability.resolve()}),gt.on("error",g=>{this._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class st{constructor(gt){this._url=gt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const g=gt.source;this._isStreamingSupported=!g.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const gt=this._readableStream.read();return gt===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=gt.length,(_=this.onProgress)==null||_.call(this,{loaded:this._loaded}),{value:new Uint8Array(gt).buffer,done:!1})}cancel(gt){if(!this._readableStream){this._error(gt);return}this._readableStream.destroy(gt)}_error(gt){this._storedError=gt,this._readCapability.resolve()}_setReadableStream(gt){this._readableStream=gt,gt.on("readable",()=>{this._readCapability.resolve()}),gt.on("end",()=>{gt.destroy(),this._done=!0,this._readCapability.resolve()}),gt.on("error",g=>{this._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _e(mt,gt){return{protocol:mt.protocol,auth:mt.auth,host:mt.hostname,port:mt.port,path:mt.path,method:"GET",headers:gt}}class yt extends tt{constructor(gt){super(gt);const g=_=>{if(_.statusCode===404){const it=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=it,this._headersCapability.reject(it);return}this._headersCapability.resolve(),this._setReadableStream(_);const at=it=>this._readableStream.headers[it.toLowerCase()],{allowRangeRequests:ht,suggestedLength:j}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:at,isHttp:gt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ht,this._contentLength=j||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(at)};if(this._request=null,this._url.protocol==="http:"){const _=require$$5;this._request=_.request(_e(this._url,gt.httpHeaders),g)}else{const _=require$$5;this._request=_.request(_e(this._url,gt.httpHeaders),g)}this._request.on("error",_=>{this._storedError=_,this._headersCapability.reject(_)}),this._request.end()}}class ft extends st{constructor(gt,g,_){super(gt),this._httpHeaders={};for(const ht in gt.httpHeaders){const j=gt.httpHeaders[ht];j!==void 0&&(this._httpHeaders[ht]=j)}this._httpHeaders.Range=`bytes=${g}-${_-1}`;const at=ht=>{if(ht.statusCode===404){const j=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=j;return}this._setReadableStream(ht)};if(this._request=null,this._url.protocol==="http:"){const ht=require$$5;this._request=ht.request(_e(this._url,this._httpHeaders),at)}else{const ht=require$$5;this._request=ht.request(_e(this._url,this._httpHeaders),at)}this._request.on("error",ht=>{this._storedError=ht}),this._request.end()}}class dt extends tt{constructor(gt){super(gt);let g=decodeURIComponent(this._url.path);a.test(this._url.href)&&(g=g.replace(/^\//,""));const _=require$$5;_.lstat(g,(at,ht)=>{if(at){at.code==="ENOENT"&&(at=new o.MissingPDFException(`Missing PDF "${g}".`)),this._storedError=at,this._headersCapability.reject(at);return}this._contentLength=ht.size,this._setReadableStream(_.createReadStream(g)),this._headersCapability.resolve()})}}class lt extends st{constructor(gt,g,_){super(gt);let at=decodeURIComponent(this._url.path);a.test(this._url.href)&&(at=at.replace(/^\//,""));const ht=require$$5;this._setReadableStream(ht.createReadStream(at,{start:g,end:_-1}))}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var o=s(6),c=s(1);const a={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",ut="http://www.w3.org/1999/xlink",tt=["butt","round","square"],st=["miter","round","bevel"],_e=function(ht,j="",it=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!it)return URL.createObjectURL(new Blob([ht],{type:j}));const $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let rt=`data:${j};base64,`;for(let ct=0,At=ht.length;ct<At;ct+=3){const ot=ht[ct]&255,Et=ht[ct+1]&255,Tt=ht[ct+2]&255,sn=ot>>2,jt=(ot&3)<<4|Et>>4,Xt=ct+1<At?(Et&15)<<2|Tt>>6:64,Nt=ct+2<At?Tt&63:64;rt+=$[sn]+$[jt]+$[Xt]+$[Nt]}return rt},yt=function(){const ht=new Uint8Array([137,80,78,71,13,10,26,10]),j=12,it=new Int32Array(256);for(let Tt=0;Tt<256;Tt++){let sn=Tt;for(let jt=0;jt<8;jt++)sn=sn&1?3988292384^sn>>1&2147483647:sn>>1&2147483647;it[Tt]=sn}function $(Tt,sn,jt){let Xt=-1;for(let Nt=sn;Nt<jt;Nt++){const Ot=(Xt^Tt[Nt])&255,St=it[Ot];Xt=Xt>>>8^St}return Xt^-1}function rt(Tt,sn,jt,Xt){let Nt=Xt;const Ot=sn.length;jt[Nt]=Ot>>24&255,jt[Nt+1]=Ot>>16&255,jt[Nt+2]=Ot>>8&255,jt[Nt+3]=Ot&255,Nt+=4,jt[Nt]=Tt.charCodeAt(0)&255,jt[Nt+1]=Tt.charCodeAt(1)&255,jt[Nt+2]=Tt.charCodeAt(2)&255,jt[Nt+3]=Tt.charCodeAt(3)&255,Nt+=4,jt.set(sn,Nt),Nt+=sn.length;const St=$(jt,Xt+4,Nt);jt[Nt]=St>>24&255,jt[Nt+1]=St>>16&255,jt[Nt+2]=St>>8&255,jt[Nt+3]=St&255}function ct(Tt,sn,jt){let Xt=1,Nt=0;for(let Ot=sn;Ot<jt;++Ot)Xt=(Xt+(Tt[Ot]&255))%65521,Nt=(Nt+Xt)%65521;return Nt<<16|Xt}function At(Tt){if(!c.isNodeJS)return ot(Tt);try{const sn=parseInt(process.versions.node)>=8?Tt:Buffer.from(Tt),jt=require$$5.deflateSync(sn,{level:9});return jt instanceof Uint8Array?jt:new Uint8Array(jt)}catch(sn){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+sn)}return ot(Tt)}function ot(Tt){let sn=Tt.length;const jt=65535,Xt=Math.ceil(sn/jt),Nt=new Uint8Array(2+sn+Xt*5+4);let Ot=0;Nt[Ot++]=120,Nt[Ot++]=156;let St=0;for(;sn>jt;)Nt[Ot++]=0,Nt[Ot++]=255,Nt[Ot++]=255,Nt[Ot++]=0,Nt[Ot++]=0,Nt.set(Tt.subarray(St,St+jt),Ot),Ot+=jt,St+=jt,sn-=jt;Nt[Ot++]=1,Nt[Ot++]=sn&255,Nt[Ot++]=sn>>8&255,Nt[Ot++]=~sn&65535&255,Nt[Ot++]=(~sn&65535)>>8&255,Nt.set(Tt.subarray(St),Ot),Ot+=Tt.length-St;const Lt=ct(Tt,0,Tt.length);return Nt[Ot++]=Lt>>24&255,Nt[Ot++]=Lt>>16&255,Nt[Ot++]=Lt>>8&255,Nt[Ot++]=Lt&255,Nt}function Et(Tt,sn,jt,Xt){const Nt=Tt.width,Ot=Tt.height;let St,Lt,Vt;const wt=Tt.data;switch(sn){case c.ImageKind.GRAYSCALE_1BPP:Lt=0,St=1,Vt=Nt+7>>3;break;case c.ImageKind.RGB_24BPP:Lt=2,St=8,Vt=Nt*3;break;case c.ImageKind.RGBA_32BPP:Lt=6,St=8,Vt=Nt*4;break;default:throw new Error("invalid format")}const et=new Uint8Array((1+Vt)*Ot);let nt=0,vt=0;for(let un=0;un<Ot;++un)et[nt++]=0,et.set(wt.subarray(vt,vt+Vt),nt),vt+=Vt,nt+=Vt;if(sn===c.ImageKind.GRAYSCALE_1BPP&&Xt){nt=0;for(let un=0;un<Ot;un++){nt++;for(let dn=0;dn<Vt;dn++)et[nt++]^=255}}const xt=new Uint8Array([Nt>>24&255,Nt>>16&255,Nt>>8&255,Nt&255,Ot>>24&255,Ot>>16&255,Ot>>8&255,Ot&255,St,Lt,0,0,0]),Pt=At(et),Ct=ht.length+j*3+xt.length+Pt.length,Ht=new Uint8Array(Ct);let an=0;return Ht.set(ht,an),an+=ht.length,rt("IHDR",xt,Ht,an),an+=j+xt.length,rt("IDATA",Pt,Ht,an),an+=j+Pt.length,rt("IEND",new Uint8Array(0),Ht,an),_e(Ht,"image/png",jt)}return function(sn,jt,Xt){const Nt=sn.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:sn.kind;return Et(sn,Nt,jt,Xt)}}();class ft{constructor(){this.fontSizeScale=1,this.fontWeight=a.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=a.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(j,it){this.x=j,this.y=it}}function dt(ht){let j=[];const it=[];for(const $ of ht){if($.fn==="save"){j.push({fnId:92,fn:"group",items:[]}),it.push(j),j=j.at(-1).items;continue}$.fn==="restore"?j=it.pop():j.push($)}return j}function lt(ht){if(Number.isInteger(ht))return ht.toString();const j=ht.toFixed(10);let it=j.length-1;if(j[it]!=="0")return j;do it--;while(j[it]==="0");return j.substring(0,j[it]==="."?it:it+1)}function mt(ht){if(ht[4]===0&&ht[5]===0){if(ht[1]===0&&ht[2]===0)return ht[0]===1&&ht[3]===1?"":`scale(${lt(ht[0])} ${lt(ht[3])})`;if(ht[0]===ht[3]&&ht[1]===-ht[2]){const j=Math.acos(ht[0])*180/Math.PI;return`rotate(${lt(j)})`}}else if(ht[0]===1&&ht[1]===0&&ht[2]===0&&ht[3]===1)return`translate(${lt(ht[4])} ${lt(ht[5])})`;return`matrix(${lt(ht[0])} ${lt(ht[1])} ${lt(ht[2])} ${lt(ht[3])} ${lt(ht[4])} ${lt(ht[5])})`}let gt=0,g=0,_=0;class at{constructor(j,it,$=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new ft,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=j,this.objs=it,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!$,this._operatorIdMapping=[];for(const rt in c.OPS)this._operatorIdMapping[c.OPS[rt]]=rt}getObject(j,it=null){return typeof j=="string"?j.startsWith("g_")?this.commonObjs.get(j):this.objs.get(j):it}save(){this.transformStack.push(this.transformMatrix);const j=this.current;this.extraStack.push(j),this.current=j.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(j){this.save(),this.executeOpTree(j),this.restore()}loadDependencies(j){const it=j.fnArray,$=j.argsArray;for(let rt=0,ct=it.length;rt<ct;rt++)if(it[rt]===c.OPS.dependency)for(const At of $[rt]){const ot=At.startsWith("g_")?this.commonObjs:this.objs,Et=new Promise(Tt=>{ot.get(At,Tt)});this.current.dependencies.push(Et)}return Promise.all(this.current.dependencies)}transform(j,it,$,rt,ct,At){const ot=[j,it,$,rt,ct,At];this.transformMatrix=c.Util.transform(this.transformMatrix,ot),this.tgrp=null}getSVG(j,it){this.viewport=it;const $=this._initialize(it);return this.loadDependencies(j).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(j)),$))}convertOpList(j){const it=this._operatorIdMapping,$=j.argsArray,rt=j.fnArray,ct=[];for(let At=0,ot=rt.length;At<ot;At++){const Et=rt[At];ct.push({fnId:Et,fn:it[Et],args:$[At]})}return dt(ct)}executeOpTree(j){for(const it of j){const $=it.fn,rt=it.fnId,ct=it.args;switch(rt|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(ct);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(ct[0],ct[1]);break;case c.OPS.setFont:this.setFont(ct);break;case c.OPS.showText:this.showText(ct[0]);break;case c.OPS.showSpacedText:this.showText(ct[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(ct[0],ct[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(ct[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(ct[0]);break;case c.OPS.setHScale:this.setHScale(ct[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(ct[0],ct[1],ct[2],ct[3],ct[4],ct[5]);break;case c.OPS.setTextRise:this.setTextRise(ct[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(ct[0]);break;case c.OPS.setLineWidth:this.setLineWidth(ct[0]);break;case c.OPS.setLineJoin:this.setLineJoin(ct[0]);break;case c.OPS.setLineCap:this.setLineCap(ct[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(ct[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(ct[0],ct[1],ct[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ct[0],ct[1],ct[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(ct);break;case c.OPS.setFillColorN:this.setFillColorN(ct);break;case c.OPS.shadingFill:this.shadingFill(ct[0]);break;case c.OPS.setDash:this.setDash(ct[0],ct[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(ct[0]);break;case c.OPS.setFlatness:this.setFlatness(ct[0]);break;case c.OPS.setGState:this.setGState(ct[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(ct[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ct[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ct[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ct[0],ct[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(ct[0],ct[1],ct[2],ct[3],ct[4],ct[5]);break;case c.OPS.constructPath:this.constructPath(ct[0],ct[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(it.items);break;default:(0,c.warn)(`Unimplemented operator ${$}`);break}}}setWordSpacing(j){this.current.wordSpacing=j}setCharSpacing(j){this.current.charSpacing=j}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(j,it,$,rt,ct,At){const ot=this.current;ot.textMatrix=ot.lineMatrix=[j,it,$,rt,ct,At],ot.textMatrixScale=Math.hypot(j,it),ot.x=ot.lineX=0,ot.y=ot.lineY=0,ot.xcoords=[],ot.ycoords=[],ot.tspan=this.svgFactory.createElement("svg:tspan"),ot.tspan.setAttributeNS(null,"font-family",ot.fontFamily),ot.tspan.setAttributeNS(null,"font-size",`${lt(ot.fontSize)}px`),ot.tspan.setAttributeNS(null,"y",lt(-ot.y)),ot.txtElement=this.svgFactory.createElement("svg:text"),ot.txtElement.append(ot.tspan)}beginText(){const j=this.current;j.x=j.lineX=0,j.y=j.lineY=0,j.textMatrix=c.IDENTITY_MATRIX,j.lineMatrix=c.IDENTITY_MATRIX,j.textMatrixScale=1,j.tspan=this.svgFactory.createElement("svg:tspan"),j.txtElement=this.svgFactory.createElement("svg:text"),j.txtgrp=this.svgFactory.createElement("svg:g"),j.xcoords=[],j.ycoords=[]}moveText(j,it){const $=this.current;$.x=$.lineX+=j,$.y=$.lineY+=it,$.xcoords=[],$.ycoords=[],$.tspan=this.svgFactory.createElement("svg:tspan"),$.tspan.setAttributeNS(null,"font-family",$.fontFamily),$.tspan.setAttributeNS(null,"font-size",`${lt($.fontSize)}px`),$.tspan.setAttributeNS(null,"y",lt(-$.y))}showText(j){const it=this.current,$=it.font,rt=it.fontSize;if(rt===0)return;const ct=it.fontSizeScale,At=it.charSpacing,ot=it.wordSpacing,Et=it.fontDirection,Tt=it.textHScale*Et,sn=$.vertical,jt=sn?1:-1,Xt=$.defaultVMetrics,Nt=rt*it.fontMatrix[0];let Ot=0;for(const Vt of j){if(Vt===null){Ot+=Et*ot;continue}else if(typeof Vt=="number"){Ot+=jt*Vt*rt/1e3;continue}const wt=(Vt.isSpace?ot:0)+At,et=Vt.fontChar;let nt,vt,xt=Vt.width;if(sn){let Ct;const Ht=Vt.vmetric||Xt;Ct=Vt.vmetric?Ht[1]:xt*.5,Ct=-Ct*Nt;const an=Ht[2]*Nt;xt=Ht?-Ht[0]:xt,nt=Ct/ct,vt=(Ot+an)/ct}else nt=Ot/ct,vt=0;(Vt.isInFont||$.missingFile)&&(it.xcoords.push(it.x+nt),sn&&it.ycoords.push(-it.y+vt),it.tspan.textContent+=et);const Pt=sn?xt*Nt-wt*Et:xt*Nt+wt*Et;Ot+=Pt}it.tspan.setAttributeNS(null,"x",it.xcoords.map(lt).join(" ")),sn?it.tspan.setAttributeNS(null,"y",it.ycoords.map(lt).join(" ")):it.tspan.setAttributeNS(null,"y",lt(-it.y)),sn?it.y-=Ot:it.x+=Ot*Tt,it.tspan.setAttributeNS(null,"font-family",it.fontFamily),it.tspan.setAttributeNS(null,"font-size",`${lt(it.fontSize)}px`),it.fontStyle!==a.fontStyle&&it.tspan.setAttributeNS(null,"font-style",it.fontStyle),it.fontWeight!==a.fontWeight&&it.tspan.setAttributeNS(null,"font-weight",it.fontWeight);const St=it.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(St===c.TextRenderingMode.FILL||St===c.TextRenderingMode.FILL_STROKE?(it.fillColor!==a.fillColor&&it.tspan.setAttributeNS(null,"fill",it.fillColor),it.fillAlpha<1&&it.tspan.setAttributeNS(null,"fill-opacity",it.fillAlpha)):it.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?it.tspan.setAttributeNS(null,"fill","transparent"):it.tspan.setAttributeNS(null,"fill","none"),St===c.TextRenderingMode.STROKE||St===c.TextRenderingMode.FILL_STROKE){const Vt=1/(it.textMatrixScale||1);this._setStrokeAttributes(it.tspan,Vt)}let Lt=it.textMatrix;it.textRise!==0&&(Lt=Lt.slice(),Lt[5]+=it.textRise),it.txtElement.setAttributeNS(null,"transform",`${mt(Lt)} scale(${lt(Tt)}, -1)`),it.txtElement.setAttributeNS(d,"xml:space","preserve"),it.txtElement.append(it.tspan),it.txtgrp.append(it.txtElement),this._ensureTransformGroup().append(it.txtElement)}setLeadingMoveText(j,it){this.setLeading(-it),this.moveText(j,it)}addFontStyle(j){if(!j.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const it=_e(j.data,j.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${j.loadedName}"; src: url(${it}); }
`}setFont(j){const it=this.current,$=this.commonObjs.get(j[0]);let rt=j[1];it.font=$,this.embedFonts&&!$.missingFile&&!this.embeddedFonts[$.loadedName]&&(this.addFontStyle($),this.embeddedFonts[$.loadedName]=$),it.fontMatrix=$.fontMatrix||c.FONT_IDENTITY_MATRIX;let ct="normal";$.black?ct="900":$.bold&&(ct="bold");const At=$.italic?"italic":"normal";rt<0?(rt=-rt,it.fontDirection=-1):it.fontDirection=1,it.fontSize=rt,it.fontFamily=$.loadedName,it.fontWeight=ct,it.fontStyle=At,it.tspan=this.svgFactory.createElement("svg:tspan"),it.tspan.setAttributeNS(null,"y",lt(-it.y)),it.xcoords=[],it.ycoords=[]}endText(){var it;const j=this.current;j.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&((it=j.txtElement)!=null&&it.hasChildNodes())&&(j.element=j.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(j){j>0&&(this.current.lineWidth=j)}setLineCap(j){this.current.lineCap=tt[j]}setLineJoin(j){this.current.lineJoin=st[j]}setMiterLimit(j){this.current.miterLimit=j}setStrokeAlpha(j){this.current.strokeAlpha=j}setStrokeRGBColor(j,it,$){this.current.strokeColor=c.Util.makeHexColor(j,it,$)}setFillAlpha(j){this.current.fillAlpha=j}setFillRGBColor(j,it,$){this.current.fillColor=c.Util.makeHexColor(j,it,$),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(j){this.current.strokeColor=this._makeColorN_Pattern(j)}setFillColorN(j){this.current.fillColor=this._makeColorN_Pattern(j)}shadingFill(j){const{width:it,height:$}=this.viewport,rt=c.Util.inverseTransform(this.transformMatrix),[ct,At,ot,Et]=c.Util.getAxialAlignedBoundingBox([0,0,it,$],rt),Tt=this.svgFactory.createElement("svg:rect");Tt.setAttributeNS(null,"x",ct),Tt.setAttributeNS(null,"y",At),Tt.setAttributeNS(null,"width",ot-ct),Tt.setAttributeNS(null,"height",Et-At),Tt.setAttributeNS(null,"fill",this._makeShadingPattern(j)),this.current.fillAlpha<1&&Tt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Tt)}_makeColorN_Pattern(j){return j[0]==="TilingPattern"?this._makeTilingPattern(j):this._makeShadingPattern(j)}_makeTilingPattern(j){const it=j[1],$=j[2],rt=j[3]||c.IDENTITY_MATRIX,[ct,At,ot,Et]=j[4],Tt=j[5],sn=j[6],jt=j[7],Xt=`shading${_++}`,[Nt,Ot,St,Lt]=c.Util.normalizeRect([...c.Util.applyTransform([ct,At],rt),...c.Util.applyTransform([ot,Et],rt)]),[Vt,wt]=c.Util.singularValueDecompose2dScale(rt),et=Tt*Vt,nt=sn*wt,vt=this.svgFactory.createElement("svg:pattern");vt.setAttributeNS(null,"id",Xt),vt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),vt.setAttributeNS(null,"width",et),vt.setAttributeNS(null,"height",nt),vt.setAttributeNS(null,"x",`${Nt}`),vt.setAttributeNS(null,"y",`${Ot}`);const xt=this.svg,Pt=this.transformMatrix,Ct=this.current.fillColor,Ht=this.current.strokeColor,an=this.svgFactory.create(St-Nt,Lt-Ot);if(this.svg=an,this.transformMatrix=rt,jt===2){const un=c.Util.makeHexColor(...it);this.current.fillColor=un,this.current.strokeColor=un}return this.executeOpTree(this.convertOpList($)),this.svg=xt,this.transformMatrix=Pt,this.current.fillColor=Ct,this.current.strokeColor=Ht,vt.append(an.childNodes[0]),this.defs.append(vt),`url(#${Xt})`}_makeShadingPattern(j){switch(typeof j=="string"&&(j=this.objs.get(j)),j[0]){case"RadialAxial":const it=`shading${_++}`,$=j[3];let rt;switch(j[1]){case"axial":const ct=j[4],At=j[5];rt=this.svgFactory.createElement("svg:linearGradient"),rt.setAttributeNS(null,"id",it),rt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),rt.setAttributeNS(null,"x1",ct[0]),rt.setAttributeNS(null,"y1",ct[1]),rt.setAttributeNS(null,"x2",At[0]),rt.setAttributeNS(null,"y2",At[1]);break;case"radial":const ot=j[4],Et=j[5],Tt=j[6],sn=j[7];rt=this.svgFactory.createElement("svg:radialGradient"),rt.setAttributeNS(null,"id",it),rt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),rt.setAttributeNS(null,"cx",Et[0]),rt.setAttributeNS(null,"cy",Et[1]),rt.setAttributeNS(null,"r",sn),rt.setAttributeNS(null,"fx",ot[0]),rt.setAttributeNS(null,"fy",ot[1]),rt.setAttributeNS(null,"fr",Tt);break;default:throw new Error(`Unknown RadialAxial type: ${j[1]}`)}for(const ct of $){const At=this.svgFactory.createElement("svg:stop");At.setAttributeNS(null,"offset",ct[0]),At.setAttributeNS(null,"stop-color",ct[1]),rt.append(At)}return this.defs.append(rt),`url(#${it})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${j[0]}`)}}setDash(j,it){this.current.dashArray=j,this.current.dashPhase=it}constructPath(j,it){const $=this.current;let rt=$.x,ct=$.y,At=[],ot=0;for(const Et of j)switch(Et|0){case c.OPS.rectangle:rt=it[ot++],ct=it[ot++];const Tt=it[ot++],sn=it[ot++],jt=rt+Tt,Xt=ct+sn;At.push("M",lt(rt),lt(ct),"L",lt(jt),lt(ct),"L",lt(jt),lt(Xt),"L",lt(rt),lt(Xt),"Z");break;case c.OPS.moveTo:rt=it[ot++],ct=it[ot++],At.push("M",lt(rt),lt(ct));break;case c.OPS.lineTo:rt=it[ot++],ct=it[ot++],At.push("L",lt(rt),lt(ct));break;case c.OPS.curveTo:rt=it[ot+4],ct=it[ot+5],At.push("C",lt(it[ot]),lt(it[ot+1]),lt(it[ot+2]),lt(it[ot+3]),lt(rt),lt(ct)),ot+=6;break;case c.OPS.curveTo2:At.push("C",lt(rt),lt(ct),lt(it[ot]),lt(it[ot+1]),lt(it[ot+2]),lt(it[ot+3])),rt=it[ot+2],ct=it[ot+3],ot+=4;break;case c.OPS.curveTo3:rt=it[ot+2],ct=it[ot+3],At.push("C",lt(it[ot]),lt(it[ot+1]),lt(rt),lt(ct),lt(rt),lt(ct)),ot+=4;break;case c.OPS.closePath:At.push("Z");break}At=At.join(" "),$.path&&j.length>0&&j[0]!==c.OPS.rectangle&&j[0]!==c.OPS.moveTo?At=$.path.getAttributeNS(null,"d")+At:($.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append($.path)),$.path.setAttributeNS(null,"d",At),$.path.setAttributeNS(null,"fill","none"),$.element=$.path,$.setCurrentPoint(rt,ct)}endPath(){const j=this.current;if(j.path=null,!this.pendingClip)return;if(!j.element){this.pendingClip=null;return}const it=`clippath${gt++}`,$=this.svgFactory.createElement("svg:clipPath");$.setAttributeNS(null,"id",it),$.setAttributeNS(null,"transform",mt(this.transformMatrix));const rt=j.element.cloneNode(!0);if(this.pendingClip==="evenodd"?rt.setAttributeNS(null,"clip-rule","evenodd"):rt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,$.append(rt),this.defs.append($),j.activeClipUrl){j.clipGroup=null;for(const ct of this.extraStack)ct.clipGroup=null;$.setAttributeNS(null,"clip-path",j.activeClipUrl)}j.activeClipUrl=`url(#${it})`,this.tgrp=null}clip(j){this.pendingClip=j}closePath(){const j=this.current;if(j.path){const it=`${j.path.getAttributeNS(null,"d")}Z`;j.path.setAttributeNS(null,"d",it)}}setLeading(j){this.current.leading=-j}setTextRise(j){this.current.textRise=j}setTextRenderingMode(j){this.current.textRenderingMode=j}setHScale(j){this.current.textHScale=j/100}setRenderingIntent(j){}setFlatness(j){}setGState(j){for(const[it,$]of j)switch(it){case"LW":this.setLineWidth($);break;case"LC":this.setLineCap($);break;case"LJ":this.setLineJoin($);break;case"ML":this.setMiterLimit($);break;case"D":this.setDash($[0],$[1]);break;case"RI":this.setRenderingIntent($);break;case"FL":this.setFlatness($);break;case"Font":this.setFont($);break;case"CA":this.setStrokeAlpha($);break;case"ca":this.setFillAlpha($);break;default:(0,c.warn)(`Unimplemented graphic state operator ${it}`);break}}fill(){const j=this.current;j.element&&(j.element.setAttributeNS(null,"fill",j.fillColor),j.element.setAttributeNS(null,"fill-opacity",j.fillAlpha),this.endPath())}stroke(){const j=this.current;j.element&&(this._setStrokeAttributes(j.element),j.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(j,it=1){const $=this.current;let rt=$.dashArray;it!==1&&rt.length>0&&(rt=rt.map(function(ct){return it*ct})),j.setAttributeNS(null,"stroke",$.strokeColor),j.setAttributeNS(null,"stroke-opacity",$.strokeAlpha),j.setAttributeNS(null,"stroke-miterlimit",lt($.miterLimit)),j.setAttributeNS(null,"stroke-linecap",$.lineCap),j.setAttributeNS(null,"stroke-linejoin",$.lineJoin),j.setAttributeNS(null,"stroke-width",lt(it*$.lineWidth)+"px"),j.setAttributeNS(null,"stroke-dasharray",rt.map(lt).join(" ")),j.setAttributeNS(null,"stroke-dashoffset",lt(it*$.dashPhase)+"px")}eoFill(){var j;(j=this.current.element)==null||j.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var j;(j=this.current.element)==null||j.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y","0"),j.setAttributeNS(null,"width","1px"),j.setAttributeNS(null,"height","1px"),j.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(j)}paintImageXObject(j){const it=this.getObject(j);if(!it){(0,c.warn)(`Dependent image with object ID ${j} is not ready yet`);return}this.paintInlineImageXObject(it)}paintInlineImageXObject(j,it){const $=j.width,rt=j.height,ct=yt(j,this.forceDataSchema,!!it),At=this.svgFactory.createElement("svg:rect");At.setAttributeNS(null,"x","0"),At.setAttributeNS(null,"y","0"),At.setAttributeNS(null,"width",lt($)),At.setAttributeNS(null,"height",lt(rt)),this.current.element=At,this.clip("nonzero");const ot=this.svgFactory.createElement("svg:image");ot.setAttributeNS(ut,"xlink:href",ct),ot.setAttributeNS(null,"x","0"),ot.setAttributeNS(null,"y",lt(-rt)),ot.setAttributeNS(null,"width",lt($)+"px"),ot.setAttributeNS(null,"height",lt(rt)+"px"),ot.setAttributeNS(null,"transform",`scale(${lt(1/$)} ${lt(-1/rt)})`),it?it.append(ot):this._ensureTransformGroup().append(ot)}paintImageMaskXObject(j){const it=this.getObject(j.data,j);if(it.bitmap){(0,c.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const $=this.current,rt=it.width,ct=it.height,At=$.fillColor;$.maskId=`mask${g++}`;const ot=this.svgFactory.createElement("svg:mask");ot.setAttributeNS(null,"id",$.maskId);const Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y","0"),Et.setAttributeNS(null,"width",lt(rt)),Et.setAttributeNS(null,"height",lt(ct)),Et.setAttributeNS(null,"fill",At),Et.setAttributeNS(null,"mask",`url(#${$.maskId})`),this.defs.append(ot),this._ensureTransformGroup().append(Et),this.paintInlineImageXObject(it,ot)}paintFormXObjectBegin(j,it){if(Array.isArray(j)&&j.length===6&&this.transform(j[0],j[1],j[2],j[3],j[4],j[5]),it){const $=it[2]-it[0],rt=it[3]-it[1],ct=this.svgFactory.createElement("svg:rect");ct.setAttributeNS(null,"x",it[0]),ct.setAttributeNS(null,"y",it[1]),ct.setAttributeNS(null,"width",lt($)),ct.setAttributeNS(null,"height",lt(rt)),this.current.element=ct,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(j){const it=this.svgFactory.create(j.width,j.height),$=this.svgFactory.createElement("svg:defs");it.append($),this.defs=$;const rt=this.svgFactory.createElement("svg:g");return rt.setAttributeNS(null,"transform",mt(j.transform)),it.append(rt),this.svg=rt,it}_ensureClipGroup(){if(!this.current.clipGroup){const j=this.svgFactory.createElement("svg:g");j.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(j),this.current.clipGroup=j}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",mt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=at},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class s{static textContent(c){const a=[],d={items:a,styles:Object.create(null)};function ut(tt){var yt;if(!tt)return;let st=null;const _e=tt.name;if(_e==="#text")st=tt.value;else if(s.shouldBuildText(_e))(yt=tt==null?void 0:tt.attributes)!=null&&yt.textContent?st=tt.attributes.textContent:tt.value&&(st=tt.value);else return;if(st!==null&&a.push({str:st}),!!tt.children)for(const ft of tt.children)ut(ft)}return ut(c),d}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}i.XfaText=s},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=mt,i.updateTextLayer=gt;var o=s(1),c=s(6);const a=1e5,d=30,ut=.8,tt=new Map;function st(g,_){let at;if(_&&o.FeatureTest.isOffscreenCanvasSupported)at=new OffscreenCanvas(g,g).getContext("2d",{alpha:!1});else{const ht=document.createElement("canvas");ht.width=ht.height=g,at=ht.getContext("2d",{alpha:!1})}return at}function _e(g,_){const at=tt.get(g);if(at)return at;const ht=st(d,_);ht.font=`${d}px ${g}`;const j=ht.measureText("");let it=j.fontBoundingBoxAscent,$=Math.abs(j.fontBoundingBoxDescent);if(it){const ct=it/(it+$);return tt.set(g,ct),ht.canvas.width=ht.canvas.height=0,ct}ht.strokeStyle="red",ht.clearRect(0,0,d,d),ht.strokeText("g",0,0);let rt=ht.getImageData(0,0,d,d).data;$=0;for(let ct=rt.length-1-3;ct>=0;ct-=4)if(rt[ct]>0){$=Math.ceil(ct/4/d);break}ht.clearRect(0,0,d,d),ht.strokeText("A",0,d),rt=ht.getImageData(0,0,d,d).data,it=0;for(let ct=0,At=rt.length;ct<At;ct+=4)if(rt[ct]>0){it=d-Math.floor(ct/4/d);break}if(ht.canvas.width=ht.canvas.height=0,it){const ct=it/(it+$);return tt.set(g,ct),ct}return tt.set(g,ut),ut}function yt(g,_,at){const ht=document.createElement("span"),j={angle:0,canvasWidth:0,hasText:_.str!=="",hasEOL:_.hasEOL,fontSize:0};g._textDivs.push(ht);const it=o.Util.transform(g._transform,_.transform);let $=Math.atan2(it[1],it[0]);const rt=at[_.fontName];rt.vertical&&($+=Math.PI/2);const ct=Math.hypot(it[2],it[3]),At=ct*_e(rt.fontFamily,g._isOffscreenCanvasSupported);let ot,Et;$===0?(ot=it[4],Et=it[5]-At):(ot=it[4]+At*Math.sin($),Et=it[5]-At*Math.cos($));const Tt="calc(var(--scale-factor)*",sn=ht.style;g._container===g._rootContainer?(sn.left=`${(100*ot/g._pageWidth).toFixed(2)}%`,sn.top=`${(100*Et/g._pageHeight).toFixed(2)}%`):(sn.left=`${Tt}${ot.toFixed(2)}px)`,sn.top=`${Tt}${Et.toFixed(2)}px)`),sn.fontSize=`${Tt}${ct.toFixed(2)}px)`,sn.fontFamily=rt.fontFamily,j.fontSize=ct,ht.setAttribute("role","presentation"),ht.textContent=_.str,ht.dir=_.dir,g._fontInspectorEnabled&&(ht.dataset.fontName=_.fontName),$!==0&&(j.angle=$*(180/Math.PI));let jt=!1;if(_.str.length>1)jt=!0;else if(_.str!==" "&&_.transform[0]!==_.transform[3]){const Xt=Math.abs(_.transform[0]),Nt=Math.abs(_.transform[3]);Xt!==Nt&&Math.max(Xt,Nt)/Math.min(Xt,Nt)>1.5&&(jt=!0)}jt&&(j.canvasWidth=rt.vertical?_.height:_.width),g._textDivProperties.set(ht,j),g._isReadableStream&&g._layoutText(ht)}function ft(g){const{div:_,scale:at,properties:ht,ctx:j,prevFontSize:it,prevFontFamily:$}=g,{style:rt}=_;let ct="";if(ht.canvasWidth!==0&&ht.hasText){const{fontFamily:At}=rt,{canvasWidth:ot,fontSize:Et}=ht;(it!==Et||$!==At)&&(j.font=`${Et*at}px ${At}`,g.prevFontSize=Et,g.prevFontFamily=At);const{width:Tt}=j.measureText(_.textContent);Tt>0&&(ct=`scaleX(${ot*at/Tt})`)}ht.angle!==0&&(ct=`rotate(${ht.angle}deg) ${ct}`),ct.length>0&&(rt.transform=ct)}function dt(g){if(g._canceled)return;const _=g._textDivs,at=g._capability;if(_.length>a){at.resolve();return}if(!g._isReadableStream)for(const j of _)g._layoutText(j);at.resolve()}class lt{constructor({textContentSource:_,container:at,viewport:ht,textDivs:j,textDivProperties:it,textContentItemsStr:$,isOffscreenCanvasSupported:rt}){var Tt;this._textContentSource=_,this._isReadableStream=_ instanceof ReadableStream,this._container=this._rootContainer=at,this._textDivs=j||[],this._textContentItemsStr=$||[],this._isOffscreenCanvasSupported=rt,this._fontInspectorEnabled=!!((Tt=globalThis.FontInspector)!=null&&Tt.enabled),this._reader=null,this._textDivProperties=it||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ht.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:st(0,rt)};const{pageWidth:ct,pageHeight:At,pageX:ot,pageY:Et}=ht.rawDims;this._transform=[1,0,0,-1,-ot,Et+At],this._pageWidth=ct,this._pageHeight=At,(0,c.setLayerDimensions)(at,ht),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(_,at){for(const ht of _){if(ht.str===void 0){if(ht.type==="beginMarkedContentProps"||ht.type==="beginMarkedContent"){const j=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ht.id!==null&&this._container.setAttribute("id",`${ht.id}`),j.append(this._container)}else ht.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ht.str),yt(this,ht,at)}}_layoutText(_){const at=this._layoutTextParams.properties=this._textDivProperties.get(_);if(this._layoutTextParams.div=_,ft(this._layoutTextParams),at.hasText&&this._container.append(_),at.hasEOL){const ht=document.createElement("br");ht.setAttribute("role","presentation"),this._container.append(ht)}}_render(){const _=new o.PromiseCapability;let at=Object.create(null);if(this._isReadableStream){const ht=()=>{this._reader.read().then(({value:j,done:it})=>{if(it){_.resolve();return}Object.assign(at,j.styles),this._processItems(j.items,at),ht()},_.reject)};this._reader=this._textContentSource.getReader(),ht()}else if(this._textContentSource){const{items:ht,styles:j}=this._textContentSource;this._processItems(ht,j),_.resolve()}else throw new Error('No "textContentSource" parameter specified.');_.promise.then(()=>{at=null,dt(this)},this._capability.reject)}}i.TextLayerRenderTask=lt;function mt(g){!g.textContentSource&&(g.textContent||g.textContentStream)&&((0,c.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),g.textContentSource=g.textContent||g.textContentStream);const{container:_,viewport:at}=g,ht=getComputedStyle(_),j=ht.getPropertyValue("visibility"),it=parseFloat(ht.getPropertyValue("--scale-factor"));j==="visible"&&(!it||Math.abs(it-at.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const $=new lt(g);return $._render(),$}function gt({container:g,viewport:_,textDivs:at,textDivProperties:ht,isOffscreenCanvasSupported:j,mustRotate:it=!0,mustRescale:$=!0}){if(it&&(0,c.setLayerDimensions)(g,{rotation:_.rotation}),$){const rt=st(0,j),At={prevFontSize:null,prevFontFamily:null,div:null,scale:_.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:rt};for(const ot of at)At.properties=ht.get(ot),At.div=ot,ft(At)}}},(e,i,s)=>{var _e,yt,ft,dt,lt,mt,gt,g,_,at,ht,Lo,qs,Do,Io;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var o=s(1),c=s(4),a=s(28),d=s(33),ut=s(6),tt=s(34);const ct=class ct{constructor({uiManager:ot,pageIndex:Et,div:Tt,accessibilityManager:sn,annotationLayer:jt,viewport:Xt,l10n:Nt}){rn(this,ht);rn(this,_e);rn(this,yt,!1);rn(this,ft,null);rn(this,dt,this.pointerup.bind(this));rn(this,lt,this.pointerdown.bind(this));rn(this,mt,new Map);rn(this,gt,!1);rn(this,g,!1);rn(this,_,!1);rn(this,at);const Ot=[a.FreeTextEditor,d.InkEditor,tt.StampEditor];if(!ct._initialized){ct._initialized=!0;for(const St of Ot)St.initialize(Nt)}ot.registerEditorTypes(Ot),on(this,at,ot),this.pageIndex=Et,this.div=Tt,on(this,_e,sn),on(this,ft,jt),this.viewport=Xt,h(this,at).addLayer(this)}get isEmpty(){return h(this,mt).size===0}updateToolbar(ot){h(this,at).updateToolbar(ot)}updateMode(ot=h(this,at).getMode()){Wt(this,ht,Io).call(this),ot===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ot!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ot===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ot===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",ot===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(ot){if(!ot&&h(this,at).getMode()!==o.AnnotationEditorType.INK)return;if(!ot){for(const Tt of h(this,mt).values())if(Tt.isEmpty()){Tt.setInBackground();return}}Wt(this,ht,qs).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(ot){h(this,at).setEditingState(ot)}addCommands(ot){h(this,at).addCommands(ot)}enable(){this.div.style.pointerEvents="auto";const ot=new Set;for(const Tt of h(this,mt).values())Tt.enableEditing(),Tt.annotationElementId&&ot.add(Tt.annotationElementId);if(!h(this,ft))return;const Et=h(this,ft).getEditableAnnotations();for(const Tt of Et){if(Tt.hide(),h(this,at).isDeletedAnnotationElement(Tt.data.id)||ot.has(Tt.data.id))continue;const sn=this.deserialize(Tt);sn&&(this.addOrRebuild(sn),sn.enableEditing())}}disable(){var Et;on(this,_,!0),this.div.style.pointerEvents="none";const ot=new Set;for(const Tt of h(this,mt).values()){if(Tt.disableEditing(),!Tt.annotationElementId||Tt.serialize()!==null){ot.add(Tt.annotationElementId);continue}(Et=this.getEditableAnnotation(Tt.annotationElementId))==null||Et.show(),Tt.remove()}if(h(this,ft)){const Tt=h(this,ft).getEditableAnnotations();for(const sn of Tt){const{id:jt}=sn.data;ot.has(jt)||h(this,at).isDeletedAnnotationElement(jt)||sn.show()}}Wt(this,ht,Io).call(this),this.isEmpty&&(this.div.hidden=!0),on(this,_,!1)}getEditableAnnotation(ot){var Et;return((Et=h(this,ft))==null?void 0:Et.getEditableAnnotation(ot))||null}setActiveEditor(ot){h(this,at).getActive()!==ot&&h(this,at).setActiveEditor(ot)}enableClick(){this.div.addEventListener("pointerdown",h(this,lt)),this.div.addEventListener("pointerup",h(this,dt))}disableClick(){this.div.removeEventListener("pointerdown",h(this,lt)),this.div.removeEventListener("pointerup",h(this,dt))}attach(ot){h(this,mt).set(ot.id,ot);const{annotationElementId:Et}=ot;Et&&h(this,at).isDeletedAnnotationElement(Et)&&h(this,at).removeDeletedAnnotationElement(ot)}detach(ot){var Et;h(this,mt).delete(ot.id),(Et=h(this,_e))==null||Et.removePointerInTextLayer(ot.contentDiv),!h(this,_)&&ot.annotationElementId&&h(this,at).addDeletedAnnotationElement(ot)}remove(ot){this.detach(ot),h(this,at).removeEditor(ot),ot.div.contains(document.activeElement)&&setTimeout(()=>{h(this,at).focusMainContainer()},0),ot.div.remove(),ot.isAttachedToDOM=!1,h(this,g)||this.addInkEditorIfNeeded(!1)}changeParent(ot){var Et;ot.parent!==this&&(ot.annotationElementId&&(h(this,at).addDeletedAnnotationElement(ot.annotationElementId),c.AnnotationEditor.deleteAnnotationElement(ot),ot.annotationElementId=null),this.attach(ot),(Et=ot.parent)==null||Et.detach(ot),ot.setParent(this),ot.div&&ot.isAttachedToDOM&&(ot.div.remove(),this.div.append(ot.div)))}add(ot){if(this.changeParent(ot),h(this,at).addEditor(ot),this.attach(ot),!ot.isAttachedToDOM){const Et=ot.render();this.div.append(Et),ot.isAttachedToDOM=!0}ot.fixAndSetPosition(),ot.onceAdded(),h(this,at).addToAnnotationStorage(ot)}moveEditorInDOM(ot){var Tt;if(!ot.isAttachedToDOM)return;const{activeElement:Et}=document;ot.div.contains(Et)&&(ot._focusEventsAllowed=!1,setTimeout(()=>{ot.div.contains(document.activeElement)?ot._focusEventsAllowed=!0:(ot.div.addEventListener("focusin",()=>{ot._focusEventsAllowed=!0},{once:!0}),Et.focus())},0)),ot._structTreeParentId=(Tt=h(this,_e))==null?void 0:Tt.moveElementInDOM(this.div,ot.div,ot.contentDiv,!0)}addOrRebuild(ot){ot.needsToBeRebuilt()?ot.rebuild():this.add(ot)}addUndoableEditor(ot){const Et=()=>ot._uiManager.rebuild(ot),Tt=()=>{ot.remove()};this.addCommands({cmd:Et,undo:Tt,mustExec:!1})}getNextId(){return h(this,at).getId()}pasteEditor(ot,Et){h(this,at).updateToolbar(ot),h(this,at).updateMode(ot);const{offsetX:Tt,offsetY:sn}=Wt(this,ht,Do).call(this),jt=this.getNextId(),Xt=Wt(this,ht,Lo).call(this,{parent:this,id:jt,x:Tt,y:sn,uiManager:h(this,at),isCentered:!0,...Et});Xt&&this.add(Xt)}deserialize(ot){switch(ot.annotationType??ot.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return a.FreeTextEditor.deserialize(ot,this,h(this,at));case o.AnnotationEditorType.INK:return d.InkEditor.deserialize(ot,this,h(this,at));case o.AnnotationEditorType.STAMP:return tt.StampEditor.deserialize(ot,this,h(this,at))}return null}addNewEditor(){Wt(this,ht,qs).call(this,Wt(this,ht,Do).call(this),!0)}setSelected(ot){h(this,at).setSelected(ot)}toggleSelected(ot){h(this,at).toggleSelected(ot)}isSelected(ot){return h(this,at).isSelected(ot)}unselect(ot){h(this,at).unselect(ot)}pointerup(ot){const{isMac:Et}=o.FeatureTest.platform;if(!(ot.button!==0||ot.ctrlKey&&Et)&&ot.target===this.div&&h(this,gt)){if(on(this,gt,!1),!h(this,yt)){on(this,yt,!0);return}if(h(this,at).getMode()===o.AnnotationEditorType.STAMP){h(this,at).unselectAll();return}Wt(this,ht,qs).call(this,ot,!1)}}pointerdown(ot){if(h(this,gt)){on(this,gt,!1);return}const{isMac:Et}=o.FeatureTest.platform;if(ot.button!==0||ot.ctrlKey&&Et||ot.target!==this.div)return;on(this,gt,!0);const Tt=h(this,at).getActive();on(this,yt,!Tt||Tt.isEmpty())}findNewParent(ot,Et,Tt){const sn=h(this,at).findParent(Et,Tt);return sn===null||sn===this?!1:(sn.changeParent(ot),!0)}destroy(){var ot,Et;((ot=h(this,at).getActive())==null?void 0:ot.parent)===this&&(h(this,at).commitOrRemove(),h(this,at).setActiveEditor(null));for(const Tt of h(this,mt).values())(Et=h(this,_e))==null||Et.removePointerInTextLayer(Tt.contentDiv),Tt.setParent(null),Tt.isAttachedToDOM=!1,Tt.div.remove();this.div=null,h(this,mt).clear(),h(this,at).removeLayer(this)}render({viewport:ot}){this.viewport=ot,(0,ut.setLayerDimensions)(this.div,ot);for(const Et of h(this,at).getEditors(this.pageIndex))this.add(Et);this.updateMode()}update({viewport:ot}){h(this,at).commitOrRemove(),this.viewport=ot,(0,ut.setLayerDimensions)(this.div,{rotation:ot.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ot,pageHeight:Et}=this.viewport.rawDims;return[ot,Et]}};_e=new WeakMap,yt=new WeakMap,ft=new WeakMap,dt=new WeakMap,lt=new WeakMap,mt=new WeakMap,gt=new WeakMap,g=new WeakMap,_=new WeakMap,at=new WeakMap,ht=new WeakSet,Lo=function(ot){switch(h(this,at).getMode()){case o.AnnotationEditorType.FREETEXT:return new a.FreeTextEditor(ot);case o.AnnotationEditorType.INK:return new d.InkEditor(ot);case o.AnnotationEditorType.STAMP:return new tt.StampEditor(ot)}return null},qs=function(ot,Et){const Tt=this.getNextId(),sn=Wt(this,ht,Lo).call(this,{parent:this,id:Tt,x:ot.offsetX,y:ot.offsetY,uiManager:h(this,at),isCentered:Et});return sn&&this.add(sn),sn},Do=function(){const{x:ot,y:Et,width:Tt,height:sn}=this.div.getBoundingClientRect(),jt=Math.max(0,ot),Xt=Math.max(0,Et),Nt=Math.min(window.innerWidth,ot+Tt),Ot=Math.min(window.innerHeight,Et+sn),St=(jt+Nt)/2-ot,Lt=(Xt+Ot)/2-Et,[Vt,wt]=this.viewport.rotation%180===0?[St,Lt]:[Lt,St];return{offsetX:Vt,offsetY:wt}},Io=function(){on(this,g,!0);for(const ot of h(this,mt).values())ot.isEmpty()&&ot.remove();on(this,g,!1)},Lr(ct,"_initialized",!1);let st=ct;i.AnnotationEditorLayer=st},(e,i,s)=>{var tt,st,_e,yt,ft,dt,lt,mt,gt,g,Ul,Hl,Vl,Ms,Oo,Wl,No;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var o=s(1),c=s(5),a=s(4),d=s(29);const ct=class ct extends a.AnnotationEditor{constructor(Et){super({...Et,name:"freeTextEditor"});rn(this,g);rn(this,tt,this.editorDivBlur.bind(this));rn(this,st,this.editorDivFocus.bind(this));rn(this,_e,this.editorDivInput.bind(this));rn(this,yt,this.editorDivKeydown.bind(this));rn(this,ft);rn(this,dt,"");rn(this,lt,`${this.id}-editor`);rn(this,mt);rn(this,gt,null);on(this,ft,Et.color||ct._defaultColor||a.AnnotationEditor._defaultLineColor),on(this,mt,Et.fontSize||ct._defaultFontSize)}static get _keyboardManager(){const Et=ct.prototype,Tt=Xt=>Xt.isEmpty(),sn=c.AnnotationEditorUIManager.TRANSLATE_SMALL,jt=c.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new c.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Et.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Et.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Et._translateEmpty,{args:[-sn,0],checker:Tt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Et._translateEmpty,{args:[-jt,0],checker:Tt}],[["ArrowRight","mac+ArrowRight"],Et._translateEmpty,{args:[sn,0],checker:Tt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Et._translateEmpty,{args:[jt,0],checker:Tt}],[["ArrowUp","mac+ArrowUp"],Et._translateEmpty,{args:[0,-sn],checker:Tt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Et._translateEmpty,{args:[0,-jt],checker:Tt}],[["ArrowDown","mac+ArrowDown"],Et._translateEmpty,{args:[0,sn],checker:Tt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Et._translateEmpty,{args:[0,jt],checker:Tt}]]))}static initialize(Et){a.AnnotationEditor.initialize(Et,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Tt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Tt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Et,Tt){switch(Et){case o.AnnotationEditorParamsType.FREETEXT_SIZE:ct._defaultFontSize=Tt;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:ct._defaultColor=Tt;break}}updateParams(Et,Tt){switch(Et){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Wt(this,g,Ul).call(this,Tt);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Wt(this,g,Hl).call(this,Tt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,ct._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,ct._defaultColor||a.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,h(this,mt)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,h(this,ft)]]}_translateEmpty(Et,Tt){this._uiManager.translateSelectedEditors(Et,Tt,!0)}getInitialTranslation(){const Et=this.parentScale;return[-ct._internalPadding*Et,-(ct._internalPadding+h(this,mt))*Et]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",h(this,yt)),this.editorDiv.addEventListener("focus",h(this,st)),this.editorDiv.addEventListener("blur",h(this,tt)),this.editorDiv.addEventListener("input",h(this,_e)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,lt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",h(this,yt)),this.editorDiv.removeEventListener("focus",h(this,st)),this.editorDiv.removeEventListener("blur",h(this,tt)),this.editorDiv.removeEventListener("input",h(this,_e)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Et){this._focusEventsAllowed&&(super.focusin(Et),Et.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Et;if(this.width){Wt(this,g,No).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Et=this._initialOptions)!=null&&Et.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Et=h(this,dt),Tt=on(this,dt,Wt(this,g,Vl).call(this).trimEnd());if(Et===Tt)return;const sn=jt=>{if(on(this,dt,jt),!jt){this.remove();return}Wt(this,g,Oo).call(this),this._uiManager.rebuild(this),Wt(this,g,Ms).call(this)};this.addCommands({cmd:()=>{sn(Tt)},undo:()=>{sn(Et)},mustExec:!1}),Wt(this,g,Ms).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Et){this.enterInEditMode()}keydown(Et){Et.target===this.div&&Et.key==="Enter"&&(this.enterInEditMode(),Et.preventDefault())}editorDivKeydown(Et){ct._keyboardManager.exec(this,Et)}editorDivFocus(Et){this.isEditing=!0}editorDivBlur(Et){this.isEditing=!1}editorDivInput(Et){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Et,Tt;this.width&&(Et=this.x,Tt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,lt)),this.enableEditing(),a.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(jt=>{var Xt;return(Xt=this.editorDiv)==null?void 0:Xt.setAttribute("aria-label",jt)}),a.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(jt=>{var Xt;return(Xt=this.editorDiv)==null?void 0:Xt.setAttribute("default-content",jt)}),this.editorDiv.contentEditable=!0;const{style:sn}=this.editorDiv;if(sn.fontSize=`calc(${h(this,mt)}px * var(--scale-factor))`,sn.color=h(this,ft),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[jt,Xt]=this.parentDimensions;if(this.annotationElementId){const{position:Nt}=h(this,gt);let[Ot,St]=this.getInitialTranslation();[Ot,St]=this.pageTranslationToScreen(Ot,St);const[Lt,Vt]=this.pageDimensions,[wt,et]=this.pageTranslation;let nt,vt;switch(this.rotation){case 0:nt=Et+(Nt[0]-wt)/Lt,vt=Tt+this.height-(Nt[1]-et)/Vt;break;case 90:nt=Et+(Nt[0]-wt)/Lt,vt=Tt-(Nt[1]-et)/Vt,[Ot,St]=[St,-Ot];break;case 180:nt=Et-this.width+(Nt[0]-wt)/Lt,vt=Tt-(Nt[1]-et)/Vt,[Ot,St]=[-Ot,-St];break;case 270:nt=Et+(Nt[0]-wt-this.height*Vt)/Lt,vt=Tt+(Nt[1]-et-this.width*Lt)/Vt,[Ot,St]=[-St,Ot];break}this.setAt(nt*jt,vt*Xt,Ot,St)}else this.setAt(Et*jt,Tt*Xt,this.width*jt,this.height*Xt);Wt(this,g,Oo).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Et,Tt,sn){let jt=null;if(Et instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Nt,fontColor:Ot},rect:St,rotation:Lt,id:Vt},textContent:wt,textPosition:et,parent:{page:{pageNumber:nt}}}=Et;if(!wt||wt.length===0)return null;jt=Et={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(Ot),fontSize:Nt,value:wt.join(`
`),position:et,pageIndex:nt-1,rect:St,rotation:Lt,id:Vt,deleted:!1}}const Xt=super.deserialize(Et,Tt,sn);return on(Xt,mt,Et.fontSize),on(Xt,ft,o.Util.makeHexColor(...Et.color)),on(Xt,dt,Et.value),Xt.annotationElementId=Et.id||null,on(Xt,gt,jt),Xt}serialize(Et=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Tt=ct._internalPadding*this.parentScale,sn=this.getRect(Tt,Tt),jt=a.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,ft)),Xt={annotationType:o.AnnotationEditorType.FREETEXT,color:jt,fontSize:h(this,mt),value:h(this,dt),pageIndex:this.pageIndex,rect:sn,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Et?Xt:this.annotationElementId&&!Wt(this,g,Wl).call(this,Xt)?null:(Xt.id=this.annotationElementId,Xt)}};tt=new WeakMap,st=new WeakMap,_e=new WeakMap,yt=new WeakMap,ft=new WeakMap,dt=new WeakMap,lt=new WeakMap,mt=new WeakMap,gt=new WeakMap,g=new WeakSet,Ul=function(Et){const Tt=jt=>{this.editorDiv.style.fontSize=`calc(${jt}px * var(--scale-factor))`,this.translate(0,-(jt-h(this,mt))*this.parentScale),on(this,mt,jt),Wt(this,g,Ms).call(this)},sn=h(this,mt);this.addCommands({cmd:()=>{Tt(Et)},undo:()=>{Tt(sn)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Hl=function(Et){const Tt=h(this,ft);this.addCommands({cmd:()=>{on(this,ft,this.editorDiv.style.color=Et)},undo:()=>{on(this,ft,this.editorDiv.style.color=Tt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Vl=function(){const Et=this.editorDiv.getElementsByTagName("div");if(Et.length===0)return this.editorDiv.innerText;const Tt=[];for(const sn of Et)Tt.push(sn.innerText.replace(/\r\n?|\n/,""));return Tt.join(`
`)},Ms=function(){const[Et,Tt]=this.parentDimensions;let sn;if(this.isAttachedToDOM)sn=this.div.getBoundingClientRect();else{const{currentLayer:jt,div:Xt}=this,Nt=Xt.style.display;Xt.style.display="hidden",jt.div.append(this.div),sn=Xt.getBoundingClientRect(),Xt.remove(),Xt.style.display=Nt}this.rotation%180===this.parentRotation%180?(this.width=sn.width/Et,this.height=sn.height/Tt):(this.width=sn.height/Et,this.height=sn.width/Tt),this.fixAndSetPosition()},Oo=function(){if(this.editorDiv.replaceChildren(),!!h(this,dt))for(const Et of h(this,dt).split(`
`)){const Tt=document.createElement("div");Tt.append(Et?document.createTextNode(Et):document.createElement("br")),this.editorDiv.append(Tt)}},Wl=function(Et){const{value:Tt,fontSize:sn,color:jt,rect:Xt,pageIndex:Nt}=h(this,gt);return Et.value!==Tt||Et.fontSize!==sn||Et.rect.some((Ot,St)=>Math.abs(Ot-Xt[St])>=1)||Et.color.some((Ot,St)=>Ot!==jt[St])||Et.pageIndex!==Nt},No=function(Et=!1){if(!this.annotationElementId)return;if(Wt(this,g,Ms).call(this),!Et&&(this.width===0||this.height===0)){setTimeout(()=>Wt(this,g,No).call(this,!0),0);return}const Tt=ct._internalPadding*this.parentScale;h(this,gt).rect=this.getRect(Tt,Tt)},Lr(ct,"_freeTextDefaultContent",""),Lr(ct,"_internalPadding",0),Lr(ct,"_defaultColor",null),Lr(ct,"_defaultFontSize",10),Lr(ct,"_type","freetext");let ut=ct;i.FreeTextEditor=ut},(e,i,s)=>{var vt,Pt,gs,$l,an,un,dn,pn,yn,_n,Zt,en,_t,Rt,Gt,tn,hn,Sn,mn,$t,Tn,xn,Gl,Ys,jo,zo,Wn,ar,wr,gn,qt,Kt,Dn,Bo,qn,Mt,fn,Pn,Xl,Uo;Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var o=s(1),c=s(6),a=s(3),d=s(30),ut=s(31),tt=s(32);const st=1e3,_e=9,yt=new WeakSet;function ft(Ln){return{width:Ln[2]-Ln[0],height:Ln[3]-Ln[1]}}class dt{static create(kt){switch(kt.data.annotationType){case o.AnnotationType.LINK:return new mt(kt);case o.AnnotationType.TEXT:return new gt(kt);case o.AnnotationType.WIDGET:switch(kt.data.fieldType){case"Tx":return new _(kt);case"Btn":return kt.data.radioButton?new j(kt):kt.data.checkBox?new ht(kt):new it(kt);case"Ch":return new $(kt);case"Sig":return new at(kt)}return new g(kt);case o.AnnotationType.POPUP:return new rt(kt);case o.AnnotationType.FREETEXT:return new At(kt);case o.AnnotationType.LINE:return new ot(kt);case o.AnnotationType.SQUARE:return new Et(kt);case o.AnnotationType.CIRCLE:return new Tt(kt);case o.AnnotationType.POLYLINE:return new sn(kt);case o.AnnotationType.CARET:return new Xt(kt);case o.AnnotationType.INK:return new Nt(kt);case o.AnnotationType.POLYGON:return new jt(kt);case o.AnnotationType.HIGHLIGHT:return new Ot(kt);case o.AnnotationType.UNDERLINE:return new St(kt);case o.AnnotationType.SQUIGGLY:return new Lt(kt);case o.AnnotationType.STRIKEOUT:return new Vt(kt);case o.AnnotationType.STAMP:return new wt(kt);case o.AnnotationType.FILEATTACHMENT:return new et(kt);default:return new lt(kt)}}}const xt=class xt{constructor(kt,{isRenderable:bt=!1,ignoreBorder:Bt=!1,createQuadrilaterals:ln=!1}={}){rn(this,vt,!1);this.isRenderable=bt,this.data=kt.data,this.layer=kt.layer,this.linkService=kt.linkService,this.downloadManager=kt.downloadManager,this.imageResourcesPath=kt.imageResourcesPath,this.renderForms=kt.renderForms,this.svgFactory=kt.svgFactory,this.annotationStorage=kt.annotationStorage,this.enableScripting=kt.enableScripting,this.hasJSActions=kt.hasJSActions,this._fieldObjects=kt.fieldObjects,this.parent=kt.parent,bt&&(this.container=this._createContainer(Bt)),ln&&this._createQuadrilaterals()}static _hasPopupData({titleObj:kt,contentsObj:bt,richText:Bt}){return!!(kt!=null&&kt.str||bt!=null&&bt.str||Bt!=null&&Bt.str)}get hasPopupData(){return xt._hasPopupData(this.data)}_createContainer(kt){const{data:bt,parent:{page:Bt,viewport:ln}}=this,cn=document.createElement("section");cn.setAttribute("data-annotation-id",bt.id),this instanceof g||(cn.tabIndex=st),cn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&cn.setAttribute("aria-haspopup","dialog"),bt.noRotate&&cn.classList.add("norotate");const{pageWidth:vn,pageHeight:An,pageX:Bn,pageY:On}=ln.rawDims;if(!bt.rect||this instanceof rt){const{rotation:Jn}=bt;return!bt.hasOwnCanvas&&Jn!==0&&this.setRotation(Jn,cn),cn}const{width:Mn,height:sr}=ft(bt.rect),Nn=o.Util.normalizeRect([bt.rect[0],Bt.view[3]-bt.rect[1]+Bt.view[1],bt.rect[2],Bt.view[3]-bt.rect[3]+Bt.view[1]]);if(!kt&&bt.borderStyle.width>0){cn.style.borderWidth=`${bt.borderStyle.width}px`;const Jn=bt.borderStyle.horizontalCornerRadius,ur=bt.borderStyle.verticalCornerRadius;if(Jn>0||ur>0){const Cr=`calc(${Jn}px * var(--scale-factor)) / calc(${ur}px * var(--scale-factor))`;cn.style.borderRadius=Cr}else if(this instanceof j){const Cr=`calc(${Mn}px * var(--scale-factor)) / calc(${sr}px * var(--scale-factor))`;cn.style.borderRadius=Cr}switch(bt.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:cn.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:cn.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:cn.style.borderBottomStyle="solid";break}const yr=bt.borderColor||null;yr?(on(this,vt,!0),cn.style.borderColor=o.Util.makeHexColor(yr[0]|0,yr[1]|0,yr[2]|0)):cn.style.borderWidth=0}cn.style.left=`${100*(Nn[0]-Bn)/vn}%`,cn.style.top=`${100*(Nn[1]-On)/An}%`;const{rotation:Vn}=bt;return bt.hasOwnCanvas||Vn===0?(cn.style.width=`${100*Mn/vn}%`,cn.style.height=`${100*sr/An}%`):this.setRotation(Vn,cn),cn}setRotation(kt,bt=this.container){if(!this.data.rect)return;const{pageWidth:Bt,pageHeight:ln}=this.parent.viewport.rawDims,{width:cn,height:vn}=ft(this.data.rect);let An,Bn;kt%180===0?(An=100*cn/Bt,Bn=100*vn/ln):(An=100*vn/Bt,Bn=100*cn/ln),bt.style.width=`${An}%`,bt.style.height=`${Bn}%`,bt.setAttribute("data-main-rotation",(360-kt)%360)}get _commonActions(){const kt=(bt,Bt,ln)=>{const cn=ln.detail[bt],vn=cn[0],An=cn.slice(1);ln.target.style[Bt]=d.ColorConverters[`${vn}_HTML`](An),this.annotationStorage.setValue(this.data.id,{[Bt]:d.ColorConverters[`${vn}_rgb`](An)})};return(0,o.shadow)(this,"_commonActions",{display:bt=>{const{display:Bt}=bt.detail,ln=Bt%2===1;this.container.style.visibility=ln?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:ln,noPrint:Bt===1||Bt===2})},print:bt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!bt.detail.print})},hidden:bt=>{const{hidden:Bt}=bt.detail;this.container.style.visibility=Bt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Bt,noView:Bt})},focus:bt=>{setTimeout(()=>bt.target.focus({preventScroll:!1}),0)},userName:bt=>{bt.target.title=bt.detail.userName},readonly:bt=>{bt.target.disabled=bt.detail.readonly},required:bt=>{this._setRequired(bt.target,bt.detail.required)},bgColor:bt=>{kt("bgColor","backgroundColor",bt)},fillColor:bt=>{kt("fillColor","backgroundColor",bt)},fgColor:bt=>{kt("fgColor","color",bt)},textColor:bt=>{kt("textColor","color",bt)},borderColor:bt=>{kt("borderColor","borderColor",bt)},strokeColor:bt=>{kt("strokeColor","borderColor",bt)},rotation:bt=>{const Bt=bt.detail.rotation;this.setRotation(Bt),this.annotationStorage.setValue(this.data.id,{rotation:Bt})}})}_dispatchEventFromSandbox(kt,bt){const Bt=this._commonActions;for(const ln of Object.keys(bt.detail)){const cn=kt[ln]||Bt[ln];cn==null||cn(bt)}}_setDefaultPropertiesFromJS(kt){if(!this.enableScripting)return;const bt=this.annotationStorage.getRawValue(this.data.id);if(!bt)return;const Bt=this._commonActions;for(const[ln,cn]of Object.entries(bt)){const vn=Bt[ln];if(vn){const An={detail:{[ln]:cn},target:kt};vn(An),delete bt[ln]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:kt}=this.data;if(!kt)return;const[bt,Bt,ln,cn]=this.data.rect;if(kt.length===1){const[,{x:ur,y:yr},{x:Cr,y:$r}]=kt[0];if(ln===ur&&cn===yr&&bt===Cr&&Bt===$r)return}const{style:vn}=this.container;let An;if(h(this,vt)){const{borderColor:ur,borderWidth:yr}=vn;vn.borderWidth=0,An=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${ur}" stroke-width="${yr}">`],this.container.classList.add("hasBorder")}const Bn=ln-bt,On=cn-Bt,{svgFactory:Mn}=this,sr=Mn.createElement("svg");sr.classList.add("quadrilateralsContainer"),sr.setAttribute("width",0),sr.setAttribute("height",0);const Nn=Mn.createElement("defs");sr.append(Nn);const Vn=Mn.createElement("clipPath"),Jn=`clippath_${this.data.id}`;Vn.setAttribute("id",Jn),Vn.setAttribute("clipPathUnits","objectBoundingBox"),Nn.append(Vn);for(const[,{x:ur,y:yr},{x:Cr,y:$r}]of kt){const jr=Mn.createElement("rect"),ts=(Cr-bt)/Bn,rs=(cn-yr)/On,is=(ur-Cr)/Bn,Ds=(yr-$r)/On;jr.setAttribute("x",ts),jr.setAttribute("y",rs),jr.setAttribute("width",is),jr.setAttribute("height",Ds),Vn.append(jr),An==null||An.push(`<rect vector-effect="non-scaling-stroke" x="${ts}" y="${rs}" width="${is}" height="${Ds}"/>`)}h(this,vt)&&(An.push("</g></svg>')"),vn.backgroundImage=An.join("")),this.container.append(sr),this.container.style.clipPath=`url(#${Jn})`}_createPopup(){const{container:kt,data:bt}=this;kt.setAttribute("aria-haspopup","dialog");const Bt=new rt({data:{color:bt.color,titleObj:bt.titleObj,modificationDate:bt.modificationDate,contentsObj:bt.contentsObj,richText:bt.richText,parentRect:bt.rect,borderStyle:0,id:`popup_${bt.id}`,rotation:bt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Bt.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(kt,bt=null){const Bt=[];if(this._fieldObjects){const ln=this._fieldObjects[kt];if(ln)for(const{page:cn,id:vn,exportValues:An}of ln){if(cn===-1||vn===bt)continue;const Bn=typeof An=="string"?An:null,On=document.querySelector(`[data-element-id="${vn}"]`);if(On&&!yt.has(On)){(0,o.warn)(`_getElementsByName - element not allowed: ${vn}`);continue}Bt.push({id:vn,exportValue:Bn,domElement:On})}return Bt}for(const ln of document.getElementsByName(kt)){const{exportValue:cn}=ln,vn=ln.getAttribute("data-element-id");vn!==bt&&yt.has(ln)&&Bt.push({id:vn,exportValue:cn,domElement:ln})}return Bt}show(){var kt;this.container&&(this.container.hidden=!1),(kt=this.popup)==null||kt.maybeShow()}hide(){var kt;this.container&&(this.container.hidden=!0),(kt=this.popup)==null||kt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const kt=this.getElementsToTriggerPopup();if(Array.isArray(kt))for(const bt of kt)bt.classList.add("highlightArea");else kt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:kt,data:{id:bt}}=this;this.container.addEventListener("dblclick",()=>{var Bt;(Bt=this.linkService.eventBus)==null||Bt.dispatch("switchannotationeditormode",{source:this,mode:kt,editId:bt})})}};vt=new WeakMap;let lt=xt;class mt extends lt{constructor(bt,Bt=null){super(bt,{isRenderable:!0,ignoreBorder:!!(Bt!=null&&Bt.ignoreBorder),createQuadrilaterals:!0});rn(this,Pt);this.isTooltipOnly=bt.data.isTooltipOnly}render(){const{data:bt,linkService:Bt}=this,ln=document.createElement("a");ln.setAttribute("data-element-id",bt.id);let cn=!1;return bt.url?(Bt.addLinkAttributes(ln,bt.url,bt.newWindow),cn=!0):bt.action?(this._bindNamedAction(ln,bt.action),cn=!0):bt.attachment?(this._bindAttachment(ln,bt.attachment),cn=!0):bt.setOCGState?(Wt(this,Pt,$l).call(this,ln,bt.setOCGState),cn=!0):bt.dest?(this._bindLink(ln,bt.dest),cn=!0):(bt.actions&&(bt.actions.Action||bt.actions["Mouse Up"]||bt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ln,bt),cn=!0),bt.resetForm?(this._bindResetFormAction(ln,bt.resetForm),cn=!0):this.isTooltipOnly&&!cn&&(this._bindLink(ln,""),cn=!0)),this.container.classList.add("linkAnnotation"),cn&&this.container.append(ln),this.container}_bindLink(bt,Bt){bt.href=this.linkService.getDestinationHash(Bt),bt.onclick=()=>(Bt&&this.linkService.goToDestination(Bt),!1),(Bt||Bt==="")&&Wt(this,Pt,gs).call(this)}_bindNamedAction(bt,Bt){bt.href=this.linkService.getAnchorUrl(""),bt.onclick=()=>(this.linkService.executeNamedAction(Bt),!1),Wt(this,Pt,gs).call(this)}_bindAttachment(bt,Bt){bt.href=this.linkService.getAnchorUrl(""),bt.onclick=()=>{var ln;return(ln=this.downloadManager)==null||ln.openOrDownloadData(this.container,Bt.content,Bt.filename),!1},Wt(this,Pt,gs).call(this)}_bindJSAction(bt,Bt){bt.href=this.linkService.getAnchorUrl("");const ln=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const cn of Object.keys(Bt.actions)){const vn=ln.get(cn);vn&&(bt[vn]=()=>{var An;return(An=this.linkService.eventBus)==null||An.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Bt.id,name:cn}}),!1})}bt.onclick||(bt.onclick=()=>!1),Wt(this,Pt,gs).call(this)}_bindResetFormAction(bt,Bt){const ln=bt.onclick;if(ln||(bt.href=this.linkService.getAnchorUrl("")),Wt(this,Pt,gs).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ln||(bt.onclick=()=>!1);return}bt.onclick=()=>{var sr;ln==null||ln();const{fields:cn,refs:vn,include:An}=Bt,Bn=[];if(cn.length!==0||vn.length!==0){const Nn=new Set(vn);for(const Vn of cn){const Jn=this._fieldObjects[Vn]||[];for(const{id:ur}of Jn)Nn.add(ur)}for(const Vn of Object.values(this._fieldObjects))for(const Jn of Vn)Nn.has(Jn.id)===An&&Bn.push(Jn)}else for(const Nn of Object.values(this._fieldObjects))Bn.push(...Nn);const On=this.annotationStorage,Mn=[];for(const Nn of Bn){const{id:Vn}=Nn;switch(Mn.push(Vn),Nn.type){case"text":{const ur=Nn.defaultValue||"";On.setValue(Vn,{value:ur});break}case"checkbox":case"radiobutton":{const ur=Nn.defaultValue===Nn.exportValues;On.setValue(Vn,{value:ur});break}case"combobox":case"listbox":{const ur=Nn.defaultValue||"";On.setValue(Vn,{value:ur});break}default:continue}const Jn=document.querySelector(`[data-element-id="${Vn}"]`);if(Jn){if(!yt.has(Jn)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${Vn}`);continue}}else continue;Jn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((sr=this.linkService.eventBus)==null||sr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Mn,name:"ResetForm"}})),!1}}}Pt=new WeakSet,gs=function(){this.container.setAttribute("data-internal-link","")},$l=function(bt,Bt){bt.href=this.linkService.getAnchorUrl(""),bt.onclick=()=>(this.linkService.executeSetOCGState(Bt),!1),Wt(this,Pt,gs).call(this)};class gt extends lt{constructor(kt){super(kt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const kt=document.createElement("img");return kt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",kt.alt="[{{type}} Annotation]",kt.dataset.l10nId="text_annotation_type",kt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(kt),this.container}}class g extends lt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(kt){var bt;this.data.hasOwnCanvas&&(((bt=kt.previousSibling)==null?void 0:bt.nodeName)==="CANVAS"&&(kt.previousSibling.hidden=!0),kt.hidden=!1)}_getKeyModifier(kt){const{isWin:bt,isMac:Bt}=o.FeatureTest.platform;return bt&&kt.ctrlKey||Bt&&kt.metaKey}_setEventListener(kt,bt,Bt,ln,cn){Bt.includes("mouse")?kt.addEventListener(Bt,vn=>{var An;(An=this.linkService.eventBus)==null||An.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ln,value:cn(vn),shift:vn.shiftKey,modifier:this._getKeyModifier(vn)}})}):kt.addEventListener(Bt,vn=>{var An;if(Bt==="blur"){if(!bt.focused||!vn.relatedTarget)return;bt.focused=!1}else if(Bt==="focus"){if(bt.focused)return;bt.focused=!0}cn&&((An=this.linkService.eventBus)==null||An.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ln,value:cn(vn)}}))})}_setEventListeners(kt,bt,Bt,ln){var cn,vn,An;for(const[Bn,On]of Bt)(On==="Action"||(cn=this.data.actions)!=null&&cn[On])&&((On==="Focus"||On==="Blur")&&(bt||(bt={focused:!1})),this._setEventListener(kt,bt,Bn,On,ln),On==="Focus"&&!((vn=this.data.actions)!=null&&vn.Blur)?this._setEventListener(kt,bt,"blur","Blur",null):On==="Blur"&&!((An=this.data.actions)!=null&&An.Focus)&&this._setEventListener(kt,bt,"focus","Focus",null))}_setBackgroundColor(kt){const bt=this.data.backgroundColor||null;kt.style.backgroundColor=bt===null?"transparent":o.Util.makeHexColor(bt[0],bt[1],bt[2])}_setTextStyle(kt){const bt=["left","center","right"],{fontColor:Bt}=this.data.defaultAppearanceData,ln=this.data.defaultAppearanceData.fontSize||_e,cn=kt.style;let vn;const An=2,Bn=On=>Math.round(10*On)/10;if(this.data.multiLine){const On=Math.abs(this.data.rect[3]-this.data.rect[1]-An),Mn=Math.round(On/(o.LINE_FACTOR*ln))||1,sr=On/Mn;vn=Math.min(ln,Bn(sr/o.LINE_FACTOR))}else{const On=Math.abs(this.data.rect[3]-this.data.rect[1]-An);vn=Math.min(ln,Bn(On/o.LINE_FACTOR))}cn.fontSize=`calc(${vn}px * var(--scale-factor))`,cn.color=o.Util.makeHexColor(Bt[0],Bt[1],Bt[2]),this.data.textAlignment!==null&&(cn.textAlign=bt[this.data.textAlignment])}_setRequired(kt,bt){bt?kt.setAttribute("required",!0):kt.removeAttribute("required"),kt.setAttribute("aria-required",bt)}}class _ extends g{constructor(kt){const bt=kt.renderForms||!kt.data.hasAppearance&&!!kt.data.fieldValue;super(kt,{isRenderable:bt})}setPropertyOnSiblings(kt,bt,Bt,ln){const cn=this.annotationStorage;for(const vn of this._getElementsByName(kt.name,kt.id))vn.domElement&&(vn.domElement[bt]=Bt),cn.setValue(vn.id,{[ln]:Bt})}render(){var ln,cn;const kt=this.annotationStorage,bt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Bt=null;if(this.renderForms){const vn=kt.getValue(bt,{value:this.data.fieldValue});let An=vn.value||"";const Bn=kt.getValue(bt,{charLimit:this.data.maxLen}).charLimit;Bn&&An.length>Bn&&(An=An.slice(0,Bn));let On=vn.formattedValue||((ln=this.data.textContent)==null?void 0:ln.join(`
`))||null;On&&this.data.comb&&(On=On.replaceAll(/\s+/g,""));const Mn={userValue:An,formattedValue:On,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Bt=document.createElement("textarea"),Bt.textContent=On??An,this.data.doNotScroll&&(Bt.style.overflowY="hidden")):(Bt=document.createElement("input"),Bt.type="text",Bt.setAttribute("value",On??An),this.data.doNotScroll&&(Bt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Bt.hidden=!0),yt.add(Bt),Bt.setAttribute("data-element-id",bt),Bt.disabled=this.data.readOnly,Bt.name=this.data.fieldName,Bt.tabIndex=st,this._setRequired(Bt,this.data.required),Bn&&(Bt.maxLength=Bn),Bt.addEventListener("input",Nn=>{kt.setValue(bt,{value:Nn.target.value}),this.setPropertyOnSiblings(Bt,"value",Nn.target.value,"value"),Mn.formattedValue=null}),Bt.addEventListener("resetform",Nn=>{const Vn=this.data.defaultFieldValue??"";Bt.value=Mn.userValue=Vn,Mn.formattedValue=null});let sr=Nn=>{const{formattedValue:Vn}=Mn;Vn!=null&&(Nn.target.value=Vn),Nn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Bt.addEventListener("focus",Vn=>{if(Mn.focused)return;const{target:Jn}=Vn;Mn.userValue&&(Jn.value=Mn.userValue),Mn.lastCommittedValue=Jn.value,Mn.commitKey=1,Mn.focused=!0}),Bt.addEventListener("updatefromsandbox",Vn=>{this.showElementAndHideCanvas(Vn.target);const Jn={value(ur){Mn.userValue=ur.detail.value??"",kt.setValue(bt,{value:Mn.userValue.toString()}),ur.target.value=Mn.userValue},formattedValue(ur){const{formattedValue:yr}=ur.detail;Mn.formattedValue=yr,yr!=null&&ur.target!==document.activeElement&&(ur.target.value=yr),kt.setValue(bt,{formattedValue:yr})},selRange(ur){ur.target.setSelectionRange(...ur.detail.selRange)},charLimit:ur=>{var jr;const{charLimit:yr}=ur.detail,{target:Cr}=ur;if(yr===0){Cr.removeAttribute("maxLength");return}Cr.setAttribute("maxLength",yr);let $r=Mn.userValue;!$r||$r.length<=yr||($r=$r.slice(0,yr),Cr.value=Mn.userValue=$r,kt.setValue(bt,{value:$r}),(jr=this.linkService.eventBus)==null||jr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:$r,willCommit:!0,commitKey:1,selStart:Cr.selectionStart,selEnd:Cr.selectionEnd}}))}};this._dispatchEventFromSandbox(Jn,Vn)}),Bt.addEventListener("keydown",Vn=>{var yr;Mn.commitKey=1;let Jn=-1;if(Vn.key==="Escape"?Jn=0:Vn.key==="Enter"&&!this.data.multiLine?Jn=2:Vn.key==="Tab"&&(Mn.commitKey=3),Jn===-1)return;const{value:ur}=Vn.target;Mn.lastCommittedValue!==ur&&(Mn.lastCommittedValue=ur,Mn.userValue=ur,(yr=this.linkService.eventBus)==null||yr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:ur,willCommit:!0,commitKey:Jn,selStart:Vn.target.selectionStart,selEnd:Vn.target.selectionEnd}}))});const Nn=sr;sr=null,Bt.addEventListener("blur",Vn=>{var ur;if(!Mn.focused||!Vn.relatedTarget)return;Mn.focused=!1;const{value:Jn}=Vn.target;Mn.userValue=Jn,Mn.lastCommittedValue!==Jn&&((ur=this.linkService.eventBus)==null||ur.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:Jn,willCommit:!0,commitKey:Mn.commitKey,selStart:Vn.target.selectionStart,selEnd:Vn.target.selectionEnd}})),Nn(Vn)}),(cn=this.data.actions)!=null&&cn.Keystroke&&Bt.addEventListener("beforeinput",Vn=>{var rs;Mn.lastCommittedValue=null;const{data:Jn,target:ur}=Vn,{value:yr,selectionStart:Cr,selectionEnd:$r}=ur;let jr=Cr,ts=$r;switch(Vn.inputType){case"deleteWordBackward":{const is=yr.substring(0,Cr).match(/\w*[^\w]*$/);is&&(jr-=is[0].length);break}case"deleteWordForward":{const is=yr.substring(Cr).match(/^[^\w]*\w*/);is&&(ts+=is[0].length);break}case"deleteContentBackward":Cr===$r&&(jr-=1);break;case"deleteContentForward":Cr===$r&&(ts+=1);break}Vn.preventDefault(),(rs=this.linkService.eventBus)==null||rs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:yr,change:Jn||"",willCommit:!1,selStart:jr,selEnd:ts}})}),this._setEventListeners(Bt,Mn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Vn=>Vn.target.value)}if(sr&&Bt.addEventListener("blur",sr),this.data.comb){const Vn=(this.data.rect[2]-this.data.rect[0])/Bn;Bt.classList.add("comb"),Bt.style.letterSpacing=`calc(${Vn}px * var(--scale-factor) - 1ch)`}}else Bt=document.createElement("div"),Bt.textContent=this.data.fieldValue,Bt.style.verticalAlign="middle",Bt.style.display="table-cell";return this._setTextStyle(Bt),this._setBackgroundColor(Bt),this._setDefaultPropertiesFromJS(Bt),this.container.append(Bt),this.container}}class at extends g{constructor(kt){super(kt,{isRenderable:!!kt.data.hasOwnCanvas})}}class ht extends g{constructor(kt){super(kt,{isRenderable:kt.renderForms})}render(){const kt=this.annotationStorage,bt=this.data,Bt=bt.id;let ln=kt.getValue(Bt,{value:bt.exportValue===bt.fieldValue}).value;typeof ln=="string"&&(ln=ln!=="Off",kt.setValue(Bt,{value:ln})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const cn=document.createElement("input");return yt.add(cn),cn.setAttribute("data-element-id",Bt),cn.disabled=bt.readOnly,this._setRequired(cn,this.data.required),cn.type="checkbox",cn.name=bt.fieldName,ln&&cn.setAttribute("checked",!0),cn.setAttribute("exportValue",bt.exportValue),cn.tabIndex=st,cn.addEventListener("change",vn=>{const{name:An,checked:Bn}=vn.target;for(const On of this._getElementsByName(An,Bt)){const Mn=Bn&&On.exportValue===bt.exportValue;On.domElement&&(On.domElement.checked=Mn),kt.setValue(On.id,{value:Mn})}kt.setValue(Bt,{value:Bn})}),cn.addEventListener("resetform",vn=>{const An=bt.defaultFieldValue||"Off";vn.target.checked=An===bt.exportValue}),this.enableScripting&&this.hasJSActions&&(cn.addEventListener("updatefromsandbox",vn=>{const An={value(Bn){Bn.target.checked=Bn.detail.value!=="Off",kt.setValue(Bt,{value:Bn.target.checked})}};this._dispatchEventFromSandbox(An,vn)}),this._setEventListeners(cn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],vn=>vn.target.checked)),this._setBackgroundColor(cn),this._setDefaultPropertiesFromJS(cn),this.container.append(cn),this.container}}class j extends g{constructor(kt){super(kt,{isRenderable:kt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const kt=this.annotationStorage,bt=this.data,Bt=bt.id;let ln=kt.getValue(Bt,{value:bt.fieldValue===bt.buttonValue}).value;typeof ln=="string"&&(ln=ln!==bt.buttonValue,kt.setValue(Bt,{value:ln}));const cn=document.createElement("input");if(yt.add(cn),cn.setAttribute("data-element-id",Bt),cn.disabled=bt.readOnly,this._setRequired(cn,this.data.required),cn.type="radio",cn.name=bt.fieldName,ln&&cn.setAttribute("checked",!0),cn.tabIndex=st,cn.addEventListener("change",vn=>{const{name:An,checked:Bn}=vn.target;for(const On of this._getElementsByName(An,Bt))kt.setValue(On.id,{value:!1});kt.setValue(Bt,{value:Bn})}),cn.addEventListener("resetform",vn=>{const An=bt.defaultFieldValue;vn.target.checked=An!=null&&An===bt.buttonValue}),this.enableScripting&&this.hasJSActions){const vn=bt.buttonValue;cn.addEventListener("updatefromsandbox",An=>{const Bn={value:On=>{const Mn=vn===On.detail.value;for(const sr of this._getElementsByName(On.target.name)){const Nn=Mn&&sr.id===Bt;sr.domElement&&(sr.domElement.checked=Nn),kt.setValue(sr.id,{value:Nn})}}};this._dispatchEventFromSandbox(Bn,An)}),this._setEventListeners(cn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],An=>An.target.checked)}return this._setBackgroundColor(cn),this._setDefaultPropertiesFromJS(cn),this.container.append(cn),this.container}}class it extends mt{constructor(kt){super(kt,{ignoreBorder:kt.data.hasAppearance})}render(){const kt=super.render();kt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(kt.title=this.data.alternativeText);const bt=kt.lastChild;return this.enableScripting&&this.hasJSActions&&bt&&(this._setDefaultPropertiesFromJS(bt),bt.addEventListener("updatefromsandbox",Bt=>{this._dispatchEventFromSandbox({},Bt)})),kt}}class $ extends g{constructor(kt){super(kt,{isRenderable:kt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const kt=this.annotationStorage,bt=this.data.id,Bt=kt.getValue(bt,{value:this.data.fieldValue}),ln=document.createElement("select");yt.add(ln),ln.setAttribute("data-element-id",bt),ln.disabled=this.data.readOnly,this._setRequired(ln,this.data.required),ln.name=this.data.fieldName,ln.tabIndex=st;let cn=this.data.combo&&this.data.options.length>0;this.data.combo||(ln.size=this.data.options.length,this.data.multiSelect&&(ln.multiple=!0)),ln.addEventListener("resetform",Mn=>{const sr=this.data.defaultFieldValue;for(const Nn of ln.options)Nn.selected=Nn.value===sr});for(const Mn of this.data.options){const sr=document.createElement("option");sr.textContent=Mn.displayValue,sr.value=Mn.exportValue,Bt.value.includes(Mn.exportValue)&&(sr.setAttribute("selected",!0),cn=!1),ln.append(sr)}let vn=null;if(cn){const Mn=document.createElement("option");Mn.value=" ",Mn.setAttribute("hidden",!0),Mn.setAttribute("selected",!0),ln.prepend(Mn),vn=()=>{Mn.remove(),ln.removeEventListener("input",vn),vn=null},ln.addEventListener("input",vn)}const An=Mn=>{const sr=Mn?"value":"textContent",{options:Nn,multiple:Vn}=ln;return Vn?Array.prototype.filter.call(Nn,Jn=>Jn.selected).map(Jn=>Jn[sr]):Nn.selectedIndex===-1?null:Nn[Nn.selectedIndex][sr]};let Bn=An(!1);const On=Mn=>{const sr=Mn.target.options;return Array.prototype.map.call(sr,Nn=>({displayValue:Nn.textContent,exportValue:Nn.value}))};return this.enableScripting&&this.hasJSActions?(ln.addEventListener("updatefromsandbox",Mn=>{const sr={value(Nn){vn==null||vn();const Vn=Nn.detail.value,Jn=new Set(Array.isArray(Vn)?Vn:[Vn]);for(const ur of ln.options)ur.selected=Jn.has(ur.value);kt.setValue(bt,{value:An(!0)}),Bn=An(!1)},multipleSelection(Nn){ln.multiple=!0},remove(Nn){const Vn=ln.options,Jn=Nn.detail.remove;Vn[Jn].selected=!1,ln.remove(Jn),Vn.length>0&&Array.prototype.findIndex.call(Vn,yr=>yr.selected)===-1&&(Vn[0].selected=!0),kt.setValue(bt,{value:An(!0),items:On(Nn)}),Bn=An(!1)},clear(Nn){for(;ln.length!==0;)ln.remove(0);kt.setValue(bt,{value:null,items:[]}),Bn=An(!1)},insert(Nn){const{index:Vn,displayValue:Jn,exportValue:ur}=Nn.detail.insert,yr=ln.children[Vn],Cr=document.createElement("option");Cr.textContent=Jn,Cr.value=ur,yr?yr.before(Cr):ln.append(Cr),kt.setValue(bt,{value:An(!0),items:On(Nn)}),Bn=An(!1)},items(Nn){const{items:Vn}=Nn.detail;for(;ln.length!==0;)ln.remove(0);for(const Jn of Vn){const{displayValue:ur,exportValue:yr}=Jn,Cr=document.createElement("option");Cr.textContent=ur,Cr.value=yr,ln.append(Cr)}ln.options.length>0&&(ln.options[0].selected=!0),kt.setValue(bt,{value:An(!0),items:On(Nn)}),Bn=An(!1)},indices(Nn){const Vn=new Set(Nn.detail.indices);for(const Jn of Nn.target.options)Jn.selected=Vn.has(Jn.index);kt.setValue(bt,{value:An(!0)}),Bn=An(!1)},editable(Nn){Nn.target.disabled=!Nn.detail.editable}};this._dispatchEventFromSandbox(sr,Mn)}),ln.addEventListener("input",Mn=>{var Nn;const sr=An(!0);kt.setValue(bt,{value:sr}),Mn.preventDefault(),(Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:Bn,changeEx:sr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ln,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Mn=>Mn.target.value)):ln.addEventListener("input",function(Mn){kt.setValue(bt,{value:An(!0)})}),this.data.combo&&this._setTextStyle(ln),this._setBackgroundColor(ln),this._setDefaultPropertiesFromJS(ln),this.container.append(ln),this.container}}class rt extends lt{constructor(kt){const{data:bt,elements:Bt}=kt;super(kt,{isRenderable:lt._hasPopupData(bt)}),this.elements=Bt}render(){this.container.classList.add("popupAnnotation");const kt=new ct({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),bt=[];for(const Bt of this.elements)Bt.popup=kt,bt.push(Bt.data.id),Bt.addHighlightArea();return this.container.setAttribute("aria-controls",bt.map(Bt=>`${o.AnnotationPrefix}${Bt}`).join(",")),this.container}}class ct{constructor({container:kt,color:bt,elements:Bt,titleObj:ln,modificationDate:cn,contentsObj:vn,richText:An,parent:Bn,rect:On,parentRect:Mn,open:sr}){rn(this,xn);rn(this,an,null);rn(this,un,Wt(this,xn,Gl).bind(this));rn(this,dn,Wt(this,xn,zo).bind(this));rn(this,pn,Wt(this,xn,jo).bind(this));rn(this,yn,Wt(this,xn,Ys).bind(this));rn(this,_n,null);rn(this,Zt,null);rn(this,en,null);rn(this,_t,null);rn(this,Rt,null);rn(this,Gt,null);rn(this,tn,!1);rn(this,hn,null);rn(this,Sn,null);rn(this,mn,null);rn(this,$t,null);rn(this,Tn,!1);var Vn;on(this,Zt,kt),on(this,$t,ln),on(this,en,vn),on(this,mn,An),on(this,Rt,Bn),on(this,_n,bt),on(this,Sn,On),on(this,Gt,Mn),on(this,_t,Bt);const Nn=c.PDFDateString.toDateObject(cn);Nn&&on(this,an,Bn.l10n.get("annotation_date_string",{date:Nn.toLocaleDateString(),time:Nn.toLocaleTimeString()})),this.trigger=Bt.flatMap(Jn=>Jn.getElementsToTriggerPopup());for(const Jn of this.trigger)Jn.addEventListener("click",h(this,yn)),Jn.addEventListener("mouseenter",h(this,pn)),Jn.addEventListener("mouseleave",h(this,dn)),Jn.classList.add("popupTriggerArea");for(const Jn of Bt)(Vn=Jn.container)==null||Vn.addEventListener("keydown",h(this,un));h(this,Zt).hidden=!0,sr&&Wt(this,xn,Ys).call(this)}render(){if(h(this,hn))return;const{page:{view:kt},viewport:{rawDims:{pageWidth:bt,pageHeight:Bt,pageX:ln,pageY:cn}}}=h(this,Rt),vn=on(this,hn,document.createElement("div"));if(vn.className="popup",h(this,_n)){const jr=vn.style.outlineColor=o.Util.makeHexColor(...h(this,_n));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?vn.style.backgroundColor=`color-mix(in srgb, ${jr} 30%, white)`:vn.style.backgroundColor=o.Util.makeHexColor(...h(this,_n).map(rs=>Math.floor(.7*(255-rs)+rs)))}const An=document.createElement("span");An.className="header";const Bn=document.createElement("h1");if(An.append(Bn),{dir:Bn.dir,str:Bn.textContent}=h(this,$t),vn.append(An),h(this,an)){const jr=document.createElement("span");jr.classList.add("popupDate"),h(this,an).then(ts=>{jr.textContent=ts}),An.append(jr)}const On=h(this,en),Mn=h(this,mn);if(Mn!=null&&Mn.str&&(!(On!=null&&On.str)||On.str===Mn.str))tt.XfaLayer.render({xfaHtml:Mn.html,intent:"richText",div:vn}),vn.lastChild.classList.add("richText","popupContent");else{const jr=this._formatContents(On);vn.append(jr)}let sr=!!h(this,Gt),Nn=sr?h(this,Gt):h(this,Sn);for(const jr of h(this,_t))if(!Nn||o.Util.intersect(jr.data.rect,Nn)!==null){Nn=jr.data.rect,sr=!0;break}const Vn=o.Util.normalizeRect([Nn[0],kt[3]-Nn[1]+kt[1],Nn[2],kt[3]-Nn[3]+kt[1]]),ur=sr?Nn[2]-Nn[0]+5:0,yr=Vn[0]+ur,Cr=Vn[1],{style:$r}=h(this,Zt);$r.left=`${100*(yr-ln)/bt}%`,$r.top=`${100*(Cr-cn)/Bt}%`,h(this,Zt).append(vn)}_formatContents({str:kt,dir:bt}){const Bt=document.createElement("p");Bt.classList.add("popupContent"),Bt.dir=bt;const ln=kt.split(/(?:\r\n?|\n)/);for(let cn=0,vn=ln.length;cn<vn;++cn){const An=ln[cn];Bt.append(document.createTextNode(An)),cn<vn-1&&Bt.append(document.createElement("br"))}return Bt}forceHide(){on(this,Tn,this.isVisible),h(this,Tn)&&(h(this,Zt).hidden=!0)}maybeShow(){h(this,Tn)&&(on(this,Tn,!1),h(this,Zt).hidden=!1)}get isVisible(){return h(this,Zt).hidden===!1}}an=new WeakMap,un=new WeakMap,dn=new WeakMap,pn=new WeakMap,yn=new WeakMap,_n=new WeakMap,Zt=new WeakMap,en=new WeakMap,_t=new WeakMap,Rt=new WeakMap,Gt=new WeakMap,tn=new WeakMap,hn=new WeakMap,Sn=new WeakMap,mn=new WeakMap,$t=new WeakMap,Tn=new WeakMap,xn=new WeakSet,Gl=function(kt){kt.altKey||kt.shiftKey||kt.ctrlKey||kt.metaKey||(kt.key==="Enter"||kt.key==="Escape"&&h(this,tn))&&Wt(this,xn,Ys).call(this)},Ys=function(){on(this,tn,!h(this,tn)),h(this,tn)?(Wt(this,xn,jo).call(this),h(this,Zt).addEventListener("click",h(this,yn)),h(this,Zt).addEventListener("keydown",h(this,un))):(Wt(this,xn,zo).call(this),h(this,Zt).removeEventListener("click",h(this,yn)),h(this,Zt).removeEventListener("keydown",h(this,un)))},jo=function(){h(this,hn)||this.render(),this.isVisible?h(this,tn)&&h(this,Zt).classList.add("focused"):(h(this,Zt).hidden=!1,h(this,Zt).style.zIndex=parseInt(h(this,Zt).style.zIndex)+1e3)},zo=function(){h(this,Zt).classList.remove("focused"),!(h(this,tn)||!this.isVisible)&&(h(this,Zt).hidden=!0,h(this,Zt).style.zIndex=parseInt(h(this,Zt).style.zIndex)-1e3)};class At extends lt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=kt.data.textContent,this.textPosition=kt.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const kt=document.createElement("div");kt.classList.add("annotationTextContent"),kt.setAttribute("role","comment");for(const bt of this.textContent){const Bt=document.createElement("span");Bt.textContent=bt,kt.append(Bt)}this.container.append(kt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=At;class ot extends lt{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});rn(this,Wn,null)}render(){this.container.classList.add("lineAnnotation");const bt=this.data,{width:Bt,height:ln}=ft(bt.rect),cn=this.svgFactory.create(Bt,ln,!0),vn=on(this,Wn,this.svgFactory.createElement("svg:line"));return vn.setAttribute("x1",bt.rect[2]-bt.lineCoordinates[0]),vn.setAttribute("y1",bt.rect[3]-bt.lineCoordinates[1]),vn.setAttribute("x2",bt.rect[2]-bt.lineCoordinates[2]),vn.setAttribute("y2",bt.rect[3]-bt.lineCoordinates[3]),vn.setAttribute("stroke-width",bt.borderStyle.width||1),vn.setAttribute("stroke","transparent"),vn.setAttribute("fill","transparent"),cn.append(vn),this.container.append(cn),!bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Wn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wn=new WeakMap;class Et extends lt{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});rn(this,ar,null)}render(){this.container.classList.add("squareAnnotation");const bt=this.data,{width:Bt,height:ln}=ft(bt.rect),cn=this.svgFactory.create(Bt,ln,!0),vn=bt.borderStyle.width,An=on(this,ar,this.svgFactory.createElement("svg:rect"));return An.setAttribute("x",vn/2),An.setAttribute("y",vn/2),An.setAttribute("width",Bt-vn),An.setAttribute("height",ln-vn),An.setAttribute("stroke-width",vn||1),An.setAttribute("stroke","transparent"),An.setAttribute("fill","transparent"),cn.append(An),this.container.append(cn),!bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,ar)}addHighlightArea(){this.container.classList.add("highlightArea")}}ar=new WeakMap;class Tt extends lt{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});rn(this,wr,null)}render(){this.container.classList.add("circleAnnotation");const bt=this.data,{width:Bt,height:ln}=ft(bt.rect),cn=this.svgFactory.create(Bt,ln,!0),vn=bt.borderStyle.width,An=on(this,wr,this.svgFactory.createElement("svg:ellipse"));return An.setAttribute("cx",Bt/2),An.setAttribute("cy",ln/2),An.setAttribute("rx",Bt/2-vn/2),An.setAttribute("ry",ln/2-vn/2),An.setAttribute("stroke-width",vn||1),An.setAttribute("stroke","transparent"),An.setAttribute("fill","transparent"),cn.append(An),this.container.append(cn),!bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,wr)}addHighlightArea(){this.container.classList.add("highlightArea")}}wr=new WeakMap;class sn extends lt{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});rn(this,gn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const bt=this.data,{width:Bt,height:ln}=ft(bt.rect),cn=this.svgFactory.create(Bt,ln,!0);let vn=[];for(const Bn of bt.vertices){const On=Bn.x-bt.rect[0],Mn=bt.rect[3]-Bn.y;vn.push(On+","+Mn)}vn=vn.join(" ");const An=on(this,gn,this.svgFactory.createElement(this.svgElementName));return An.setAttribute("points",vn),An.setAttribute("stroke-width",bt.borderStyle.width||1),An.setAttribute("stroke","transparent"),An.setAttribute("fill","transparent"),cn.append(An),this.container.append(cn),!bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,gn)}addHighlightArea(){this.container.classList.add("highlightArea")}}gn=new WeakMap;class jt extends sn{constructor(kt){super(kt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Xt extends lt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Nt extends lt{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});rn(this,qt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const bt=this.data,{width:Bt,height:ln}=ft(bt.rect),cn=this.svgFactory.create(Bt,ln,!0);for(const vn of bt.inkLists){let An=[];for(const On of vn){const Mn=On.x-bt.rect[0],sr=bt.rect[3]-On.y;An.push(`${Mn},${sr}`)}An=An.join(" ");const Bn=this.svgFactory.createElement(this.svgElementName);h(this,qt).push(Bn),Bn.setAttribute("points",An),Bn.setAttribute("stroke-width",bt.borderStyle.width||1),Bn.setAttribute("stroke","transparent"),Bn.setAttribute("fill","transparent"),!bt.popupRef&&this.hasPopupData&&this._createPopup(),cn.append(Bn)}return this.container.append(cn),this.container}getElementsToTriggerPopup(){return h(this,qt)}addHighlightArea(){this.container.classList.add("highlightArea")}}qt=new WeakMap,i.InkAnnotationElement=Nt;class Ot extends lt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class St extends lt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Lt extends lt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Vt extends lt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class wt extends lt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=wt;class et extends lt{constructor(bt){var cn;super(bt,{isRenderable:!0});rn(this,Dn);rn(this,Kt,null);const{filename:Bt,content:ln}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(Bt,!0),this.content=ln,(cn=this.linkService.eventBus)==null||cn.dispatch("fileattachmentannotation",{source:this,filename:Bt,content:ln})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:bt,data:Bt}=this;let ln;Bt.hasAppearance||Bt.fillAlpha===0?ln=document.createElement("div"):(ln=document.createElement("img"),ln.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Bt.name)?"paperclip":"pushpin"}.svg`,Bt.fillAlpha&&Bt.fillAlpha<1&&(ln.style=`filter: opacity(${Math.round(Bt.fillAlpha*100)}%);`)),ln.addEventListener("dblclick",Wt(this,Dn,Bo).bind(this)),on(this,Kt,ln);const{isMac:cn}=o.FeatureTest.platform;return bt.addEventListener("keydown",vn=>{vn.key==="Enter"&&(cn?vn.metaKey:vn.ctrlKey)&&Wt(this,Dn,Bo).call(this)}),!Bt.popupRef&&this.hasPopupData?this._createPopup():ln.classList.add("popupTriggerArea"),bt.append(ln),bt}getElementsToTriggerPopup(){return h(this,Kt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kt=new WeakMap,Dn=new WeakSet,Bo=function(){var bt;(bt=this.downloadManager)==null||bt.openOrDownloadData(this.container,this.content,this.filename)};class nt{constructor({div:kt,accessibilityManager:bt,annotationCanvasMap:Bt,l10n:ln,page:cn,viewport:vn}){rn(this,Pn);rn(this,qn,null);rn(this,Mt,null);rn(this,fn,new Map);this.div=kt,on(this,qn,bt),on(this,Mt,Bt),this.l10n=ln,this.page=cn,this.viewport=vn,this.zIndex=0,this.l10n||(this.l10n=ut.NullL10n)}async render(kt){const{annotations:bt}=kt,Bt=this.div;(0,c.setLayerDimensions)(Bt,this.viewport);const ln=new Map,cn={data:null,layer:Bt,linkService:kt.linkService,downloadManager:kt.downloadManager,imageResourcesPath:kt.imageResourcesPath||"",renderForms:kt.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:kt.annotationStorage||new a.AnnotationStorage,enableScripting:kt.enableScripting===!0,hasJSActions:kt.hasJSActions,fieldObjects:kt.fieldObjects,parent:this,elements:null};for(const vn of bt){if(vn.noHTML)continue;const An=vn.annotationType===o.AnnotationType.POPUP;if(An){const Mn=ln.get(vn.id);if(!Mn)continue;cn.elements=Mn}else{const{width:Mn,height:sr}=ft(vn.rect);if(Mn<=0||sr<=0)continue}cn.data=vn;const Bn=dt.create(cn);if(!Bn.isRenderable)continue;if(!An&&vn.popupRef){const Mn=ln.get(vn.popupRef);Mn?Mn.push(Bn):ln.set(vn.popupRef,[Bn])}Bn.annotationEditorType>0&&h(this,fn).set(Bn.data.id,Bn);const On=Bn.render();vn.hidden&&(On.style.visibility="hidden"),Wt(this,Pn,Xl).call(this,On,vn.id)}Wt(this,Pn,Uo).call(this),await this.l10n.translate(Bt)}update({viewport:kt}){const bt=this.div;this.viewport=kt,(0,c.setLayerDimensions)(bt,{rotation:kt.rotation}),Wt(this,Pn,Uo).call(this),bt.hidden=!1}getEditableAnnotations(){return Array.from(h(this,fn).values())}getEditableAnnotation(kt){return h(this,fn).get(kt)}}qn=new WeakMap,Mt=new WeakMap,fn=new WeakMap,Pn=new WeakSet,Xl=function(kt,bt){var ln;const Bt=kt.firstChild||kt;Bt.id=`${o.AnnotationPrefix}${bt}`,this.div.append(kt),(ln=h(this,qn))==null||ln.moveElementInDOM(this.div,kt,Bt,!1)},Uo=function(){if(!h(this,Mt))return;const kt=this.div;for(const[bt,Bt]of h(this,Mt)){const ln=kt.querySelector(`[data-annotation-id="${bt}"]`);if(!ln)continue;const{firstChild:cn}=ln;cn?cn.nodeName==="CANVAS"?cn.replaceWith(Bt):cn.before(Bt):ln.append(Bt)}h(this,Mt).clear()},i.AnnotationLayer=nt},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function s(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function o(a){return Math.max(0,Math.min(255,255*a))}class c{static CMYK_G([d,ut,tt,st]){return["G",1-Math.min(1,.3*d+.59*tt+.11*ut+st)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=o(d),[d,d,d]}static G_HTML([d]){const ut=s(d);return`#${ut}${ut}${ut}`}static RGB_G([d,ut,tt]){return["G",.3*d+.59*ut+.11*tt]}static RGB_rgb(d){return d.map(o)}static RGB_HTML(d){return`#${d.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,ut,tt,st]){return["RGB",1-Math.min(1,d+st),1-Math.min(1,tt+st),1-Math.min(1,ut+st)]}static CMYK_rgb([d,ut,tt,st]){return[o(1-Math.min(1,d+st)),o(1-Math.min(1,tt+st)),o(1-Math.min(1,ut+st))]}static CMYK_HTML(d){const ut=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(ut)}static RGB_CMYK([d,ut,tt]){const st=1-d,_e=1-ut,yt=1-tt,ft=Math.min(st,_e,yt);return["CMYK",st,_e,yt,ft]}}i.ColorConverters=c},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=o;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function o(d,ut){switch(d){case"find_match_count":d=`find_match_count[${ut.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${ut.limit===1?"one":"other"}]`;break}return s[d]||""}function c(d,ut){return ut?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(tt,st)=>st in ut?ut[st]:"{{"+st+"}}"):d}const a={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,ut=null,tt=o(d,ut)){return c(tt,ut)},async translate(d){}};i.NullL10n=a},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var o=s(25);class c{static setupStorage(d,ut,tt,st,_e){const yt=st.getValue(ut,{value:null});switch(tt.name){case"textarea":if(yt.value!==null&&(d.textContent=yt.value),_e==="print")break;d.addEventListener("input",ft=>{st.setValue(ut,{value:ft.target.value})});break;case"input":if(tt.attributes.type==="radio"||tt.attributes.type==="checkbox"){if(yt.value===tt.attributes.xfaOn?d.setAttribute("checked",!0):yt.value===tt.attributes.xfaOff&&d.removeAttribute("checked"),_e==="print")break;d.addEventListener("change",ft=>{st.setValue(ut,{value:ft.target.checked?ft.target.getAttribute("xfaOn"):ft.target.getAttribute("xfaOff")})})}else{if(yt.value!==null&&d.setAttribute("value",yt.value),_e==="print")break;d.addEventListener("input",ft=>{st.setValue(ut,{value:ft.target.value})})}break;case"select":if(yt.value!==null){d.setAttribute("value",yt.value);for(const ft of tt.children)ft.attributes.value===yt.value?ft.attributes.selected=!0:ft.attributes.hasOwnProperty("selected")&&delete ft.attributes.selected}d.addEventListener("input",ft=>{const dt=ft.target.options,lt=dt.selectedIndex===-1?"":dt[dt.selectedIndex].value;st.setValue(ut,{value:lt})});break}}static setAttributes({html:d,element:ut,storage:tt=null,intent:st,linkService:_e}){const{attributes:yt}=ut,ft=d instanceof HTMLAnchorElement;yt.type==="radio"&&(yt.name=`${yt.name}-${st}`);for(const[dt,lt]of Object.entries(yt))if(lt!=null)switch(dt){case"class":lt.length&&d.setAttribute(dt,lt.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",lt);break;case"style":Object.assign(d.style,lt);break;case"textContent":d.textContent=lt;break;default:(!ft||dt!=="href"&&dt!=="newWindow")&&d.setAttribute(dt,lt)}ft&&_e.addLinkAttributes(d,yt.href,yt.newWindow),tt&&yt.dataId&&this.setupStorage(d,yt.dataId,ut,tt)}static render(d){var mt;const ut=d.annotationStorage,tt=d.linkService,st=d.xfaHtml,_e=d.intent||"display",yt=document.createElement(st.name);st.attributes&&this.setAttributes({html:yt,element:st,intent:_e,linkService:tt});const ft=[[st,-1,yt]],dt=d.div;if(dt.append(yt),d.viewport){const gt=`matrix(${d.viewport.transform.join(",")})`;dt.style.transform=gt}_e!=="richText"&&dt.setAttribute("class","xfaLayer xfaFont");const lt=[];for(;ft.length>0;){const[gt,g,_]=ft.at(-1);if(g+1===gt.children.length){ft.pop();continue}const at=gt.children[++ft.at(-1)[1]];if(at===null)continue;const{name:ht}=at;if(ht==="#text"){const it=document.createTextNode(at.value);lt.push(it),_.append(it);continue}const j=(mt=at==null?void 0:at.attributes)!=null&&mt.xmlns?document.createElementNS(at.attributes.xmlns,ht):document.createElement(ht);if(_.append(j),at.attributes&&this.setAttributes({html:j,element:at,storage:ut,intent:_e,linkService:tt}),at.children&&at.children.length>0)ft.push([at,-1,j]);else if(at.value){const it=document.createTextNode(at.value);o.XfaText.shouldBuildText(ht)&&lt.push(it),j.append(it)}}for(const gt of dt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))gt.setAttribute("readOnly",!0);return{textDivs:lt}}static update(d){const ut=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=ut,d.div.hidden=!1}}i.XfaLayer=c},(e,i,s)=>{var st,_e,yt,ft,dt,lt,mt,gt,g,_,at,ht,j,it,$,Yl,Kl,Ql,Zl,Ho,Jl,Vo,_c,eu,tu,nu,ru,as,Wo,Ks,Qs,Es,$o,Zs,Pt,iu,Go,su,ou,Xo,Js,bs;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var o=s(1),c=s(4),a=s(29),d=s(6),ut=s(5);const _n=class _n extends c.AnnotationEditor{constructor(_t){super({..._t,name:"inkEditor"});rn(this,$);rn(this,st,0);rn(this,_e,0);rn(this,yt,this.canvasPointermove.bind(this));rn(this,ft,this.canvasPointerleave.bind(this));rn(this,dt,this.canvasPointerup.bind(this));rn(this,lt,this.canvasPointerdown.bind(this));rn(this,mt,new Path2D);rn(this,gt,!1);rn(this,g,!1);rn(this,_,!1);rn(this,at,null);rn(this,ht,0);rn(this,j,0);rn(this,it,null);this.color=_t.color||null,this.thickness=_t.thickness||null,this.opacity=_t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(_t){c.AnnotationEditor.initialize(_t,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(_t,Rt){switch(_t){case o.AnnotationEditorParamsType.INK_THICKNESS:_n._defaultThickness=Rt;break;case o.AnnotationEditorParamsType.INK_COLOR:_n._defaultColor=Rt;break;case o.AnnotationEditorParamsType.INK_OPACITY:_n._defaultOpacity=Rt/100;break}}updateParams(_t,Rt){switch(_t){case o.AnnotationEditorParamsType.INK_THICKNESS:Wt(this,$,Yl).call(this,Rt);break;case o.AnnotationEditorParamsType.INK_COLOR:Wt(this,$,Kl).call(this,Rt);break;case o.AnnotationEditorParamsType.INK_OPACITY:Wt(this,$,Ql).call(this,Rt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,_n._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,_n._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(_n._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||_n._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||_n._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??_n._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Wt(this,$,Ks).call(this),Wt(this,$,Qs).call(this)),this.isAttachedToDOM||(this.parent.add(this),Wt(this,$,Es).call(this)),Wt(this,$,bs).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,at).disconnect(),on(this,at,null),super.remove())}setParent(_t){!this.parent&&_t?this._uiManager.removeShouldRescale(this):this.parent&&_t===null&&this._uiManager.addShouldRescale(this),super.setParent(_t)}onScaleChanging(){const[_t,Rt]=this.parentDimensions,Gt=this.width*_t,tn=this.height*Rt;this.setDimensions(Gt,tn)}enableEditMode(){h(this,gt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",h(this,lt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",h(this,lt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,gt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),on(this,gt,!0),this.div.classList.add("disabled"),Wt(this,$,bs).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(_t){this._focusEventsAllowed&&(super.focusin(_t),this.enableEditMode())}canvasPointerdown(_t){_t.button!==0||!this.isInEditMode()||h(this,gt)||(this.setInForeground(),_t.preventDefault(),_t.type!=="mouse"&&this.div.focus(),Wt(this,$,Jl).call(this,_t.offsetX,_t.offsetY))}canvasPointermove(_t){_t.preventDefault(),Wt(this,$,Vo).call(this,_t.offsetX,_t.offsetY)}canvasPointerup(_t){_t.preventDefault(),Wt(this,$,Wo).call(this,_t)}canvasPointerleave(_t){Wt(this,$,Wo).call(this,_t)}get isResizable(){return!this.isEmpty()&&h(this,gt)}render(){if(this.div)return this.div;let _t,Rt;this.width&&(_t=this.x,Rt=this.y),super.render(),c.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(mn=>{var $t;return($t=this.div)==null?void 0:$t.setAttribute("aria-label",mn)});const[Gt,tn,hn,Sn]=Wt(this,$,Zl).call(this);if(this.setAt(Gt,tn,0,0),this.setDims(hn,Sn),Wt(this,$,Ks).call(this),this.width){const[mn,$t]=this.parentDimensions;this.setAspectRatio(this.width*mn,this.height*$t),this.setAt(_t*mn,Rt*$t,this.width*mn,this.height*$t),on(this,_,!0),Wt(this,$,Es).call(this),this.setDims(this.width*mn,this.height*$t),Wt(this,$,as).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Wt(this,$,Qs).call(this),this.div}setDimensions(_t,Rt){const Gt=Math.round(_t),tn=Math.round(Rt);if(h(this,ht)===Gt&&h(this,j)===tn)return;on(this,ht,Gt),on(this,j,tn),this.canvas.style.visibility="hidden";const[hn,Sn]=this.parentDimensions;this.width=_t/hn,this.height=Rt/Sn,this.fixAndSetPosition(),h(this,gt)&&Wt(this,$,$o).call(this,_t,Rt),Wt(this,$,Es).call(this),Wt(this,$,as).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(_t,Rt,Gt){var Wn,ar,wr;if(_t instanceof a.InkAnnotationElement)return null;const tn=super.deserialize(_t,Rt,Gt);tn.thickness=_t.thickness,tn.color=o.Util.makeHexColor(..._t.color),tn.opacity=_t.opacity;const[hn,Sn]=tn.pageDimensions,mn=tn.width*hn,$t=tn.height*Sn,Tn=tn.parentScale,xn=_t.thickness/2;on(tn,gt,!0),on(tn,ht,Math.round(mn)),on(tn,j,Math.round($t));const{paths:nr,rect:Yn,rotation:fr}=_t;for(let{bezier:gn}of nr){gn=Wt(Wn=_n,Pt,su).call(Wn,gn,Yn,fr);const qt=[];tn.paths.push(qt);let Kt=Tn*(gn[0]-xn),Dn=Tn*(gn[1]-xn);for(let qn=2,Mt=gn.length;qn<Mt;qn+=6){const fn=Tn*(gn[qn]-xn),Pn=Tn*(gn[qn+1]-xn),zn=Tn*(gn[qn+2]-xn),Hn=Tn*(gn[qn+3]-xn),Ln=Tn*(gn[qn+4]-xn),kt=Tn*(gn[qn+5]-xn);qt.push([[Kt,Dn],[fn,Pn],[zn,Hn],[Ln,kt]]),Kt=Ln,Dn=kt}const jn=Wt(this,Pt,iu).call(this,qt);tn.bezierPath2D.push(jn)}const In=Wt(ar=tn,$,Xo).call(ar);return on(tn,_e,Math.max(c.AnnotationEditor.MIN_SIZE,In[2]-In[0])),on(tn,st,Math.max(c.AnnotationEditor.MIN_SIZE,In[3]-In[1])),Wt(wr=tn,$,$o).call(wr,mn,$t),tn}serialize(){if(this.isEmpty())return null;const _t=this.getRect(0,0),Rt=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:Rt,thickness:this.thickness,opacity:this.opacity,paths:Wt(this,$,ou).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,_t),pageIndex:this.pageIndex,rect:_t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};st=new WeakMap,_e=new WeakMap,yt=new WeakMap,ft=new WeakMap,dt=new WeakMap,lt=new WeakMap,mt=new WeakMap,gt=new WeakMap,g=new WeakMap,_=new WeakMap,at=new WeakMap,ht=new WeakMap,j=new WeakMap,it=new WeakMap,$=new WeakSet,Yl=function(_t){const Rt=this.thickness;this.addCommands({cmd:()=>{this.thickness=_t,Wt(this,$,bs).call(this)},undo:()=>{this.thickness=Rt,Wt(this,$,bs).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Kl=function(_t){const Rt=this.color;this.addCommands({cmd:()=>{this.color=_t,Wt(this,$,as).call(this)},undo:()=>{this.color=Rt,Wt(this,$,as).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ql=function(_t){_t/=100;const Rt=this.opacity;this.addCommands({cmd:()=>{this.opacity=_t,Wt(this,$,as).call(this)},undo:()=>{this.opacity=Rt,Wt(this,$,as).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Zl=function(){const{parentRotation:_t,parentDimensions:[Rt,Gt]}=this;switch(_t){case 90:return[0,Gt,Gt,Rt];case 180:return[Rt,Gt,Rt,Gt];case 270:return[Rt,0,Gt,Rt];default:return[0,0,Rt,Gt]}},Ho=function(){const{ctx:_t,color:Rt,opacity:Gt,thickness:tn,parentScale:hn,scaleFactor:Sn}=this;_t.lineWidth=tn*hn/Sn,_t.lineCap="round",_t.lineJoin="round",_t.miterLimit=10,_t.strokeStyle=`${Rt}${(0,ut.opacityToHex)(Gt)}`},Jl=function(_t,Rt){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",h(this,ft)),this.canvas.addEventListener("pointermove",h(this,yt)),this.canvas.addEventListener("pointerup",h(this,dt)),this.canvas.removeEventListener("pointerdown",h(this,lt)),this.isEditing=!0,h(this,_)||(on(this,_,!0),Wt(this,$,Es).call(this),this.thickness||(this.thickness=_n._defaultThickness),this.color||(this.color=_n._defaultColor||c.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=_n._defaultOpacity)),this.currentPath.push([_t,Rt]),on(this,g,!1),Wt(this,$,Ho).call(this),on(this,it,()=>{Wt(this,$,tu).call(this),h(this,it)&&window.requestAnimationFrame(h(this,it))}),window.requestAnimationFrame(h(this,it))},Vo=function(_t,Rt){const[Gt,tn]=this.currentPath.at(-1);if(this.currentPath.length>1&&_t===Gt&&Rt===tn)return;const hn=this.currentPath;let Sn=h(this,mt);if(hn.push([_t,Rt]),on(this,g,!0),hn.length<=2){Sn.moveTo(...hn[0]),Sn.lineTo(_t,Rt);return}hn.length===3&&(on(this,mt,Sn=new Path2D),Sn.moveTo(...hn[0])),Wt(this,$,nu).call(this,Sn,...hn.at(-3),...hn.at(-2),_t,Rt)},_c=function(){if(this.currentPath.length===0)return;const _t=this.currentPath.at(-1);h(this,mt).lineTo(..._t)},eu=function(_t,Rt){on(this,it,null),_t=Math.min(Math.max(_t,0),this.canvas.width),Rt=Math.min(Math.max(Rt,0),this.canvas.height),Wt(this,$,Vo).call(this,_t,Rt),Wt(this,$,_c).call(this);let Gt;if(this.currentPath.length!==1)Gt=Wt(this,$,ru).call(this);else{const $t=[_t,Rt];Gt=[[$t,$t.slice(),$t.slice(),$t]]}const tn=h(this,mt),hn=this.currentPath;this.currentPath=[],on(this,mt,new Path2D);const Sn=()=>{this.allRawPaths.push(hn),this.paths.push(Gt),this.bezierPath2D.push(tn),this.rebuild()},mn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Wt(this,$,Ks).call(this),Wt(this,$,Qs).call(this)),Wt(this,$,bs).call(this))};this.addCommands({cmd:Sn,undo:mn,mustExec:!0})},tu=function(){if(!h(this,g))return;on(this,g,!1);const _t=Math.ceil(this.thickness*this.parentScale),Rt=this.currentPath.slice(-3),Gt=Rt.map(Sn=>Sn[0]),tn=Rt.map(Sn=>Sn[1]);Math.min(...Gt)-_t,Math.max(...Gt)+_t,Math.min(...tn)-_t,Math.max(...tn)+_t;const{ctx:hn}=this;hn.save(),hn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Sn of this.bezierPath2D)hn.stroke(Sn);hn.stroke(h(this,mt)),hn.restore()},nu=function(_t,Rt,Gt,tn,hn,Sn,mn){const $t=(Rt+tn)/2,Tn=(Gt+hn)/2,xn=(tn+Sn)/2,nr=(hn+mn)/2;_t.bezierCurveTo($t+2*(tn-$t)/3,Tn+2*(hn-Tn)/3,xn+2*(tn-xn)/3,nr+2*(hn-nr)/3,xn,nr)},ru=function(){const _t=this.currentPath;if(_t.length<=2)return[[_t[0],_t[0],_t.at(-1),_t.at(-1)]];const Rt=[];let Gt,[tn,hn]=_t[0];for(Gt=1;Gt<_t.length-2;Gt++){const[Yn,fr]=_t[Gt],[In,Wn]=_t[Gt+1],ar=(Yn+In)/2,wr=(fr+Wn)/2,gn=[tn+2*(Yn-tn)/3,hn+2*(fr-hn)/3],qt=[ar+2*(Yn-ar)/3,wr+2*(fr-wr)/3];Rt.push([[tn,hn],gn,qt,[ar,wr]]),[tn,hn]=[ar,wr]}const[Sn,mn]=_t[Gt],[$t,Tn]=_t[Gt+1],xn=[tn+2*(Sn-tn)/3,hn+2*(mn-hn)/3],nr=[$t+2*(Sn-$t)/3,Tn+2*(mn-Tn)/3];return Rt.push([[tn,hn],xn,nr,[$t,Tn]]),Rt},as=function(){if(this.isEmpty()){Wt(this,$,Zs).call(this);return}Wt(this,$,Ho).call(this);const{canvas:_t,ctx:Rt}=this;Rt.setTransform(1,0,0,1,0,0),Rt.clearRect(0,0,_t.width,_t.height),Wt(this,$,Zs).call(this);for(const Gt of this.bezierPath2D)Rt.stroke(Gt)},Wo=function(_t){this.canvas.removeEventListener("pointerleave",h(this,ft)),this.canvas.removeEventListener("pointermove",h(this,yt)),this.canvas.removeEventListener("pointerup",h(this,dt)),this.canvas.addEventListener("pointerdown",h(this,lt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),Wt(this,$,eu).call(this,_t.offsetX,_t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ks=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(_t=>{var Rt;return(Rt=this.canvas)==null?void 0:Rt.setAttribute("aria-label",_t)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Qs=function(){on(this,at,new ResizeObserver(_t=>{const Rt=_t[0].contentRect;Rt.width&&Rt.height&&this.setDimensions(Rt.width,Rt.height)})),h(this,at).observe(this.div)},Es=function(){if(!h(this,_))return;const[_t,Rt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*_t),this.canvas.height=Math.ceil(this.height*Rt),Wt(this,$,Zs).call(this)},$o=function(_t,Rt){const Gt=Wt(this,$,Js).call(this),tn=(_t-Gt)/h(this,_e),hn=(Rt-Gt)/h(this,st);this.scaleFactor=Math.min(tn,hn)},Zs=function(){const _t=Wt(this,$,Js).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+_t,this.translationY*this.scaleFactor+_t)},Pt=new WeakSet,iu=function(_t){const Rt=new Path2D;for(let Gt=0,tn=_t.length;Gt<tn;Gt++){const[hn,Sn,mn,$t]=_t[Gt];Gt===0&&Rt.moveTo(...hn),Rt.bezierCurveTo(Sn[0],Sn[1],mn[0],mn[1],$t[0],$t[1])}return Rt},Go=function(_t,Rt,Gt){const[tn,hn,Sn,mn]=Rt;switch(Gt){case 0:for(let $t=0,Tn=_t.length;$t<Tn;$t+=2)_t[$t]+=tn,_t[$t+1]=mn-_t[$t+1];break;case 90:for(let $t=0,Tn=_t.length;$t<Tn;$t+=2){const xn=_t[$t];_t[$t]=_t[$t+1]+tn,_t[$t+1]=xn+hn}break;case 180:for(let $t=0,Tn=_t.length;$t<Tn;$t+=2)_t[$t]=Sn-_t[$t],_t[$t+1]+=hn;break;case 270:for(let $t=0,Tn=_t.length;$t<Tn;$t+=2){const xn=_t[$t];_t[$t]=Sn-_t[$t+1],_t[$t+1]=mn-xn}break;default:throw new Error("Invalid rotation")}return _t},su=function(_t,Rt,Gt){const[tn,hn,Sn,mn]=Rt;switch(Gt){case 0:for(let $t=0,Tn=_t.length;$t<Tn;$t+=2)_t[$t]-=tn,_t[$t+1]=mn-_t[$t+1];break;case 90:for(let $t=0,Tn=_t.length;$t<Tn;$t+=2){const xn=_t[$t];_t[$t]=_t[$t+1]-hn,_t[$t+1]=xn-tn}break;case 180:for(let $t=0,Tn=_t.length;$t<Tn;$t+=2)_t[$t]=Sn-_t[$t],_t[$t+1]-=hn;break;case 270:for(let $t=0,Tn=_t.length;$t<Tn;$t+=2){const xn=_t[$t];_t[$t]=mn-_t[$t+1],_t[$t+1]=Sn-xn}break;default:throw new Error("Invalid rotation")}return _t},ou=function(_t,Rt,Gt,tn){var Tn,xn;const hn=[],Sn=this.thickness/2,mn=_t*Rt+Sn,$t=_t*Gt+Sn;for(const nr of this.paths){const Yn=[],fr=[];for(let In=0,Wn=nr.length;In<Wn;In++){const[ar,wr,gn,qt]=nr[In],Kt=_t*ar[0]+mn,Dn=_t*ar[1]+$t,jn=_t*wr[0]+mn,qn=_t*wr[1]+$t,Mt=_t*gn[0]+mn,fn=_t*gn[1]+$t,Pn=_t*qt[0]+mn,zn=_t*qt[1]+$t;In===0&&(Yn.push(Kt,Dn),fr.push(Kt,Dn)),Yn.push(jn,qn,Mt,fn,Pn,zn),fr.push(jn,qn),In===Wn-1&&fr.push(Pn,zn)}hn.push({bezier:Wt(Tn=_n,Pt,Go).call(Tn,Yn,tn,this.rotation),points:Wt(xn=_n,Pt,Go).call(xn,fr,tn,this.rotation)})}return hn},Xo=function(){let _t=1/0,Rt=-1/0,Gt=1/0,tn=-1/0;for(const hn of this.paths)for(const[Sn,mn,$t,Tn]of hn){const xn=o.Util.bezierBoundingBox(...Sn,...mn,...$t,...Tn);_t=Math.min(_t,xn[0]),Gt=Math.min(Gt,xn[1]),Rt=Math.max(Rt,xn[2]),tn=Math.max(tn,xn[3])}return[_t,Gt,Rt,tn]},Js=function(){return h(this,gt)?Math.ceil(this.thickness*this.parentScale):0},bs=function(_t=!1){if(this.isEmpty())return;if(!h(this,gt)){Wt(this,$,as).call(this);return}const Rt=Wt(this,$,Xo).call(this),Gt=Wt(this,$,Js).call(this);on(this,_e,Math.max(c.AnnotationEditor.MIN_SIZE,Rt[2]-Rt[0])),on(this,st,Math.max(c.AnnotationEditor.MIN_SIZE,Rt[3]-Rt[1]));const tn=Math.ceil(Gt+h(this,_e)*this.scaleFactor),hn=Math.ceil(Gt+h(this,st)*this.scaleFactor),[Sn,mn]=this.parentDimensions;this.width=tn/Sn,this.height=hn/mn,this.setAspectRatio(tn,hn);const $t=this.translationX,Tn=this.translationY;this.translationX=-Rt[0],this.translationY=-Rt[1],Wt(this,$,Es).call(this),Wt(this,$,as).call(this),on(this,ht,tn),on(this,j,hn),this.setDims(tn,hn);const xn=_t?Gt/this.scaleFactor/2:0;this.translate($t-this.translationX-xn,Tn-this.translationY-xn)},rn(_n,Pt),Lr(_n,"_defaultColor",null),Lr(_n,"_defaultOpacity",1),Lr(_n,"_defaultThickness",1),Lr(_n,"_type","ink");let tt=_n;i.InkEditor=tt},(e,i,s)=>{var tt,st,_e,yt,ft,dt,lt,mt,gt,g,_,Fs,Ls,eo,qo,au,lu,Yo,to,cu;Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var o=s(1),c=s(4),a=s(6),d=s(29);const Et=class Et extends c.AnnotationEditor{constructor(jt){super({...jt,name:"stampEditor"});rn(this,_);rn(this,tt,null);rn(this,st,null);rn(this,_e,null);rn(this,yt,null);rn(this,ft,null);rn(this,dt,null);rn(this,lt,null);rn(this,mt,null);rn(this,gt,!1);rn(this,g,!1);on(this,yt,jt.bitmapUrl),on(this,ft,jt.bitmapFile)}static initialize(jt){c.AnnotationEditor.initialize(jt)}static get supportedTypes(){const jt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",jt.map(Xt=>`image/${Xt}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(jt){return this.supportedTypes.includes(jt)}static paste(jt,Xt){Xt.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:jt.getAsFile()})}remove(){var jt,Xt;h(this,st)&&(on(this,tt,null),this._uiManager.imageManager.deleteId(h(this,st)),(jt=h(this,dt))==null||jt.remove(),on(this,dt,null),(Xt=h(this,lt))==null||Xt.disconnect(),on(this,lt,null)),super.remove()}rebuild(){if(!this.parent){h(this,st)&&Wt(this,_,eo).call(this);return}super.rebuild(),this.div!==null&&(h(this,st)&&Wt(this,_,eo).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,_e)||h(this,tt)||h(this,yt)||h(this,ft))}get isResizable(){return!0}render(){if(this.div)return this.div;let jt,Xt;if(this.width&&(jt=this.x,Xt=this.y),super.render(),this.div.hidden=!0,h(this,tt)?Wt(this,_,qo).call(this):Wt(this,_,eo).call(this),this.width){const[Nt,Ot]=this.parentDimensions;this.setAt(jt*Nt,Xt*Ot,this.width*Nt,this.height*Ot)}return this.div}static deserialize(jt,Xt,Nt){if(jt instanceof d.StampAnnotationElement)return null;const Ot=super.deserialize(jt,Xt,Nt),{rect:St,bitmapUrl:Lt,bitmapId:Vt,isSvg:wt,accessibilityData:et}=jt;Vt&&Nt.imageManager.isValidId(Vt)?on(Ot,st,Vt):on(Ot,yt,Lt),on(Ot,gt,wt);const[nt,vt]=Ot.pageDimensions;return Ot.width=(St[2]-St[0])/nt,Ot.height=(St[3]-St[1])/vt,et&&(Ot.altTextData=et),Ot}serialize(jt=!1,Xt=null){if(this.isEmpty())return null;const Nt={annotationType:o.AnnotationEditorType.STAMP,bitmapId:h(this,st),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,gt),structTreeParentId:this._structTreeParentId};if(jt)return Nt.bitmapUrl=Wt(this,_,to).call(this,!0),Nt.accessibilityData=this.altTextData,Nt;const{decorative:Ot,altText:St}=this.altTextData;if(!Ot&&St&&(Nt.accessibilityData={type:"Figure",alt:St}),Xt===null)return Nt;Xt.stamps||(Xt.stamps=new Map);const Lt=h(this,gt)?(Nt.rect[2]-Nt.rect[0])*(Nt.rect[3]-Nt.rect[1]):null;if(!Xt.stamps.has(h(this,st)))Xt.stamps.set(h(this,st),{area:Lt,serialized:Nt}),Nt.bitmap=Wt(this,_,to).call(this,!1);else if(h(this,gt)){const Vt=Xt.stamps.get(h(this,st));Lt>Vt.area&&(Vt.area=Lt,Vt.serialized.bitmap.close(),Vt.serialized.bitmap=Wt(this,_,to).call(this,!1))}return Nt}};tt=new WeakMap,st=new WeakMap,_e=new WeakMap,yt=new WeakMap,ft=new WeakMap,dt=new WeakMap,lt=new WeakMap,mt=new WeakMap,gt=new WeakMap,g=new WeakMap,_=new WeakSet,Fs=function(jt,Xt=!1){if(!jt){this.remove();return}on(this,tt,jt.bitmap),Xt||(on(this,st,jt.id),on(this,gt,jt.isSvg)),Wt(this,_,qo).call(this)},Ls=function(){on(this,_e,null),this._uiManager.enableWaiting(!1),h(this,dt)&&this.div.focus()},eo=function(){if(h(this,st)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,st)).then(Xt=>Wt(this,_,Fs).call(this,Xt,!0)).finally(()=>Wt(this,_,Ls).call(this));return}if(h(this,yt)){const Xt=h(this,yt);on(this,yt,null),this._uiManager.enableWaiting(!0),on(this,_e,this._uiManager.imageManager.getFromUrl(Xt).then(Nt=>Wt(this,_,Fs).call(this,Nt)).finally(()=>Wt(this,_,Ls).call(this)));return}if(h(this,ft)){const Xt=h(this,ft);on(this,ft,null),this._uiManager.enableWaiting(!0),on(this,_e,this._uiManager.imageManager.getFromFile(Xt).then(Nt=>Wt(this,_,Fs).call(this,Nt)).finally(()=>Wt(this,_,Ls).call(this)));return}const jt=document.createElement("input");jt.type="file",jt.accept=Et.supportedTypesStr,on(this,_e,new Promise(Xt=>{jt.addEventListener("change",async()=>{if(!jt.files||jt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Nt=await this._uiManager.imageManager.getFromFile(jt.files[0]);Wt(this,_,Fs).call(this,Nt)}Xt()}),jt.addEventListener("cancel",()=>{this.remove(),Xt()})}).finally(()=>Wt(this,_,Ls).call(this))),jt.click()},qo=function(){const{div:jt}=this;let{width:Xt,height:Nt}=h(this,tt);const[Ot,St]=this.pageDimensions,Lt=.75;if(this.width)Xt=this.width*Ot,Nt=this.height*St;else if(Xt>Lt*Ot||Nt>Lt*St){const nt=Math.min(Lt*Ot/Xt,Lt*St/Nt);Xt*=nt,Nt*=nt}const[Vt,wt]=this.parentDimensions;this.setDims(Xt*Vt/Ot,Nt*wt/St),this._uiManager.enableWaiting(!1);const et=on(this,dt,document.createElement("canvas"));jt.append(et),jt.hidden=!1,Wt(this,_,Yo).call(this,Xt,Nt),Wt(this,_,cu).call(this),h(this,g)||(this.parent.addUndoableEditor(this),on(this,g,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},au=function(jt,Xt){var Lt;const[Nt,Ot]=this.parentDimensions;this.width=jt/Nt,this.height=Xt/Ot,this.setDims(jt,Xt),(Lt=this._initialOptions)!=null&&Lt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,mt)!==null&&clearTimeout(h(this,mt)),on(this,mt,setTimeout(()=>{on(this,mt,null),Wt(this,_,Yo).call(this,jt,Xt)},200))},lu=function(jt,Xt){const{width:Nt,height:Ot}=h(this,tt);let St=Nt,Lt=Ot,Vt=h(this,tt);for(;St>2*jt||Lt>2*Xt;){const wt=St,et=Lt;St>2*jt&&(St=St>=16384?Math.floor(St/2)-1:Math.ceil(St/2)),Lt>2*Xt&&(Lt=Lt>=16384?Math.floor(Lt/2)-1:Math.ceil(Lt/2));const nt=new OffscreenCanvas(St,Lt);nt.getContext("2d").drawImage(Vt,0,0,wt,et,0,0,St,Lt),Vt=nt.transferToImageBitmap()}return Vt},Yo=function(jt,Xt){jt=Math.ceil(jt),Xt=Math.ceil(Xt);const Nt=h(this,dt);if(!Nt||Nt.width===jt&&Nt.height===Xt)return;Nt.width=jt,Nt.height=Xt;const Ot=h(this,gt)?h(this,tt):Wt(this,_,lu).call(this,jt,Xt),St=Nt.getContext("2d");St.filter=this._uiManager.hcmFilter,St.drawImage(Ot,0,0,Ot.width,Ot.height,0,0,jt,Xt)},to=function(jt){if(jt){if(h(this,gt)){const Ot=this._uiManager.imageManager.getSvgUrl(h(this,st));if(Ot)return Ot}const Xt=document.createElement("canvas");return{width:Xt.width,height:Xt.height}=h(this,tt),Xt.getContext("2d").drawImage(h(this,tt),0,0),Xt.toDataURL()}if(h(this,gt)){const[Xt,Nt]=this.pageDimensions,Ot=Math.round(this.width*Xt*a.PixelsPerInch.PDF_TO_CSS_UNITS),St=Math.round(this.height*Nt*a.PixelsPerInch.PDF_TO_CSS_UNITS),Lt=new OffscreenCanvas(Ot,St);return Lt.getContext("2d").drawImage(h(this,tt),0,0,h(this,tt).width,h(this,tt).height,0,0,Ot,St),Lt.transferToImageBitmap()}return structuredClone(h(this,tt))},cu=function(){on(this,lt,new ResizeObserver(jt=>{const Xt=jt[0].contentRect;Xt.width&&Xt.height&&Wt(this,_,au).call(this,Xt.width,Xt.height)})),h(this,lt).observe(this.div)},Lr(Et,"_type","stamp");let ut=Et;i.StampEditor=ut}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return a.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return ut.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return tt.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return st.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return c.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.version}});var i=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),c=__w_pdfjs_require__(26),a=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),ut=__w_pdfjs_require__(29),tt=__w_pdfjs_require__(14),st=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(e){var i=reactExports,s=pdfExports;function o(b){var pt=Object.create(null);return b&&Object.keys(b).forEach(function(Ft){if(Ft!=="default"){var Dt=Object.getOwnPropertyDescriptor(b,Ft);Object.defineProperty(pt,Ft,Dt.get?Dt:{enumerable:!0,get:function(){return b[Ft]}})}}),pt.default=b,Object.freeze(pt)}var c,a=o(i),d=o(s);e.AnnotationType=void 0,(c=e.AnnotationType||(e.AnnotationType={}))[c.Text=1]="Text",c[c.Link=2]="Link",c[c.FreeText=3]="FreeText",c[c.Line=4]="Line",c[c.Square=5]="Square",c[c.Circle=6]="Circle",c[c.Polygon=7]="Polygon",c[c.Polyline=8]="Polyline",c[c.Highlight=9]="Highlight",c[c.Underline=10]="Underline",c[c.Squiggly=11]="Squiggly",c[c.StrikeOut=12]="StrikeOut",c[c.Stamp=13]="Stamp",c[c.Caret=14]="Caret",c[c.Ink=15]="Ink",c[c.Popup=16]="Popup",c[c.FileAttachment=17]="FileAttachment";var ut=function(b,pt){return ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ft,Dt){Ft.__proto__=Dt}||function(Ft,Dt){for(var zt in Dt)Object.prototype.hasOwnProperty.call(Dt,zt)&&(Ft[zt]=Dt[zt])},ut(b,pt)};function tt(b,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Class extends value "+String(pt)+" is not a constructor or null");function Ft(){this.constructor=b}ut(b,pt),b.prototype=pt===null?Object.create(pt):(Ft.prototype=pt.prototype,new Ft)}var st,_e=function(){return _e=Object.assign||function(b){for(var pt,Ft=1,Dt=arguments.length;Ft<Dt;Ft++)for(var zt in pt=arguments[Ft])Object.prototype.hasOwnProperty.call(pt,zt)&&(b[zt]=pt[zt]);return b},_e.apply(this,arguments)};e.TextDirection=void 0,(st=e.TextDirection||(e.TextDirection={})).RightToLeft="RTL",st.LeftToRight="LTR";var yt,ft=a.createContext({currentTheme:"light",direction:e.TextDirection.LeftToRight,setCurrentTheme:function(){}}),dt=function(b){var pt=[];return Object.keys(b).forEach(function(Ft){Ft&&b[Ft]&&pt.push(Ft)}),pt.join(" ")},lt=typeof window<"u"?a.useLayoutEffect:a.useEffect,mt=function(b){var pt=a.useRef(null),Ft=b.once,Dt=b.threshold,zt=b.onVisibilityChanged;return lt(function(){var Ut=pt.current;if(Ut){var nn=new IntersectionObserver(function(Yt){Yt.forEach(function(It){var Jt=It.isIntersecting,Qt=It.intersectionRatio;zt({isVisible:Jt,ratio:Qt}),Jt&&Ft&&(nn.unobserve(Ut),nn.disconnect())})},{threshold:Dt||0});return nn.observe(Ut),function(){nn.unobserve(Ut),nn.disconnect()}}},[]),pt},gt=function(b){var pt=b.children,Ft=b.ignoreDirection,Dt=Ft!==void 0&&Ft,zt=b.size,Ut=zt===void 0?24:zt,nn=a.useContext(ft).direction,Yt=!Dt&&nn===e.TextDirection.RightToLeft,It="".concat(Ut||24,"px");return a.createElement("svg",{"aria-hidden":"true",className:dt({"rpv-core__icon":!0,"rpv-core__icon--rtl":Yt}),focusable:"false",height:It,viewBox:"0 0 24 24",width:It},pt)},g=function(){return a.createElement(gt,{size:16},a.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},_=function(b){var pt=b.children,Ft=b.testId,Dt=b.onClick,zt=a.useContext(ft).direction===e.TextDirection.RightToLeft,Ut=Ft?{"data-testid":Ft}:{};return a.createElement("button",_e({className:dt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":zt}),type:"button",onClick:Dt},Ut),pt)},at=function(b){var pt=b.size,Ft=pt===void 0?"4rem":pt,Dt=b.testId,zt=a.useState(!1),Ut=zt[0],nn=zt[1],Yt=Dt?{"data-testid":Dt}:{},It=mt({onVisibilityChanged:function(Jt){nn(Jt.isVisible)}});return a.createElement("div",_e({},Yt,{className:dt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Ut}),ref:It,style:{height:Ft,width:Ft}}))},ht=function(b){var pt=b.ariaLabel,Ft=pt===void 0?"":pt,Dt=b.autoFocus,zt=Dt!==void 0&&Dt,Ut=b.placeholder,nn=Ut===void 0?"":Ut,Yt=b.testId,It=b.type,Jt=It===void 0?"text":It,Qt=b.value,bn=Qt===void 0?"":Qt,En=b.onChange,wn=b.onKeyDown,Fn=wn===void 0?function(){}:wn,Rn=a.useContext(ft).direction,Cn=a.useRef(),mr=Rn===e.TextDirection.RightToLeft,Zn={ref:Cn,"data-testid":"","aria-label":Ft,className:dt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":mr}),placeholder:nn,value:bn,onChange:function(er){return En(er.target.value)},onKeyDown:Fn};return Yt&&(Zn["data-testid"]=Yt),lt(function(){if(zt){var er=Cn.current;if(er){var or=window.scrollX,$n=window.scrollY;er.focus(),window.scrollTo(or,$n)}}},[]),Jt==="text"?a.createElement("input",_e({type:"text"},Zn)):a.createElement("input",_e({type:"password"},Zn))};(function(b){b[b.ExitFullScreen=0]="ExitFullScreen",b[b.FullScreenChange=1]="FullScreenChange",b[b.FullScreenElement=2]="FullScreenElement",b[b.FullScreenEnabled=3]="FullScreenEnabled",b[b.RequestFullScreen=4]="RequestFullScreen"})(yt||(yt={}));var j,it={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},$={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},rt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},ct=typeof window<"u",At=ct&&(yt.FullScreenEnabled in document&&it||$.FullScreenEnabled in document&&$||rt.FullScreenEnabled in document&&rt)||it,ot=function(){return ct&&At.FullScreenEnabled in document&&document[At.FullScreenEnabled]===!0},Et=function(b){return ct?b[At.ExitFullScreen]():Promise.resolve({})},Tt=function(){return ct?document[At.FullScreenElement]:null},sn=function(b,pt){var Ft=a.useRef(),Dt=function(){Ft.current&&clearTimeout(Ft.current)};return a.useEffect(function(){return function(){return Dt()}},[]),a.useCallback(function(){for(var zt=[],Ut=0;Ut<arguments.length;Ut++)zt[Ut]=arguments[Ut];Dt(),Ft.current=setTimeout(function(){b.apply(void 0,zt)},pt)},[b,pt])},jt=function(){var b=a.useRef(!1);return a.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]),b},Xt=function(b){var pt=a.useRef(b);return a.useEffect(function(){pt.current=b},[b]),pt.current};(function(b){b.NotRenderedYet="NotRenderedYet",b.Rendering="Rendering",b.Rendered="Rendered"})(j||(j={}));var Nt,Ot=-9999,St=function(b){var pt=b.doc,Ft=pt.numPages,Dt=pt.loadingTask.docId,zt=a.useMemo(function(){return Array(Ft).fill(null).map(function(Yt,It){return{pageIndex:It,renderStatus:j.NotRenderedYet,visibility:Ot}})},[Dt]),Ut=a.useRef({currentRenderingPage:-1,startRange:0,endRange:Ft-1,visibilities:zt}),nn=function(Yt,It){Ut.current.visibilities[Yt].visibility=It};return{getHighestPriorityPage:function(){var Yt=Ut.current.visibilities.slice(Ut.current.startRange,Ut.current.endRange+1).filter(function(En){return En.visibility>Ot});if(!Yt.length)return-1;for(var It=Yt[0].pageIndex,Jt=Yt[Yt.length-1].pageIndex,Qt=Yt.length,bn=0;bn<Qt;bn++){if(Yt[bn].renderStatus===j.Rendering)return-1;if(Yt[bn].renderStatus===j.NotRenderedYet)return Yt[bn].pageIndex}return Jt+1<Ft&&Ut.current.visibilities[Jt+1].renderStatus!==j.Rendered?Jt+1:It-1>=0&&Ut.current.visibilities[It-1].renderStatus!==j.Rendered?It-1:-1},isInRange:function(Yt){return Yt>=Ut.current.startRange&&Yt<=Ut.current.endRange},markNotRendered:function(){for(var Yt=0;Yt<Ft;Yt++)Ut.current.visibilities[Yt].renderStatus=j.NotRenderedYet},markRendered:function(Yt){Ut.current.visibilities[Yt].renderStatus=j.Rendered},markRendering:function(Yt){Ut.current.currentRenderingPage!==-1&&Ut.current.currentRenderingPage!==Yt&&Ut.current.visibilities[Ut.current.currentRenderingPage].renderStatus===j.Rendering&&(Ut.current.visibilities[Ut.current.currentRenderingPage].renderStatus=j.NotRenderedYet),Ut.current.visibilities[Yt].renderStatus=j.Rendering,Ut.current.currentRenderingPage=Yt},setOutOfRange:function(Yt){nn(Yt,Ot)},setRange:function(Yt,It){Ut.current.startRange=Yt,Ut.current.endRange=It;for(var Jt=0;Jt<Ft;Jt++)(Jt<Yt||Jt>It)&&(Ut.current.visibilities[Jt].visibility=Ot,Ut.current.visibilities[Jt].renderStatus=j.NotRenderedYet)},setVisibility:nn}},Lt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Vt=a.createContext({l10n:Lt,setL10n:function(){}}),wt=0,et=function(){return wt++},nt=function(b,pt,Ft){var Dt=function(zt){var Ut=pt.current;if(Ut){var nn=zt.target;if(nn instanceof Element&&nn.shadowRoot){var Yt=zt.composedPath();Yt.length>0&&!Ut.contains(Yt[0])&&Ft()}else Ut.contains(nn)||Ft()}};a.useEffect(function(){if(b){var zt={capture:!0};return document.addEventListener("click",Dt,zt),function(){document.removeEventListener("click",Dt,zt)}}},[])},vt=function(b){var pt=function(Ft){Ft.key==="Escape"&&b()};a.useEffect(function(){return document.addEventListener("keyup",pt),function(){document.removeEventListener("keyup",pt)}},[])},xt=function(b){var pt=b.ariaControlsSuffix,Ft=b.children,Dt=b.closeOnClickOutside,zt=b.closeOnEscape,Ut=b.onToggle,nn=a.useRef(),Yt=a.useContext(ft).direction===e.TextDirection.RightToLeft;return a.useEffect(function(){var It=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=It}},[]),vt(function(){nn.current&&zt&&Ut()}),nt(Dt,nn,Ut),lt(function(){var It=nn.current;if(It){var Jt=.75*document.body.clientHeight;It.getBoundingClientRect().height>=Jt&&(It.style.overflow="auto",It.style.maxHeight="".concat(Jt,"px"))}},[]),a.createElement("div",{"aria-modal":"true",className:dt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Yt}),id:"rpv-core__modal-body-".concat(pt),ref:nn,role:"dialog",tabIndex:-1},Ft)},Pt=function(b){var pt=b.children;return a.createElement("div",{className:"rpv-core__modal-overlay"},pt)};e.ToggleStatus=void 0,(Nt=e.ToggleStatus||(e.ToggleStatus={})).Close="Close",Nt.Open="Open",Nt.Toggle="Toggle";var Ct,Ht=function(b){var pt=a.useState(b),Ft=pt[0],Dt=pt[1];return{opened:Ft,toggle:function(zt){switch(zt){case e.ToggleStatus.Close:Dt(!1);break;case e.ToggleStatus.Open:Dt(!0);break;case e.ToggleStatus.Toggle:default:Dt(function(Ut){return!Ut})}}}},an=function(b){var pt=b.content,Ft=b.isOpened,Dt=Ft!==void 0&&Ft,zt=b.target,Ut=Ht(Dt),nn=Ut.opened,Yt=Ut.toggle;return a.createElement(a.Fragment,null,zt&&zt(Yt,nn),nn&&pt(Yt))};e.Position=void 0,(Ct=e.Position||(e.Position={})).TopLeft="TOP_LEFT",Ct.TopCenter="TOP_CENTER",Ct.TopRight="TOP_RIGHT",Ct.RightTop="RIGHT_TOP",Ct.RightCenter="RIGHT_CENTER",Ct.RightBottom="RIGHT_BOTTOM",Ct.BottomLeft="BOTTOM_LEFT",Ct.BottomCenter="BOTTOM_CENTER",Ct.BottomRight="BOTTOM_RIGHT",Ct.LeftTop="LEFT_TOP",Ct.LeftCenter="LEFT_CENTER",Ct.LeftBottom="LEFT_BOTTOM";var un,dn,pn,yn,_n,Zt,en,_t,Rt=function(b,pt,Ft,Dt,zt){lt(function(){var Ut=pt.current,nn=b.current,Yt=Ft.current;if(nn&&Ut&&Yt){var It=Yt.getBoundingClientRect(),Jt=function(En,wn,Fn,Rn){var Cn=wn.getBoundingClientRect(),mr=En.getBoundingClientRect(),Zn=mr.height,er=mr.width,or=0,$n=0;switch(Fn){case e.Position.TopLeft:or=Cn.top-Zn,$n=Cn.left;break;case e.Position.TopCenter:or=Cn.top-Zn,$n=Cn.left+Cn.width/2-er/2;break;case e.Position.TopRight:or=Cn.top-Zn,$n=Cn.left+Cn.width-er;break;case e.Position.RightTop:or=Cn.top,$n=Cn.left+Cn.width;break;case e.Position.RightCenter:or=Cn.top+Cn.height/2-Zn/2,$n=Cn.left+Cn.width;break;case e.Position.RightBottom:or=Cn.top+Cn.height-Zn,$n=Cn.left+Cn.width;break;case e.Position.BottomLeft:or=Cn.top+Cn.height,$n=Cn.left;break;case e.Position.BottomCenter:or=Cn.top+Cn.height,$n=Cn.left+Cn.width/2-er/2;break;case e.Position.BottomRight:or=Cn.top+Cn.height,$n=Cn.left+Cn.width-er;break;case e.Position.LeftTop:or=Cn.top,$n=Cn.left-er;break;case e.Position.LeftCenter:or=Cn.top+Cn.height/2-Zn/2,$n=Cn.left-er;break;case e.Position.LeftBottom:or=Cn.top+Cn.height-Zn,$n=Cn.left-er}return{left:$n+(Rn.left||0),top:or+(Rn.top||0)}}(nn,Ut,Dt,zt),Qt=Jt.top,bn=Jt.left;nn.style.top="".concat(Qt-It.top,"px"),nn.style.left="".concat(bn-It.left,"px")}},[])},Gt=function(b){var pt,Ft=b.customClassName,Dt=b.position;return a.createElement("div",{className:dt((pt={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Dt===e.Position.TopLeft,"rpv-core__arrow--tc":Dt===e.Position.TopCenter,"rpv-core__arrow--tr":Dt===e.Position.TopRight,"rpv-core__arrow--rt":Dt===e.Position.RightTop,"rpv-core__arrow--rc":Dt===e.Position.RightCenter,"rpv-core__arrow--rb":Dt===e.Position.RightBottom,"rpv-core__arrow--bl":Dt===e.Position.BottomLeft,"rpv-core__arrow--bc":Dt===e.Position.BottomCenter,"rpv-core__arrow--br":Dt===e.Position.BottomRight,"rpv-core__arrow--lt":Dt===e.Position.LeftTop,"rpv-core__arrow--lc":Dt===e.Position.LeftCenter,"rpv-core__arrow--lb":Dt===e.Position.LeftBottom},pt["".concat(Ft)]=Ft!=="",pt))})},tn=function(b){var pt=b.ariaControlsSuffix,Ft=b.children,Dt=b.closeOnClickOutside,zt=b.offset,Ut=b.position,nn=b.targetRef,Yt=b.onClose,It=a.useRef(),Jt=a.useRef(),Qt=a.useRef(),bn=a.useContext(ft).direction===e.TextDirection.RightToLeft;nt(Dt,It,Yt),Rt(It,nn,Qt,Ut,zt),lt(function(){var wn=Jt.current;if(wn){var Fn=.75*document.body.clientHeight;wn.getBoundingClientRect().height>=Fn&&(wn.style.overflow="auto",wn.style.maxHeight="".concat(Fn,"px"))}},[]);var En="rpv-core__popover-body-inner-".concat(pt);return a.createElement(a.Fragment,null,a.createElement("div",{ref:Qt,style:{left:0,position:"absolute",top:0}}),a.createElement("div",{"aria-describedby":En,className:dt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":bn}),id:"rpv-core__popover-body-".concat(pt),ref:It,role:"dialog",tabIndex:-1},a.createElement(Gt,{customClassName:"rpv-core__popover-body-arrow",position:Ut}),a.createElement("div",{id:En,ref:Jt},Ft)))},hn=function(b){var pt=b.closeOnEscape,Ft=b.onClose,Dt=a.useRef();return vt(function(){Dt.current&&pt&&Ft()}),a.createElement("div",{className:"rpv-core__popover-overlay",ref:Dt})},Sn=function(b){var pt=b.ariaControlsSuffix,Ft=b.children,Dt=b.contentRef,zt=b.offset,Ut=b.position,nn=b.targetRef,Yt=a.useRef(),It=a.useContext(ft).direction===e.TextDirection.RightToLeft;return Rt(Dt,nn,Yt,Ut,zt),a.createElement(a.Fragment,null,a.createElement("div",{ref:Yt,style:{left:0,position:"absolute",top:0}}),a.createElement("div",{className:dt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":It}),id:"rpv-core__tooltip-body-".concat(pt),ref:Dt,role:"tooltip"},a.createElement(Gt,{customClassName:"rpv-core__tooltip-body-arrow",position:Ut}),a.createElement("div",{className:"rpv-core__tooltip-body-content"},Ft)))};e.FullScreenMode=void 0,(un=e.FullScreenMode||(e.FullScreenMode={})).Normal="Normal",un.Entering="Entering",un.Entered="Entered",un.EnteredCompletely="EnteredCompletely",un.Exitting="Exitting",un.Exited="Exited",e.LayerRenderStatus=void 0,(dn=e.LayerRenderStatus||(e.LayerRenderStatus={}))[dn.PreRender=0]="PreRender",dn[dn.DidRender=1]="DidRender",e.PageMode=void 0,(pn=e.PageMode||(e.PageMode={})).Attachments="UseAttachments",pn.Bookmarks="UseOutlines",pn.ContentGroup="UseOC",pn.Default="UserNone",pn.FullScreen="FullScreen",pn.Thumbnails="UseThumbs",e.PasswordStatus=void 0,(yn=e.PasswordStatus||(e.PasswordStatus={})).RequiredPassword="RequiredPassword",yn.WrongPassword="WrongPassword",e.RotateDirection=void 0,(_n=e.RotateDirection||(e.RotateDirection={})).Backward="Backward",_n.Forward="Forward",e.ScrollMode=void 0,(Zt=e.ScrollMode||(e.ScrollMode={})).Page="Page",Zt.Horizontal="Horizontal",Zt.Vertical="Vertical",Zt.Wrapped="Wrapped",e.SpecialZoomLevel=void 0,(en=e.SpecialZoomLevel||(e.SpecialZoomLevel={})).ActualSize="ActualSize",en.PageFit="PageFit",en.PageWidth="PageWidth",e.ViewMode=void 0,(_t=e.ViewMode||(e.ViewMode={})).DualPage="DualPage",_t.DualPageWithCover="DualPageWithCover",_t.SinglePage="SinglePage";var mn,$t=function(b,pt){return b.reduce(function(Ft,Dt,zt){return zt%pt?Ft[Ft.length-1].push(Dt):Ft.push([Dt]),Ft},[])},Tn=function(b,pt){switch(pt[1].name){case"XYZ":return{bottomOffset:function(Ft,Dt){return pt[3]===null?Dt:pt[3]},leftOffset:function(Ft,Dt){return pt[2]===null?0:pt[2]},pageIndex:b,scaleTo:pt[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:b,scaleTo:e.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:pt[2],leftOffset:0,pageIndex:b,scaleTo:e.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:b,scaleTo:1}}},xn=new Map,nr=new Map,Yn=function(b,pt){return"".concat(b.loadingTask.docId,"___").concat(pt.num,"R").concat(pt.gen===0?"":pt.gen)},fr=function(b,pt,Ft){xn.set(Yn(b,pt),Ft)},In=function(b,pt){if(!b)return Promise.reject("The document is not loaded yet");var Ft="".concat(b.loadingTask.docId,"___").concat(pt),Dt=nr.get(Ft);return Dt?Promise.resolve(Dt):new Promise(function(zt,Ut){b.getPage(pt+1).then(function(nn){nr.set(Ft,nn),nn.ref&&fr(b,nn.ref,pt),zt(nn)})})},Wn=function(b,pt){return new Promise(function(Ft){new Promise(function(Dt){typeof pt=="string"?b.getDestination(pt).then(function(zt){Dt(zt)}):Dt(pt)}).then(function(Dt){if(typeof Dt[0]=="object"&&Dt[0]!==null){var zt=Dt[0],Ut=function(Yt,It){var Jt=Yn(Yt,It);return xn.has(Jt)?xn.get(Jt):null}(b,zt);Ut===null?b.getPageIndex(zt).then(function(Yt){fr(b,zt,Yt),Wn(b,pt).then(function(It){return Ft(It)})}):Ft(Tn(Ut,Dt))}else{var nn=Tn(Dt[0],Dt);Ft(nn)}})})};(function(b){b[b.Solid=1]="Solid",b[b.Dashed=2]="Dashed",b[b.Beveled=3]="Beveled",b[b.Inset=4]="Inset",b[b.Underline=5]="Underline"})(mn||(mn={}));var ar,wr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),gn=function(b,pt,Ft,Dt){var zt=parseInt(b,10);return zt>=pt&&zt<=Ft?zt:Dt},qt=function(b){return b.contentsObj?b.contentsObj.str:b.contents||""},Kt=function(b){return b.titleObj?b.titleObj.str:b.title||""},Dn=function(b){var pt=b.annotation,Ft=a.useContext(ft).direction,Dt=Kt(pt),zt=qt(pt),Ut=Ft===e.TextDirection.RightToLeft,nn=a.useRef(),Yt="";if(pt.modificationDate){var It=function(Jt){var Qt=wr.exec(Jt);if(!Qt)return null;var bn=parseInt(Qt[1],10),En=gn(Qt[2],1,12,1)-1,wn=gn(Qt[3],1,31,1),Fn=gn(Qt[4],0,23,0),Rn=gn(Qt[5],0,59,0),Cn=gn(Qt[6],0,59,0),mr=Qt[7]||"Z",Zn=gn(Qt[8],0,23,0),er=gn(Qt[9],0,59,0);switch(mr){case"-":Fn+=Zn,Rn+=er;break;case"+":Fn-=Zn,Rn-=er}return new Date(Date.UTC(bn,En,wn,Fn,Rn,Cn))}(pt.modificationDate);Yt=It?"".concat(It.toLocaleDateString(),", ").concat(It.toLocaleTimeString()):""}return a.useLayoutEffect(function(){if(nn.current){var Jt=document.querySelector('[data-annotation-id="'.concat(pt.id,'"]'));if(Jt){var Qt=Jt;return Qt.style.zIndex+=1,function(){Qt.style.zIndex="".concat(parseInt(Qt.style.zIndex,10)-1)}}}},[]),a.createElement("div",{ref:nn,className:dt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Ut}),style:{top:pt.annotationType===e.AnnotationType.Popup?"":"100%"}},Dt&&a.createElement(a.Fragment,null,a.createElement("div",{className:dt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Ut,"rpv-core__annotation-popup-title--rtl":Ut})},Dt),a.createElement("div",{className:"rpv-core__annotation-popup-date"},Yt)),zt&&a.createElement("div",{className:"rpv-core__annotation-popup-content"},zt.split(`
`).map(function(Jt,Qt){return a.createElement(a.Fragment,{key:Qt},Jt,a.createElement("br",null))})))};(function(b){b.Click="Click",b.Hover="Hover"})(ar||(ar={}));var jn,qn=function(b){var pt,Ft=b.annotation,Dt=b.children,zt=b.ignoreBorder,Ut=b.hasPopup,nn=b.isRenderable,Yt=b.page,It=b.viewport,Jt=Ft.rect,Qt=function(){var rr=Ht(!1),br=rr.opened,Er=rr.toggle,Ar=a.useState(ar.Hover),xr=Ar[0],Pr=Ar[1];return{opened:br,closeOnHover:function(){xr===ar.Hover&&Er(e.ToggleStatus.Close)},openOnHover:function(){xr===ar.Hover&&Er(e.ToggleStatus.Open)},toggleOnClick:function(){switch(xr){case ar.Click:br&&Pr(ar.Hover),Er(e.ToggleStatus.Toggle);break;case ar.Hover:Pr(ar.Click),Er(e.ToggleStatus.Open)}}}}(),bn=Qt.closeOnHover,En=Qt.opened,wn=Qt.openOnHover,Fn=Qt.toggleOnClick,Rn=(pt=[Jt[0],Yt.view[3]+Yt.view[1]-Jt[1],Jt[2],Yt.view[3]+Yt.view[1]-Jt[3]],[Math.min(pt[0],pt[2]),Math.min(pt[1],pt[3]),Math.max(pt[0],pt[2]),Math.max(pt[1],pt[3])]),Cn=Jt[2]-Jt[0],mr=Jt[3]-Jt[1],Zn={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!zt&&Ft.borderStyle.width>0){switch(Ft.borderStyle.style){case mn.Dashed:Zn.borderStyle="dashed";break;case mn.Solid:Zn.borderStyle="solid";break;case mn.Underline:Zn=Object.assign({borderBottomStyle:"solid"},Zn);case mn.Beveled:case mn.Inset:}var er=Ft.borderStyle.width;Zn.borderWidth="".concat(er,"px"),Ft.borderStyle.style!==mn.Underline&&(Cn-=2*er,mr-=2*er);var or=Ft.borderStyle,$n=or.horizontalCornerRadius,lr=or.verticalCornerRadius;($n>0||lr>0)&&(Zn.borderRadius="".concat($n,"px / ").concat(lr,"px")),Ft.color?Zn.borderColor="rgb(".concat(0|Ft.color[0],", ").concat(0|Ft.color[1],", ").concat(0|Ft.color[2],")"):Zn.borderWidth="0"}return a.createElement(a.Fragment,null,nn&&Dt({popup:{opened:En,closeOnHover:bn,openOnHover:wn,toggleOnClick:Fn},slot:{attrs:{style:Object.assign({height:"".concat(mr,"px"),left:"".concat(Rn[0],"px"),top:"".concat(Rn[1],"px"),transform:"matrix(".concat(It.transform.join(","),")"),transformOrigin:"-".concat(Rn[0],"px -").concat(Rn[1],"px"),width:"".concat(Cn,"px")},Zn)},children:a.createElement(a.Fragment,null,Ut&&En&&a.createElement(Dn,{annotation:Ft}))}}))},Mt=function(b){var pt=b.annotation,Ft=b.page,Dt=b.viewport,zt=pt.hasPopup===!1,Ut=Kt(pt),nn=qt(pt),Yt=!!(pt.hasPopup||Ut||nn);return a.createElement(qn,{annotation:pt,hasPopup:zt,ignoreBorder:!0,isRenderable:Yt,page:Ft,viewport:Dt},function(It){return a.createElement("div",_e({},It.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":pt.id,onClick:It.popup.toggleOnClick,onMouseEnter:It.popup.openOnHover,onMouseLeave:It.popup.closeOnHover}),It.slot.children)})},fn=function(b){var pt=b.annotation,Ft=b.page,Dt=b.viewport,zt=pt.hasPopup===!1,Ut=Kt(pt),nn=qt(pt),Yt=!!(pt.hasPopup||Ut||nn),It=pt.rect,Jt=It[2]-It[0],Qt=It[3]-It[1],bn=pt.borderStyle.width;return a.createElement(qn,{annotation:pt,hasPopup:zt,ignoreBorder:!0,isRenderable:Yt,page:Ft,viewport:Dt},function(En){return a.createElement("div",_e({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":pt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),a.createElement("svg",{height:"".concat(Qt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Jt," ").concat(Qt),width:"".concat(Jt,"px")},a.createElement("circle",{cy:Qt/2,fill:"none",rx:Jt/2-bn/2,ry:Qt/2-bn/2,stroke:"transparent",strokeWidth:bn||1})),En.slot.children)})},Pn=function(b){var pt=b.annotation,Ft=b.page,Dt=b.viewport,zt=Kt(pt),Ut=qt(pt),nn=!(pt.hasPopup!==!1||!zt&&!Ut),Yt=function(){var It,Jt,Qt,bn,En=pt.file;En&&(It=En.filename,Jt=En.content,Qt=typeof Jt=="string"?"":URL.createObjectURL(new Blob([Jt],{type:""})),(bn=document.createElement("a")).style.display="none",bn.href=Qt||It,bn.setAttribute("download",function(wn){var Fn=wn.split("/").pop();return Fn?Fn.split("#")[0].split("?")[0]:wn}(It)),document.body.appendChild(bn),bn.click(),document.body.removeChild(bn),Qt&&URL.revokeObjectURL(Qt))};return a.createElement(qn,{annotation:pt,hasPopup:nn,ignoreBorder:!0,isRenderable:!0,page:Ft,viewport:Dt},function(It){return a.createElement("div",_e({},It.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":pt.id,onClick:It.popup.toggleOnClick,onDoubleClick:Yt,onMouseEnter:It.popup.openOnHover,onMouseLeave:It.popup.closeOnHover}),It.slot.children)})},zn=function(b){var pt=b.annotation,Ft=b.page,Dt=b.viewport,zt=pt.hasPopup===!1,Ut=Kt(pt),nn=qt(pt),Yt=!!(pt.hasPopup||Ut||nn);return a.createElement(qn,{annotation:pt,hasPopup:zt,ignoreBorder:!0,isRenderable:Yt,page:Ft,viewport:Dt},function(It){return a.createElement("div",_e({},It.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":pt.id,onClick:It.popup.toggleOnClick,onMouseEnter:It.popup.openOnHover,onMouseLeave:It.popup.closeOnHover}),It.slot.children)})},Hn=function(b){var pt=b.annotation,Ft=b.page,Dt=b.viewport,zt=Kt(pt),Ut=qt(pt),nn=!(!zt&&!Ut),Yt=!pt.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(pt.parentType)!==-1;return lt(function(){if(pt.parentId){var It=document.querySelector('[data-annotation-id="'.concat(pt.parentId,'"]')),Jt=document.querySelector('[data-annotation-id="'.concat(pt.id,'"]'));if(It&&Jt){var Qt=parseFloat(It.style.left),bn=parseFloat(It.style.top)+parseFloat(It.style.height);Jt.style.left="".concat(Qt,"px"),Jt.style.top="".concat(bn,"px"),Jt.style.transformOrigin="-".concat(Qt,"px -").concat(bn,"px")}}},[]),a.createElement(qn,{annotation:pt,hasPopup:Yt,ignoreBorder:!1,isRenderable:nn,page:Ft,viewport:Dt},function(It){return a.createElement("div",_e({},It.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":pt.id}),a.createElement(Dn,{annotation:pt}))})},Ln=function(b){var pt=b.annotation,Ft=b.childAnnotation,Dt=b.page,zt=b.viewport,Ut=pt.hasPopup===!1,nn=Kt(pt),Yt=qt(pt),It=!!(pt.hasPopup||nn||Yt);if(pt.quadPoints&&pt.quadPoints.length>0){var Jt=pt.quadPoints.map(function(Qt){return Object.assign({},pt,{rect:[Qt[2].x,Qt[2].y,Qt[1].x,Qt[1].y],quadPoints:[]})});return a.createElement(a.Fragment,null,Jt.map(function(Qt,bn){return a.createElement(Ln,{key:bn,annotation:Qt,childAnnotation:Ft,page:Dt,viewport:zt})}))}return a.createElement(qn,{annotation:pt,hasPopup:Ut,ignoreBorder:!0,isRenderable:It,page:Dt,viewport:zt},function(Qt){return a.createElement(a.Fragment,null,a.createElement("div",_e({},Qt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":pt.id,onClick:Qt.popup.toggleOnClick,onMouseEnter:Qt.popup.openOnHover,onMouseLeave:Qt.popup.closeOnHover}),Qt.slot.children),Ft&&Ft.annotationType===e.AnnotationType.Popup&&Qt.popup.opened&&a.createElement(Hn,{annotation:Ft,page:Dt,viewport:zt}))})},kt=function(b){var pt=b.annotation,Ft=b.page,Dt=b.viewport,zt=pt.hasPopup===!1,Ut=Kt(pt),nn=qt(pt),Yt=!!(pt.hasPopup||Ut||nn),It=pt.rect,Jt=It[2]-It[0],Qt=It[3]-It[1],bn=pt.borderStyle.width;return a.createElement(qn,{annotation:pt,hasPopup:zt,ignoreBorder:!0,isRenderable:Yt,page:Ft,viewport:Dt},function(En){return a.createElement("div",_e({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":pt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),pt.inkLists&&pt.inkLists.length&&a.createElement("svg",{height:"".concat(Qt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Jt," ").concat(Qt),width:"".concat(Jt,"px")},pt.inkLists.map(function(wn,Fn){return a.createElement("polyline",{key:Fn,fill:"none",stroke:"transparent",strokeWidth:bn||1,points:wn.map(function(Rn){return"".concat(Rn.x-It[0],",").concat(It[3]-Rn.y)}).join(" ")})})),En.slot.children)})},bt=function(b){var pt=b.annotation,Ft=b.page,Dt=b.viewport,zt=pt.hasPopup===!1,Ut=Kt(pt),nn=qt(pt),Yt=!!(pt.hasPopup||Ut||nn),It=pt.rect,Jt=It[2]-It[0],Qt=It[3]-It[1],bn=pt.borderStyle.width;return a.createElement(qn,{annotation:pt,hasPopup:zt,ignoreBorder:!0,isRenderable:Yt,page:Ft,viewport:Dt},function(En){return a.createElement("div",_e({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":pt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),a.createElement("svg",{height:"".concat(Qt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Jt," ").concat(Qt),width:"".concat(Jt,"px")},a.createElement("line",{stroke:"transparent",strokeWidth:bn||1,x1:It[2]-pt.lineCoordinates[0],x2:It[2]-pt.lineCoordinates[2],y1:It[3]-pt.lineCoordinates[1],y2:It[3]-pt.lineCoordinates[3]})),En.slot.children)})},Bt=/^([^\w]*)(javascript|data|vbscript)/im,ln=/&#(\w+)(^\w|;)?/g,cn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,vn=/^([^:]+):/gm,An=function(b,pt){var Ft,Dt=(Ft=b||"",Ft.replace(ln,function(Yt,It){return String.fromCharCode(It)})).replace(cn,"").trim();if(!Dt)return pt;var zt=Dt[0];if(zt==="."||zt==="/")return Dt;var Ut=Dt.match(vn);if(!Ut)return Dt;var nn=Ut[0];return Bt.test(nn)?pt:Dt},Bn=function(b){var pt,Ft=b.annotation,Dt=b.annotationContainerRef,zt=b.doc,Ut=b.outlines,nn=b.page,Yt=b.pageIndex,It=b.scale,Jt=b.viewport,Qt=b.onExecuteNamedAction,bn=b.onJumpFromLinkAnnotation,En=b.onJumpToDest,wn=a.useRef(),Fn=Ut&&Ut.length&&Ft.dest&&typeof Ft.dest=="string"?(pt=Ut.find(function(Zn){return Zn.dest===Ft.dest}))===null||pt===void 0?void 0:pt.title:"",Rn=!!(Ft.url||Ft.dest||Ft.action||Ft.unsafeUrl),Cn={};if(Ft.url||Ft.unsafeUrl){var mr=An(Ft.url||Ft.unsafeUrl,"");mr?Cn={"data-target":"external",href:mr,rel:"noopener noreferrer nofollow",target:Ft.newWindow?"_blank":"",title:mr}:Rn=!1}else Cn={href:"","data-annotation-link":Ft.id,onClick:function(Zn){Zn.preventDefault(),Ft.action?Qt(Ft.action):Wn(zt,Ft.dest).then(function(er){var or=wn.current,$n=Dt.current;if(or&&$n){var lr=or.getBoundingClientRect();$n.style.setProperty("height","100%"),$n.style.setProperty("width","100%");var rr=$n.getBoundingClientRect();$n.style.removeProperty("height"),$n.style.removeProperty("width");var br=(lr.left-rr.left)/It,Er=(rr.bottom-lr.bottom+lr.height)/It;bn({bottomOffset:Er,label:Fn,leftOffset:br,pageIndex:Yt})}En(er)})}};return Fn&&(Cn=Object.assign({},Cn,{title:Fn,"aria-label":Fn})),a.createElement(qn,{annotation:Ft,hasPopup:!1,ignoreBorder:!1,isRenderable:Rn,page:nn,viewport:Jt},function(Zn){return a.createElement("div",_e({},Zn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Ft.id,"data-testid":"core__annotation--link-".concat(Ft.id)}),a.createElement("a",_e({ref:wn},Cn)))})},On=function(b){var pt=b.annotation,Ft=b.page,Dt=b.viewport,zt=pt.hasPopup===!1,Ut=Kt(pt),nn=qt(pt),Yt=!!(pt.hasPopup||Ut||nn),It=pt.rect,Jt=It[2]-It[0],Qt=It[3]-It[1],bn=pt.borderStyle.width;return a.createElement(qn,{annotation:pt,hasPopup:zt,ignoreBorder:!0,isRenderable:Yt,page:Ft,viewport:Dt},function(En){return a.createElement("div",_e({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":pt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),pt.vertices&&pt.vertices.length&&a.createElement("svg",{height:"".concat(Qt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Jt," ").concat(Qt),width:"".concat(Jt,"px")},a.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:bn||1,points:pt.vertices.map(function(wn){return"".concat(wn.x-It[0],",").concat(It[3]-wn.y)}).join(" ")})),En.slot.children)})},Mn=function(b){var pt=b.annotation,Ft=b.page,Dt=b.viewport,zt=pt.hasPopup===!1,Ut=Kt(pt),nn=qt(pt),Yt=!!(pt.hasPopup||Ut||nn),It=pt.rect,Jt=It[2]-It[0],Qt=It[3]-It[1],bn=pt.borderStyle.width;return a.createElement(qn,{annotation:pt,hasPopup:zt,ignoreBorder:!0,isRenderable:Yt,page:Ft,viewport:Dt},function(En){return a.createElement("div",_e({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":pt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),pt.vertices&&pt.vertices.length&&a.createElement("svg",{height:"".concat(Qt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Jt," ").concat(Qt),width:"".concat(Jt,"px")},a.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:bn||1,points:pt.vertices.map(function(wn){return"".concat(wn.x-It[0],",").concat(It[3]-wn.y)}).join(" ")})),En.slot.children)})},sr=function(b){var pt=b.annotation,Ft=b.page,Dt=b.viewport,zt=pt.hasPopup===!1,Ut=Kt(pt),nn=qt(pt),Yt=!!(pt.hasPopup||Ut||nn),It=pt.rect,Jt=It[2]-It[0],Qt=It[3]-It[1],bn=pt.borderStyle.width;return a.createElement(qn,{annotation:pt,hasPopup:zt,ignoreBorder:!0,isRenderable:Yt,page:Ft,viewport:Dt},function(En){return a.createElement("div",_e({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":pt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),a.createElement("svg",{height:"".concat(Qt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Jt," ").concat(Qt),width:"".concat(Jt,"px")},a.createElement("rect",{height:Qt-bn,fill:"none",stroke:"transparent",strokeWidth:bn||1,x:bn/2,y:bn/2,width:Jt-bn})),En.slot.children)})},Nn=function(b){var pt=b.annotation,Ft=b.page,Dt=b.viewport,zt=pt.hasPopup===!1,Ut=Kt(pt),nn=qt(pt),Yt=!!(pt.hasPopup||Ut||nn);return a.createElement(qn,{annotation:pt,hasPopup:zt,ignoreBorder:!0,isRenderable:Yt,page:Ft,viewport:Dt},function(It){return a.createElement("div",_e({},It.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":pt.id,onClick:It.popup.toggleOnClick,onMouseEnter:It.popup.openOnHover,onMouseLeave:It.popup.closeOnHover}),It.slot.children)})},Vn=function(b){var pt=b.annotation,Ft=b.page,Dt=b.viewport,zt=pt.hasPopup===!1,Ut=Kt(pt),nn=qt(pt),Yt=!!(pt.hasPopup||Ut||nn);return a.createElement(qn,{annotation:pt,hasPopup:zt,ignoreBorder:!0,isRenderable:Yt,page:Ft,viewport:Dt},function(It){return a.createElement("div",_e({},It.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":pt.id,onClick:It.popup.toggleOnClick,onMouseEnter:It.popup.openOnHover,onMouseLeave:It.popup.closeOnHover}),It.slot.children)})},Jn=function(b){var pt=b.annotation,Ft=b.page,Dt=b.viewport,zt=pt.hasPopup===!1,Ut=Kt(pt),nn=qt(pt),Yt=!!(pt.hasPopup||Ut||nn);return a.createElement(qn,{annotation:pt,hasPopup:zt,ignoreBorder:!0,isRenderable:Yt,page:Ft,viewport:Dt},function(It){return a.createElement("div",_e({},It.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":pt.id,onClick:It.popup.toggleOnClick,onMouseEnter:It.popup.openOnHover,onMouseLeave:It.popup.closeOnHover}),It.slot.children)})},ur=function(){return a.createElement(gt,{size:16},a.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),a.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),a.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),a.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},yr=function(){return a.createElement(gt,{size:16},a.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),a.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),a.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),a.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),a.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),a.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),a.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),a.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),a.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),a.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Cr=function(){return a.createElement(gt,{size:16},a.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),a.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},$r=function(){return a.createElement(gt,{size:16},a.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),a.createElement("path",{d:"M6 4.5L6 0.5"}),a.createElement("path",{d:"M18 4.5L18 0.5"}),a.createElement("path",{d:"M10 4.5L10 0.5"}),a.createElement("path",{d:"M14 4.5L14 0.5"}))},jr=function(){return a.createElement(gt,{size:16},a.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),a.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),a.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},ts=function(){return a.createElement(gt,{size:16},a.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},rs=function(b){var pt=b.annotation,Ft=b.childAnnotation,Dt=b.page,zt=b.viewport,Ut=pt.hasPopup===!1,nn=Kt(pt),Yt=qt(pt),It=!!(pt.hasPopup||nn||Yt),Jt=pt.name?pt.name.toLowerCase():"";return a.createElement(qn,{annotation:pt,hasPopup:Ut,ignoreBorder:!1,isRenderable:It,page:Dt,viewport:zt},function(Qt){return a.createElement(a.Fragment,null,a.createElement("div",_e({},Qt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":pt.id,onClick:Qt.popup.toggleOnClick,onMouseEnter:Qt.popup.openOnHover,onMouseLeave:Qt.popup.closeOnHover}),Jt&&a.createElement("div",{className:"rpv-core__annotation-text-icon"},Jt==="check"&&a.createElement(g,null),Jt==="comment"&&a.createElement(ur,null),Jt==="help"&&a.createElement(yr,null),Jt==="insert"&&a.createElement(ts,null),Jt==="key"&&a.createElement(Cr,null),Jt==="note"&&a.createElement($r,null),(Jt==="newparagraph"||Jt==="paragraph")&&a.createElement(jr,null)),Qt.slot.children),Ft&&Ft.annotationType===e.AnnotationType.Popup&&Qt.popup.opened&&a.createElement(Hn,{annotation:Ft,page:Dt,viewport:zt}))})},is=function(b){var pt=b.annotation,Ft=b.page,Dt=b.viewport,zt=pt.hasPopup===!1,Ut=Kt(pt),nn=qt(pt),Yt=!!(pt.hasPopup||Ut||nn);return a.createElement(qn,{annotation:pt,hasPopup:zt,ignoreBorder:!0,isRenderable:Yt,page:Ft,viewport:Dt},function(It){return a.createElement("div",_e({},It.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":pt.id,onClick:It.popup.toggleOnClick,onMouseEnter:It.popup.openOnHover,onMouseLeave:It.popup.closeOnHover}),It.slot.children)})},Ds=function(b){var pt=b.annotations,Ft=b.doc,Dt=b.outlines,zt=b.page,Ut=b.pageIndex,nn=b.plugins,Yt=b.rotation,It=b.scale,Jt=b.onExecuteNamedAction,Qt=b.onJumpFromLinkAnnotation,bn=b.onJumpToDest,En=a.useRef(),wn=zt.getViewport({rotation:Yt,scale:It}).clone({dontFlip:!0}),Fn=pt.filter(function(Rn){return!Rn.parentId});return lt(function(){var Rn=En.current;Rn&&nn.forEach(function(Cn){Cn.onAnnotationLayerRender&&Cn.onAnnotationLayerRender({annotations:Fn,container:Rn,pageIndex:Ut,rotation:Yt,scale:It})})},[]),a.createElement("div",{ref:En,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Ut)},Fn.map(function(Rn){var Cn=pt.find(function(mr){return mr.parentId===Rn.id});switch(Rn.annotationType){case e.AnnotationType.Caret:return a.createElement(Mt,{key:Rn.id,annotation:Rn,page:zt,viewport:wn});case e.AnnotationType.Circle:return a.createElement(fn,{key:Rn.id,annotation:Rn,page:zt,viewport:wn});case e.AnnotationType.FileAttachment:return a.createElement(Pn,{key:Rn.id,annotation:Rn,page:zt,viewport:wn});case e.AnnotationType.FreeText:return a.createElement(zn,{key:Rn.id,annotation:Rn,page:zt,viewport:wn});case e.AnnotationType.Highlight:return a.createElement(Ln,{key:Rn.id,annotation:Rn,childAnnotation:Cn,page:zt,viewport:wn});case e.AnnotationType.Ink:return a.createElement(kt,{key:Rn.id,annotation:Rn,page:zt,viewport:wn});case e.AnnotationType.Line:return a.createElement(bt,{key:Rn.id,annotation:Rn,page:zt,viewport:wn});case e.AnnotationType.Link:return a.createElement(Bn,{key:Rn.id,annotation:Rn,annotationContainerRef:En,doc:Ft,outlines:Dt,page:zt,pageIndex:Ut,scale:It,viewport:wn,onExecuteNamedAction:Jt,onJumpFromLinkAnnotation:Qt,onJumpToDest:bn});case e.AnnotationType.Polygon:return a.createElement(On,{key:Rn.id,annotation:Rn,page:zt,viewport:wn});case e.AnnotationType.Polyline:return a.createElement(Mn,{key:Rn.id,annotation:Rn,page:zt,viewport:wn});case e.AnnotationType.Popup:return a.createElement(Hn,{key:Rn.id,annotation:Rn,page:zt,viewport:wn});case e.AnnotationType.Square:return a.createElement(sr,{key:Rn.id,annotation:Rn,page:zt,viewport:wn});case e.AnnotationType.Squiggly:return a.createElement(Nn,{key:Rn.id,annotation:Rn,page:zt,viewport:wn});case e.AnnotationType.Stamp:return a.createElement(Vn,{key:Rn.id,annotation:Rn,page:zt,viewport:wn});case e.AnnotationType.StrikeOut:return a.createElement(Jn,{key:Rn.id,annotation:Rn,page:zt,viewport:wn});case e.AnnotationType.Text:return a.createElement(rs,{key:Rn.id,annotation:Rn,childAnnotation:Cn,page:zt,viewport:wn});case e.AnnotationType.Underline:return a.createElement(is,{key:Rn.id,annotation:Rn,page:zt,viewport:wn});default:return a.createElement(a.Fragment,{key:Rn.id})}}))},uu=function(b){var pt=b.page,Ft=b.renderAnnotations,Dt=jt(),zt=a.useState({loading:!0,annotations:[]}),Ut=zt[0],nn=zt[1];return a.useEffect(function(){pt.getAnnotations({intent:"display"}).then(function(Yt){Dt.current&&nn({loading:!1,annotations:Yt})})},[]),Ut.loading?a.createElement(a.Fragment,null):Ft(Ut.annotations)},du=function(b){var pt=b.doc,Ft=b.outlines,Dt=b.page,zt=b.pageIndex,Ut=b.plugins,nn=b.rotation,Yt=b.scale,It=b.onExecuteNamedAction,Jt=b.onJumpFromLinkAnnotation,Qt=b.onJumpToDest;return a.createElement(uu,{page:Dt,renderAnnotations:function(bn){return a.createElement(Ds,{annotations:bn,doc:pt,outlines:Ft,page:Dt,pageIndex:zt,plugins:Ut,rotation:nn,scale:Yt,onExecuteNamedAction:It,onJumpFromLinkAnnotation:Jt,onJumpToDest:Qt})}})},Is=function(b,pt){var Ft=b%pt;return Ft===0?b:Math.floor(b-Ft)},hu=function(b){var pt=b.canvasLayerRef,Ft=b.height,Dt=b.page,zt=b.pageIndex,Ut=b.plugins,nn=b.rotation,Yt=b.scale,It=b.width,Jt=b.onRenderCanvasCompleted,Qt=a.useRef();return lt(function(){var bn=Qt.current;bn&&bn.cancel();var En=pt.current;En.removeAttribute("data-testid"),Ut.forEach(function(rr){rr.onCanvasLayerRender&&rr.onCanvasLayerRender({ele:En,pageIndex:zt,rotation:nn,scale:Yt,status:e.LayerRenderStatus.PreRender})});var wn=Dt.getViewport({rotation:nn,scale:Yt}),Fn=window.devicePixelRatio||1,Rn=Math.sqrt(16777216/(wn.width*wn.height)),Cn=Fn>Rn;Cn?En.style.transform="scale(1, 1)":En.style.removeProperty("transform");var mr=Math.min(Rn,Fn),Zn=function(rr,br){var Er,Ar;if(Math.floor(rr)===rr)return[rr,1];var xr=1/rr;if(xr>br)return[1,br];if(Math.floor(xr)===xr)return[1,xr];for(var Pr=rr>1?xr:rr,Vr=0,Or=1,Wr=1,zr=1;;){var Ur=Vr+Wr,Hr=Or+zr;if(Hr>br)break;Pr<=Ur/Hr?(Wr=(Er=[Ur,Hr])[0],zr=Er[1]):(Vr=(Ar=[Ur,Hr])[0],Or=Ar[1])}return Pr<(Vr/Or+Wr/zr)/2?Pr===rr?[Vr,Or]:[Or,Vr]:Pr===rr?[Wr,zr]:[zr,Wr]}(mr,8),er=Zn[0],or=Zn[1];En.width=Is(wn.width*mr,er),En.height=Is(wn.height*mr,er),En.style.width="".concat(Is(wn.width,or),"px"),En.style.height="".concat(Is(wn.height,or),"px"),En.hidden=!0;var $n=En.getContext("2d",{alpha:!1}),lr=Cn||Fn!==1?[mr,0,0,mr,0,0]:null;return Qt.current=Dt.render({canvasContext:$n,transform:lr,viewport:wn}),Qt.current.promise.then(function(){En.hidden=!1,En.setAttribute("data-testid","core__canvas-layer-".concat(zt)),Ut.forEach(function(rr){rr.onCanvasLayerRender&&rr.onCanvasLayerRender({ele:En,pageIndex:zt,rotation:nn,scale:Yt,status:e.LayerRenderStatus.DidRender})}),Jt()},function(){Jt()}),function(){En&&(En.width=0,En.height=0)}},[]),a.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Ft,"px"),width:"".concat(It,"px")}},a.createElement("canvas",{ref:pt}))},fu=function(b){var pt=b.height,Ft=b.page,Dt=b.rotation,zt=b.scale,Ut=b.width,nn=a.useRef();return lt(function(){var Yt=nn.current,It=Ft.getViewport({rotation:Dt,scale:zt});Ft.getOperatorList().then(function(Jt){(function(){var Qt=nn.current;Qt&&(Qt.innerHTML="")})(),new d.SVGGraphics(Ft.commonObjs,Ft.objs).getSVG(Jt,It).then(function(Qt){Qt.style.height="".concat(pt,"px"),Qt.style.width="".concat(Ut,"px"),Yt.appendChild(Qt)})})},[]),a.createElement("div",{className:"rpv-core__svg-layer",ref:nn})},pu=function(b){var pt=b.containerRef,Ft=b.page,Dt=b.pageIndex,zt=b.plugins,Ut=b.rotation,nn=b.scale,Yt=b.onRenderTextCompleted,It=a.useRef(),Jt=function(){var Qt=pt.current;Qt&&([].slice.call(Qt.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(bn){return Qt.removeChild(bn)}),[].slice.call(Qt.querySelectorAll('br[role="presentation"]')).forEach(function(bn){return Qt.removeChild(bn)}))};return lt(function(){var Qt=It.current;Qt&&Qt.cancel();var bn=pt.current;if(bn){bn.removeAttribute("data-testid");var En=Ft.getViewport({rotation:Ut,scale:nn});return zt.forEach(function(wn){wn.onTextLayerRender&&wn.onTextLayerRender({ele:bn,pageIndex:Dt,scale:nn,status:e.LayerRenderStatus.PreRender})}),Ft.getTextContent().then(function(wn){Jt(),It.current=d.renderTextLayer({container:bn,textContent:wn,textContentSource:wn,viewport:En}),It.current.promise.then(function(){bn.setAttribute("data-testid","core__text-layer-".concat(Dt)),[].slice.call(bn.children).forEach(function(Fn){Fn.classList.contains("rpv-core__text-layer-text--not")||Fn.classList.add("rpv-core__text-layer-text")}),zt.forEach(function(Fn){Fn.onTextLayerRender&&Fn.onTextLayerRender({ele:bn,pageIndex:Dt,scale:nn,status:e.LayerRenderStatus.DidRender})}),Yt()},function(){bn.removeAttribute("data-testid"),Yt()})}),function(){var wn;Jt(),(wn=It.current)===null||wn===void 0||wn.cancel()}}},[]),a.createElement("div",{className:"rpv-core__text-layer",ref:pt})},gu=function(b){var pt=b.doc,Ft=b.measureRef,Dt=b.outlines,zt=b.pageIndex,Ut=b.pageRotation,nn=b.pageSize,Yt=b.plugins,It=b.renderPage,Jt=b.renderQueueKey,Qt=b.rotation,bn=b.scale,En=b.shouldRender,wn=b.viewMode,Fn=b.onExecuteNamedAction,Rn=b.onJumpFromLinkAnnotation,Cn=b.onJumpToDest,mr=b.onRenderCompleted,Zn=b.onRotatePage,er=jt(),or=a.useState(null),$n=or[0],lr=or[1],rr=a.useState(!1),br=rr[0],Er=rr[1],Ar=a.useState(!1),xr=Ar[0],Pr=Ar[1],Vr=a.useRef(),Or=a.useRef(),Wr=Math.abs(Qt+Ut)%180==0,zr=nn.pageWidth*bn,Ur=nn.pageHeight*bn,Hr=Wr?zr:Ur,Br=Wr?Ur:zr,Qr=(nn.rotation+Qt+Ut)%360,ss=a.useRef(0),ns=It||function(qr){return a.createElement(a.Fragment,null,qr.canvasLayer.children,qr.textLayer.children,qr.annotationLayer.children)};return a.useEffect(function(){lr(null),Er(!1),Pr(!1)},[Ut,Qt,bn]),a.useEffect(function(){En&&er.current&&!$n&&In(pt,zt).then(function(qr){er.current&&(ss.current=Jt,lr(qr))})},[En,$n]),a.useEffect(function(){br&&xr&&(Jt!==ss.current?(lr(null),Er(!1),Pr(!1)):mr(zt))},[br,xr]),a.createElement("div",{className:dt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":wn===e.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":wn===e.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":wn===e.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(zt),ref:Ft,style:{height:"".concat(Br,"px"),width:"".concat(Hr,"px")}},$n?a.createElement(a.Fragment,null,ns({annotationLayer:{attrs:{},children:a.createElement(du,{doc:pt,outlines:Dt,page:$n,pageIndex:zt,plugins:Yt,rotation:Qr,scale:bn,onExecuteNamedAction:Fn,onJumpFromLinkAnnotation:Rn,onJumpToDest:Cn})},canvasLayer:{attrs:{},children:a.createElement(hu,{canvasLayerRef:Vr,height:Br,page:$n,pageIndex:zt,plugins:Yt,rotation:Qr,scale:bn,width:Hr,onRenderCanvasCompleted:function(){er.current&&Er(!0)}})},canvasLayerRendered:br,doc:pt,height:Br,pageIndex:zt,rotation:Qr,scale:bn,svgLayer:{attrs:{},children:a.createElement(fu,{height:Br,page:$n,rotation:Qr,scale:bn,width:Hr})},textLayer:{attrs:{},children:a.createElement(pu,{containerRef:Or,page:$n,pageIndex:zt,plugins:Yt,rotation:Qr,scale:bn,onRenderTextCompleted:function(){er.current&&Pr(!0)}})},textLayerRendered:xr,width:Hr,markRendered:mr,onRotatePage:function(qr){return Zn(zt,qr)}}),Yt.map(function(qr,Zr){return qr.renderPageLayer?a.createElement(a.Fragment,{key:Zr},qr.renderPageLayer({canvasLayerRef:Vr,canvasLayerRendered:br,doc:pt,height:Br,pageIndex:zt,rotation:Qr,scale:bn,textLayerRef:Or,textLayerRendered:xr,width:Hr})):a.createElement(a.Fragment,{key:Zr})})):a.createElement(at,{testId:"core__page-layer-loading-".concat(zt)}))},mu=function(b,pt){var Ft=pt.rect;return b.height!==Ft.height||b.width!==Ft.width?Ft:b};(function(b){b.Horizontal="Horizontal",b.Vertical="Vertical",b.Both="Both"})(jn||(jn={}));var vu=function(b){return 1-Math.pow(1-b,4)},Os=1e-4,Ko={left:0,top:0},Qo={capture:!1,passive:!0},yu=function(b){var pt=b.elementRef,Ft=b.enableSmoothScroll,Dt=b.isRtl,zt=b.scrollDirection,Ut=b.onSmoothScroll,nn=a.useState(Ko),Yt=nn[0],It=nn[1],Jt=a.useState(pt.current),Qt=Jt[0],bn=Jt[1],En=Dt?-1:1,wn=a.useRef(zt);wn.current=zt;var Fn=a.useRef(Ko),Rn=a.useRef(!0),Cn=a.useCallback(function(){Rn.current=!0,Ft&&It(Fn.current),Ut(!1)},[]),mr=a.useCallback(function(){if(Qt){switch(wn.current){case jn.Horizontal:Fn.current={left:En*Qt.scrollLeft,top:0};break;case jn.Both:Fn.current={left:En*Qt.scrollLeft,top:Qt.scrollTop};break;case jn.Vertical:default:Fn.current={left:0,top:Qt.scrollTop}}Ft&&!Rn.current||It(Fn.current)}},[Qt]);lt(function(){bn(pt.current)}),lt(function(){if(Qt)return Qt.addEventListener("scroll",mr,Qo),function(){Qt.removeEventListener("scroll",mr,Qo)}},[Qt]);var Zn=a.useCallback(function(er,or){var $n=pt.current;if(!$n)return Promise.resolve();var lr={left:0,top:0};switch(wn.current){case jn.Horizontal:lr.left=En*er.left;break;case jn.Both:lr.left=En*er.left,lr.top=er.top;break;case jn.Vertical:default:lr.top=er.top}return or?(Rn.current=!1,Ut(!0),new Promise(function(rr,br){(function(Er,Ar,xr,Pr,Vr,Or){Vr===void 0&&(Vr=function(Zr){return Zr}),Or===void 0&&(Or=function(){});var Wr=0,zr=0,Ur=!1;switch(Ar){case jn.Horizontal:zr=Er.scrollLeft,Wr=0;case jn.Both:zr=Er.scrollLeft,Wr=Er.scrollTop;break;case jn.Vertical:default:zr=0,Wr=Er.scrollTop}var Hr=function(){Ur||(Ur=!0,Er.scrollLeft=xr.left,Er.scrollTop=xr.top,Or())};if(Math.abs(Wr-xr.top)<=Os&&Ar===jn.Vertical)Hr();else if(Math.abs(zr-xr.left)<=Os&&Ar===jn.Horizontal)Hr();else{var Br,Qr=-1,ss=zr-xr.left,ns=Wr-xr.top,qr=function(Zr){Qr===-1&&(Qr=Zr);var os=Zr-Qr,ir=Math.min(os/Pr,1),tr=Vr(ir),Gn={left:zr-ss*tr,top:Wr-ns*tr};switch(Ar){case jn.Horizontal:Er.scrollLeft=Gn.left;break;case jn.Both:Er.scrollLeft=Gn.left,Er.scrollTop=Gn.top;break;case jn.Vertical:default:Er.scrollTop=Gn.top}Math.abs(Gn.top-xr.top)<=Os&&Math.abs(Gn.left-xr.left)<=Os&&!Ur&&(window.cancelAnimationFrame(Br),Hr()),os<Pr?Br=window.requestAnimationFrame(qr):window.cancelAnimationFrame(Br)};Br=window.requestAnimationFrame(qr)}})($n,wn.current,lr,400,vu,function(){Cn(),rr()})})):new Promise(function(rr,br){switch(wn.current){case jn.Horizontal:$n.scrollLeft=lr.left;break;case jn.Both:$n.scrollLeft=lr.left,$n.scrollTop=lr.top;break;case jn.Vertical:default:$n.scrollTop=lr.top}rr()})},[pt]);return{scrollOffset:Yt,scrollTo:Zn}},As=function(b,pt,Ft){return Math.max(b,Math.min(Ft,pt))},_u=function(b,pt){if(pt!==e.ViewMode.DualPageWithCover)return 0;if(!function(zt){var Ut=zt.length;if(Ut===1)return!1;for(var nn=1;nn<Ut;nn++)if(zt[nn].height!==zt[0].height||zt[nn].width!==zt[0].width)return!0;return!1}(b))return 2*b[0].width;var Ft=$t(b.slice(1),2).map(function(zt){return zt.length===2?zt[0].width+zt[1].width:zt[0].width}),Dt=[b[0].width].concat(Ft);return Math.max.apply(Math,Dt)},Su={left:0,top:0},wu={left:0,top:0},no={left:0,top:0},Eu={left:0,top:0},bu={height:0,width:0},Zo={left:0,top:0},Jo="data-virtual-index",Au=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],xu=function(b){var pt=b.enableSmoothScroll,Ft=b.isRtl,Dt=b.numberOfItems,zt=b.parentRef,Ut=b.setRenderRange,nn=b.sizes,Yt=b.scrollMode,It=b.viewMode,Jt=a.useState(!1),Qt=Jt[0],bn=Jt[1],En=a.useCallback(function(ir){return bn(ir)},[]),wn=a.useRef(Yt);wn.current=Yt;var Fn=a.useRef(It);Fn.current=It;var Rn=Yt===e.ScrollMode.Wrapped||It===e.ViewMode.DualPageWithCover||It===e.ViewMode.DualPage?jn.Both:Yt===e.ScrollMode.Horizontal?jn.Horizontal:jn.Vertical,Cn=yu({elementRef:zt,enableSmoothScroll:pt,isRtl:Ft,scrollDirection:Rn,onSmoothScroll:En}),mr=Cn.scrollOffset,Zn=Cn.scrollTo,er=function(ir){var tr=ir.elementRef,Gn=a.useState(tr.current),Kn=Gn[0],Xn=Gn[1],cr=a.useRef(!1),dr=a.useReducer(mu,{height:0,width:0}),Qn=dr[0],Un=dr[1];return lt(function(){tr.current!==Kn&&Xn(tr.current)}),lt(function(){if(Kn&&!cr.current){cr.current=!0;var pr=Kn.getBoundingClientRect(),vr=pr.height,Dr=pr.width;Un({rect:{height:vr,width:Dr}})}},[Kn]),a.useEffect(function(){if(Kn){var pr=new ResizeObserver(function(vr,Dr){vr.forEach(function(Mr){if(Mr.target===Kn){var Yr=Mr.contentRect,Jr=Yr.height,gr=Yr.width;Un({rect:{height:Jr,width:gr}})}})});return pr.observe(Kn),function(){pr.unobserve(Kn)}}},[Kn]),Qn}({elementRef:zt}),or=a.useRef({scrollOffset:Zo,measurements:[]});or.current.scrollOffset=mr;var $n=a.useMemo(function(){return Array(Dt).fill(-1)},[]),lr=a.useState($n),rr=lr[0],br=lr[1],Er=a.useMemo(function(){var ir=new IntersectionObserver(function(tr){tr.forEach(function(Gn){var Kn=Gn.isIntersecting?Gn.intersectionRatio:-1,Xn=Gn.target.getAttribute(Jo);if(Xn){var cr=parseInt(Xn,10);0<=cr&&cr<Dt&&br(function(dr){return dr[cr]=Kn,function(Qn,Un,pr){for(var vr,Dr=0,Mr=Un.length;Dr<Mr;Dr++)!vr&&Dr in Un||(vr||(vr=Array.prototype.slice.call(Un,0,Dr)),vr[Dr]=Un[Dr]);return Qn.concat(vr||Array.prototype.slice.call(Un))}([],dr)})}})},{threshold:Au});return ir},[]),Ar=a.useMemo(function(){return Yt===e.ScrollMode.Page&&It===e.ViewMode.SinglePage?function(ir,tr,Gn){for(var Kn=[],Xn=0;Xn<ir;Xn++){var cr={height:Math.max(tr.height,Gn[Xn].height),width:Math.max(tr.width,Gn[Xn].width)},dr=Xn===0?Eu:Kn[Xn-1].end,Qn={left:dr.left+cr.width,top:dr.top+cr.height};Kn[Xn]={index:Xn,start:dr,size:cr,end:Qn,visibility:-1}}return Kn}(Dt,er,nn):It===e.ViewMode.DualPageWithCover?function(ir,tr,Gn,Kn){for(var Xn=[],cr=0,dr=0,Qn=no,Un=0;Un<ir;Un++){var pr=Un===0?{height:Kn===e.ScrollMode.Page?Math.max(tr.height,Gn[Un].height):Gn[Un].height,width:Kn===e.ScrollMode.Page?Math.max(tr.width,Gn[Un].width):Gn[Un].width}:{height:Kn===e.ScrollMode.Page?Math.max(tr.height,Gn[Un].height):Gn[Un].height,width:Math.max(tr.width/2,Gn[Un].width)};Kn===e.ScrollMode.Page?Qn=Un===0?no:{left:Un%2==0?pr.width:0,top:Math.floor((Un-1)/2)*pr.height+Xn[0].end.top}:Un===0?(Qn=no,cr=Gn[0].height,dr=0):Un%2==1?(Qn={left:0,top:cr+=dr},dr=Un===ir-1?Gn[Un].height:Math.max(Gn[Un].height,Gn[Un+1].height)):Qn={left:Xn[Un-1].end.left,top:cr};var vr={left:Qn.left+pr.width,top:Qn.top+pr.height};Xn[Un]={index:Un,start:Qn,size:pr,end:vr,visibility:-1}}return Xn}(Dt,er,nn,Yt):It===e.ViewMode.DualPage?function(ir,tr,Gn,Kn){for(var Xn=[],cr=0,dr=0,Qn=wu,Un=0;Un<ir;Un++){var pr={height:Kn===e.ScrollMode.Page?Math.max(tr.height,Gn[Un].height):Gn[Un].height,width:Math.max(tr.width/2,Gn[Un].width)};Kn===e.ScrollMode.Page?Qn={left:Un%2==0?0:pr.width,top:Math.floor(Un/2)*pr.height}:Un%2==0?(Qn={left:0,top:cr+=dr},dr=Un===ir-1?Gn[Un].height:Math.max(Gn[Un].height,Gn[Un+1].height)):Qn={left:Xn[Un-1].end.left,top:cr};var vr={left:Qn.left+pr.width,top:Qn.top+pr.height};Xn[Un]={index:Un,start:Qn,size:pr,end:vr,visibility:-1}}return Xn}(Dt,er,nn,Yt):function(ir,tr,Gn,Kn){for(var Xn=[],cr=0,dr={left:0,top:0},Qn=0,Un=Su,pr=0;pr<ir;pr++){var vr=Gn[pr];if(pr===0)cr=vr.width,dr={left:0,top:0},Qn=vr.height;else switch(Kn){case e.ScrollMode.Wrapped:(cr+=vr.width)<tr.width?(Un={left:Xn[pr-1].end.left,top:dr.top},Qn=Math.max(Qn,vr.height)):(cr=vr.width,dr={left:(Un={left:dr.left,top:dr.top+Qn}).left,top:Un.top},Qn=vr.height);break;case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:Un=Xn[pr-1].end}var Dr={left:Un.left+vr.width,top:Un.top+vr.height};Xn[pr]={index:pr,start:Un,size:vr,end:Dr,visibility:-1}}return Xn}(Dt,er,nn,Yt)},[Yt,nn,It,er]),xr=Ar[Dt-1]?{height:Ar[Dt-1].end.top,width:Ar[Dt-1].end.left}:bu;or.current.measurements=Ar;var Pr=a.useMemo(function(){var ir=function(pr,vr,Dr,Mr){var Yr=0;switch(pr){case jn.Horizontal:Yr=Mr.left;break;case jn.Vertical:default:Yr=Mr.top}var Jr=vr.length-1,gr=function(Rr,ls,vs,js){for(;Rr<=ls;){var fs=(Rr+ls)/2|0,xs=js(fs);if(xs<vs)Rr=fs+1;else{if(!(xs>vs))return fs;ls=fs-1}}return Rr>0?Rr-1:0}(0,Jr,Yr,function(Rr){switch(pr){case jn.Horizontal:return vr[Rr].start.left;case jn.Both:case jn.Vertical:default:return vr[Rr].start.top}});if(pr===jn.Both)for(var Kr=vr[gr].start.top;gr-1>=0&&vr[gr-1].start.top===Kr&&vr[gr-1].start.left>=Mr.left;)gr--;for(var Ir=gr;Ir<=Jr;){var Nr={top:vr[Ir].start.top-Mr.top,left:vr[Ir].start.left-Mr.left},Gr={height:Dr.height-Nr.top,width:Dr.width-Nr.left};if(pr===jn.Horizontal&&Gr.width<0||pr===jn.Vertical&&Gr.height<0||pr===jn.Both&&(Gr.width<0||Gr.height<0))break;Ir++}return{start:gr,end:Ir}}(Rn,Ar,er,mr),tr=ir.start,Gn=ir.end,Kn=rr.slice(As(0,Dt,tr),As(0,Dt,Gn)),Xn=tr+Kn.reduce(function(pr,vr,Dr,Mr){return vr>Mr[pr]?Dr:pr},0),cr=Xn=As(0,Dt-1,Xn),dr=Ut({endPage:Gn,numPages:Dt,startPage:tr}),Qn=dr.startPage,Un=dr.endPage;switch(Qn=Math.max(Qn,0),Un=Math.min(Un,Dt-1),It){case e.ViewMode.DualPageWithCover:Xn>0&&(cr=Xn%2==1?Xn:Xn-1),Qn=Qn===0?0:Qn%2==1?Qn:Qn-1,Dt-(Un=Un%2==1?Un-1:Un)<=2&&(Un=Dt-1);break;case e.ViewMode.DualPage:cr=Xn%2==0?Xn:Xn-1,Qn=Qn%2==0?Qn:Qn-1,Un=Un%2==1?Un:Un-1;break;case e.ViewMode.SinglePage:default:cr=Xn}return{startPage:Qn,endPage:Un,maxVisbilityIndex:cr}},[Ar,er,mr,It,rr]),Vr=Pr.startPage,Or=Pr.endPage,Wr=Pr.maxVisbilityIndex,zr=a.useMemo(function(){for(var ir=[],tr=function(Kn){var Xn=Ar[Kn],cr=_e(_e({},Xn),{visibility:rr[Kn]!==void 0?rr[Kn]:-1,measureRef:function(dr){dr&&(dr.setAttribute(Jo,"".concat(Kn)),Er.observe(dr))}});ir.push(cr)},Gn=Vr;Gn<=Or;Gn++)tr(Gn);return ir},[Vr,Or,rr,Ar]),Ur=a.useCallback(function(ir,tr){var Gn=or.current.measurements[As(0,Dt-1,ir)],Kn=wn.current===e.ScrollMode.Page?Zo:tr;return Gn?Zn({left:Kn.left+Gn.start.left,top:Kn.top+Gn.start.top},pt):Promise.resolve()},[Zn,pt]),Hr=a.useCallback(function(ir,tr){var Gn=or.current.measurements,Kn=Gn[ir].start,Xn=Gn.find(function(dr){return dr.start.top-Kn.top>1e-12});if(!Xn)return Promise.resolve();var cr=Xn.index;switch(Fn.current){case e.ViewMode.DualPage:cr=cr%2==0?cr:cr+1;break;case e.ViewMode.DualPageWithCover:cr=cr%2==1?cr:cr+1}return Ur(cr,tr)},[]),Br=a.useCallback(function(ir,tr){for(var Gn=or.current.measurements,Kn=Gn[ir].start,Xn=ir,cr=!1,dr=Dt-1;dr>=0;dr--)if(Kn.top-Gn[dr].start.top>1e-12){cr=!0,Xn=Gn[dr].index;break}if(!cr)return Promise.resolve();switch(Fn.current){case e.ViewMode.DualPage:Xn=Xn%2==0?Xn:Xn-1;break;case e.ViewMode.DualPageWithCover:Xn=Xn%2==0?Xn-1:Xn}return Xn===ir&&(Xn=ir-1),Ur(Xn,tr)},[]),Qr=a.useCallback(function(ir,tr){if(Fn.current===e.ViewMode.DualPageWithCover||Fn.current===e.ViewMode.DualPage)return Hr(ir,tr);switch(wn.current){case e.ScrollMode.Wrapped:return Hr(ir,tr);case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:return Ur(ir+1,tr)}},[]),ss=a.useCallback(function(ir,tr){if(Fn.current===e.ViewMode.DualPageWithCover||Fn.current===e.ViewMode.DualPage)return Br(ir,tr);switch(wn.current){case e.ScrollMode.Wrapped:return Br(ir,tr);case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:return Ur(ir-1,tr)}},[]),ns=a.useCallback(function(){return function(ir,tr){switch(tr){case e.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(ir.width,"px")};case e.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(ir.height,"px"),width:"100%"}}}(xr,wn.current)},[xr]),qr=a.useCallback(function(ir){return function(tr,Gn,Kn){return Kn!==e.ScrollMode.Page?{}:{height:"".concat(Gn.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(tr.start.top,"px)")}}(ir,er,wn.current)},[er]),Zr=a.useCallback(function(ir){return function(tr,Gn,Kn,Xn,cr){var dr,Qn,Un,pr,vr,Dr,Mr,Yr=Gn?"right":"left",Jr=Gn?-1:1,gr=Kn.length,Kr=tr.start.left*Jr,Ir=tr.size,Nr=Ir.height,Gr=Ir.width;if(Xn===e.ViewMode.DualPageWithCover){var Rr=cr===e.ScrollMode.Page?0:tr.start.top;return tr.index===0||gr%2==0&&tr.index===gr-1?((dr={height:"".concat(Nr,"px"),minWidth:"".concat(_u(Kn,Xn),"px"),width:"100%"})[Yr]=0,dr.position="absolute",dr.top=0,dr.transform="translate(".concat(Kr,"px, ").concat(Rr,"px)"),dr):((Qn={height:"".concat(Nr,"px"),width:"".concat(Gr,"px")})[Yr]=0,Qn.position="absolute",Qn.top=0,Qn.transform="translate(".concat(Kr,"px, ").concat(Rr,"px)"),Qn)}if(Xn===e.ViewMode.DualPage)return(Un={height:"".concat(Nr,"px"),width:"".concat(Gr,"px")})[Yr]=0,Un.position="absolute",Un.top=0,Un.transform="translate(".concat(Kr,"px, ").concat(cr===e.ScrollMode.Page?0:tr.start.top,"px)"),Un;switch(cr){case e.ScrollMode.Horizontal:return(pr={height:"100%",width:"".concat(Gr,"px")})[Yr]=0,pr.position="absolute",pr.top=0,pr.transform="translateX(".concat(Kr,"px)"),pr;case e.ScrollMode.Page:return(vr={height:"".concat(Nr,"px"),width:"".concat(Gr,"px")})[Yr]=0,vr.position="absolute",vr.top=0,vr;case e.ScrollMode.Wrapped:return(Dr={height:"".concat(Nr,"px"),width:"".concat(Gr,"px")})[Yr]=0,Dr.position="absolute",Dr.top=0,Dr.transform="translate(".concat(Kr,"px, ").concat(tr.start.top,"px)"),Dr;case e.ScrollMode.Vertical:default:return(Mr={height:"".concat(Nr,"px"),width:"100%"})[Yr]=0,Mr.position="absolute",Mr.top=0,Mr.transform="translateY(".concat(tr.start.top,"px)"),Mr}}(ir,Ft,nn,Fn.current,wn.current)},[Ft,nn]),os=a.useCallback(function(ir,tr){var Gn=or.current,Kn=Gn.measurements,Xn=Gn.scrollOffset,cr=Kn[As(0,Dt-1,tr)];if(cr){var dr=wn.current===e.ScrollMode.Page?{left:cr.start.left,top:cr.start.top}:{left:Xn.left*ir,top:Xn.top*ir};return Zn(dr,!1)}return Promise.resolve()},[]);return a.useEffect(function(){return function(){Er.disconnect()}},[]),{boundingClientRect:er,isSmoothScrolling:Qt,startPage:Vr,endPage:Or,maxVisbilityIndex:Wr,virtualItems:zr,getContainerStyles:ns,getItemContainerStyles:qr,getItemStyles:Zr,scrollToItem:Ur,scrollToNextItem:Qr,scrollToPreviousItem:ss,zoom:os}},ro=function(b,pt,Ft,Dt,zt,Ut){var nn=Ft;switch(!0){case(zt===e.ViewMode.DualPageWithCover&&Ut>=3):case(zt===e.ViewMode.DualPage&&Ut>=3):nn=2*Ft;break;default:nn=Ft}switch(Dt){case e.SpecialZoomLevel.ActualSize:return 1;case e.SpecialZoomLevel.PageFit:return Math.min((b.clientWidth-17)/nn,(b.clientHeight-16)/pt);case e.SpecialZoomLevel.PageWidth:return(b.clientWidth-17)/nn}},ku=function(b){var pt,Ft,Dt=b.getCurrentPage,zt=(pt=50,Ft=a.useRef([]),a.useEffect(function(){return function(){Ft.current=[]}},[]),{push:function(Jt){var Qt=Ft.current;Qt.length+1>pt&&Qt.shift(),Qt.push(Jt),Ft.current=Qt},map:function(Jt){return Ft.current.map(function(Qt){return Jt(Qt)})},pop:function(){var Jt=Ft.current;if(Jt.length===0)return null;var Qt=Jt.pop();return Ft.current=Jt,Qt}}),Ut=function(Jt){var Qt=a.useRef([]);return a.useEffect(function(){return function(){Qt.current=[]}},[]),{dequeue:function(){var bn=Qt.current;if(bn.length===0)return null;var En=bn.shift();return Qt.current=bn,En||null},enqueue:function(bn){var En=Qt.current;En.length+1>Jt&&En.pop(),Qt.current=[bn].concat(En)},map:function(bn){return Qt.current.map(function(En){return bn(En)})}}}(50),nn=function(){var Jt=Ut.dequeue();return Jt&&zt.push(Jt),Jt&&Jt.pageIndex===Dt()?nn():Jt},Yt=function(){var Jt=zt.pop();return Jt&&Ut.enqueue(Jt),Jt&&Jt.pageIndex===Dt()?Yt():Jt},It=a.useCallback(function(Jt){zt.push(Jt)},[]);return{getNextDestination:nn,getPreviousDestination:Yt,markVisitedDestination:It}},na=function(b){var pt=[];return b.map(function(Ft){pt=pt.concat(Ft).concat(function(Dt){var zt=[];return Dt.items&&Dt.items.length>0&&(zt=zt.concat(na(Dt.items))),zt}(Ft))}),pt},ga={capture:!1,passive:!0},Cu={height:0,width:0},io={height:0,width:0},Pu=function(b){var pt=b.getCurrentPage,Ft=b.getCurrentScrollMode,Dt=b.jumpToPage,zt=b.targetRef,Ut=a.useState(e.FullScreenMode.Normal),nn=Ut[0],Yt=Ut[1],It=function(){var rr=a.useState(Cu),br=rr[0],Er=rr[1],Ar=sn(function(){Er({height:window.innerHeight,width:window.innerWidth})},100);return lt(function(){return window.addEventListener("resize",Ar,ga),function(){window.removeEventListener("resize",Ar,ga)}},[]),br}(),Jt=a.useState(io),Qt=Jt[0],bn=Jt[1],En=a.useRef(io),wn=a.useRef(pt()),Fn=a.useRef(io),Rn=a.useState(zt.current),Cn=Rn[0],mr=Rn[1],Zn=a.useRef();lt(function(){zt.current!==Cn&&mr(zt.current)},[]),lt(function(){if(Cn){var rr=new ResizeObserver(function(br){br.forEach(function(Er){var Ar=Er.target.getBoundingClientRect(),xr=Ar.height,Pr=Ar.width;bn({height:xr,width:Pr})})});return rr.observe(Cn),function(){rr.unobserve(Cn),rr.disconnect()}}},[Cn]);var er=a.useCallback(function(rr){var br=Tt();return br&&br!==rr?(Yt(e.FullScreenMode.Normal),Et(br)):Promise.resolve()},[]),or=a.useCallback(function(rr){rr&&ot()&&(mr(rr),er(rr).then(function(){Zn.current=rr,Yt(e.FullScreenMode.Entering),function(br){ct&&br[At.RequestFullScreen]()}(rr)}))},[]),$n=a.useCallback(function(){Tt()&&(Yt(e.FullScreenMode.Exitting),Et(document))},[]),lr=a.useCallback(function(){Cn&&Tt()!==Cn&&Yt(e.FullScreenMode.Exitting)},[Cn]);return a.useEffect(function(){switch(nn){case e.FullScreenMode.Entering:Zn.current&&(Zn.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),wn.current=pt(),En.current={height:window.innerHeight,width:window.innerWidth};break;case e.FullScreenMode.Entered:Ft()===e.ScrollMode.Page?Dt(wn.current).then(function(){Yt(e.FullScreenMode.EnteredCompletely)}):Yt(e.FullScreenMode.EnteredCompletely);break;case e.FullScreenMode.Exitting:Zn.current&&(Zn.current.style.backgroundColor="",Zn.current=null),wn.current=pt();break;case e.FullScreenMode.Exited:Yt(e.FullScreenMode.Normal),Ft()===e.ScrollMode.Page&&Dt(wn.current)}},[nn]),a.useEffect(function(){if(nn!==e.FullScreenMode.Normal)return nn===e.FullScreenMode.Entering&&It.height===Qt.height&&It.width===Qt.width&&It.height>0&&It.width>0&&(Fn.current.height===0||It.height==Fn.current.height)?(Fn.current={height:window.innerHeight,width:window.innerWidth},void Yt(e.FullScreenMode.Entered)):void(nn===e.FullScreenMode.Exitting&&En.current.height===It.height&&En.current.width===It.width&&It.height>0&&It.width>0&&Yt(e.FullScreenMode.Exited))},[nn,It,Qt]),a.useEffect(function(){var rr;return rr=lr,ct&&document.addEventListener(At.FullScreenChange,rr),function(){(function(br){ct&&document.removeEventListener(At.FullScreenChange,br)})(lr)}},[Cn]),{enterFullScreenMode:or,exitFullScreenMode:$n,fullScreenMode:nn}},Tu={buildPageStyles:function(){return{}},transformSize:function(b){return b.size}},ms={left:0,top:0},Ru=function(b){var pt=b.currentFile,Ft=b.defaultScale,Dt=b.doc,zt=b.enableSmoothScroll,Ut=b.initialPage,nn=b.initialRotation,Yt=b.initialScale,It=b.pageLayout,Jt=b.pageSizes,Qt=b.plugins,bn=b.renderPage,En=b.scrollMode,wn=b.setRenderRange,Fn=b.viewMode,Rn=b.viewerState,Cn=b.onDocumentLoad,mr=b.onOpenFile,Zn=b.onPageChange,er=b.onRotate,or=b.onRotatePage,$n=b.onZoom,lr=Dt.numPages,rr=Dt.loadingTask.docId,br=a.useContext(Vt).l10n,Er=a.useContext(ft),Ar=Er.direction===e.TextDirection.RightToLeft,xr=a.useRef(),Pr=a.useRef(),Vr=a.useState(Ut),Or=Vr[0],Wr=Vr[1],zr=a.useRef(null),Ur=ku({getCurrentPage:function(){return gr.current.pageIndex}}),Hr=a.useState(nn),Br=Hr[0],Qr=Hr[1],ss=Xt(Br),ns=a.useState(!1),qr=ns[0],Zr=ns[1],os=a.useState(new Map),ir=os[0],tr=os[1],Gn=a.useState(En),Kn=Gn[0],Xn=Gn[1],cr=Xt(Kn),dr=a.useState(Fn),Qn=dr[0],Un=dr[1],pr=Xt(Qn),vr=function(kn){var hr=jt(),_r=a.useState([]),Tr=_r[0],kr=_r[1];return a.useEffect(function(){kn.getOutline().then(function(Sr){if(hr.current&&Sr!==null){var Xr=na(Sr);kr(Xr)}})},[]),Tr}(Dt),Dr=a.useState(Yt),Mr=Dr[0],Yr=Dr[1],Jr=Xt(Mr),gr=a.useRef(Rn),Kr=a.useRef(typeof Ft=="string"?Ft:null),Ir=a.useRef(-1),Nr=a.useRef(-1),Gr=a.useRef(Ut),Rr=Pu({getCurrentPage:function(){return gr.current.pageIndex},getCurrentScrollMode:function(){return gr.current.scrollMode},jumpToPage:function(kn){return us(kn)},targetRef:Pr}),ls=a.useState(-1),vs=ls[0],js=ls[1],fs=a.useState(0),xs=fs[0],Ou=fs[1],_i=St({doc:Dt});a.useEffect(function(){return function(){xn.clear(),nr.clear()}},[rr]);var $a=a.useMemo(function(){return Object.assign({},Tu,It)},[]),Nu=a.useMemo(function(){return Array(lr).fill(0).map(function(kn,hr){var _r=[Jt[hr].pageHeight,Jt[hr].pageWidth],Tr=Math.abs(Br)%180==0?{height:_r[0],width:_r[1]}:{height:_r[1],width:_r[0]},kr={height:Tr.height*Mr,width:Tr.width*Mr};return $a.transformSize({numPages:lr,pageIndex:hr,size:kr})})},[Br,Mr]),Fr=xu({enableSmoothScroll:zt,isRtl:Ar,numberOfItems:lr,parentRef:Pr,scrollMode:Kn,setRenderRange:wn,sizes:Nu,viewMode:Qn}),ju=sn(function(){!Kr.current||gr.current.fullScreenMode!==e.FullScreenMode.Normal||Ut>0&&Gr.current===Ut||ps(Kr.current)},200);(function(kn){var hr=kn.targetRef,_r=kn.onResize;lt(function(){var Tr=new ResizeObserver(function(Sr){Sr.forEach(function(Xr){_r(Xr.target)})}),kr=hr.current;if(kr)return Tr.observe(kr),function(){Tr.unobserve(kr)}},[])})({targetRef:Pr,onResize:ju});var cs=function(kn){var hr=kn;Qt.forEach(function(_r){_r.onViewerStateChange&&(hr=_r.onViewerStateChange(hr))}),gr.current=hr},zu=function(){return Pr.current},Bu=function(){return gr.current},Uu=a.useCallback(function(kn){Ur.markVisitedDestination(kn)},[]),ao=a.useCallback(function(kn){var hr=kn.pageIndex,_r=kn.bottomOffset,Tr=kn.leftOffset,kr=kn.scaleTo,Sr=Pr.current,Xr=gr.current;return Sr&&Xr?new Promise(function(ds,po){In(Dt,hr).then(function(zs){var hs=zs.getViewport({scale:1}),Bs=0,Cl=(typeof _r=="function"?_r(hs.width,hs.height):_r)||0,Us=(typeof Tr=="function"?Tr(hs.width,hs.height):Tr)||0,ys=Xr.scale;switch(kr){case e.SpecialZoomLevel.PageFit:Bs=0,Us=0,ps(e.SpecialZoomLevel.PageFit);break;case e.SpecialZoomLevel.PageWidth:ys=ro(Sr,Jt[hr].pageHeight,Jt[hr].pageWidth,e.SpecialZoomLevel.PageWidth,Fn,lr),Bs=(hs.height-Cl)*ys,Us*=ys,ps(ys);break;default:Bs=(hs.height-Cl)*ys,Us*=ys}switch(Xr.scrollMode){case e.ScrollMode.Horizontal:Fr.scrollToItem(hr,{left:Us,top:0}).then(function(){ds()});break;case e.ScrollMode.Vertical:default:Fr.scrollToItem(hr,{left:0,top:Bs}).then(function(){ds()})}})}):Promise.resolve()},[]),yl=a.useCallback(function(kn){return Ur.markVisitedDestination(kn),ao(kn)},[]),Hu=a.useCallback(function(){var kn=Ur.getNextDestination();return kn?ao(kn):Promise.resolve()},[]),Vu=a.useCallback(function(){var kn=Ur.getPreviousDestination();return kn?ao(kn):Promise.resolve()},[]),Wu=a.useCallback(function(){return Fr.scrollToNextItem(gr.current.pageIndex,ms)},[]),us=a.useCallback(function(kn){return 0<=kn&&kn<lr?Fr.scrollToItem(kn,ms):Promise.resolve()},[]),$u=a.useCallback(function(){return Fr.scrollToPreviousItem(gr.current.pageIndex,ms)},[]),_l=a.useCallback(function(kn){var hr,_r;(hr=kn.name,_r=hr.split(/\./).pop(),_r?_r.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Tr){var kr=new FileReader;kr.readAsArrayBuffer(kn),kr.onload=function(){var Sr=new Uint8Array(kr.result);Tr(Sr)}}).then(function(Tr){mr(kn.name,Tr)})},[mr]),Sl=a.useCallback(function(kn){var hr=kn===e.RotateDirection.Backward?-90:90,_r=gr.current.rotation,Tr=_r===360||_r===-360?hr:_r+hr;_i.markNotRendered(),Qr(Tr),cs(_e(_e({},gr.current),{rotation:Tr})),er({direction:kn,doc:Dt,rotation:Tr})},[]),lo=a.useCallback(function(kn,hr){var _r=hr===e.RotateDirection.Backward?-90:90,Tr=gr.current.pagesRotation,kr=(Tr.has(kn)?Tr.get(kn):nn)+_r,Sr=Tr.set(kn,kr);tr(Sr),Zr(function(Xr){return!Xr}),cs(_e(_e({},gr.current),{pagesRotation:Sr,rotatedPage:kn})),or({direction:hr,doc:Dt,pageIndex:kn,rotation:kr}),_i.markRendering(kn),js(kn)},[]),wl=a.useCallback(function(kn){cs(_e(_e({},gr.current),{scrollMode:kn})),Xn(kn)},[]),El=a.useCallback(function(kn){cs(_e(_e({},gr.current),{viewMode:kn})),Un(kn)},[]),ps=a.useCallback(function(kn){var hr=Pr.current,_r=gr.current.pageIndex;if(!(_r<0||_r>=lr)){var Tr=Jt[_r].pageHeight,kr=Jt[_r].pageWidth,Sr=hr?typeof kn=="string"?ro(hr,Tr,kr,kn,gr.current.viewMode,lr):kn:1;Kr.current=typeof kn=="string"?kn:null,Sr!==gr.current.scale&&(Ou(function(Xr){return Xr+1}),_i.markNotRendered(),Yr(Sr),$n({doc:Dt,scale:Sr}),cs(_e(_e({},gr.current),{scale:Sr})))}},[]),Gu=a.useCallback(function(kn){Rr.enterFullScreenMode(kn)},[]),Xu=a.useCallback(function(){Rr.exitFullScreenMode()},[]);a.useEffect(function(){cs(_e(_e({},gr.current),{fullScreenMode:Rr.fullScreenMode}))},[Rr.fullScreenMode]),a.useEffect(function(){var kn={enterFullScreenMode:Gu,exitFullScreenMode:Xu,getPagesContainer:zu,getViewerState:Bu,jumpToDestination:yl,jumpToNextDestination:Hu,jumpToPreviousDestination:Vu,jumpToNextPage:Wu,jumpToPreviousPage:$u,jumpToPage:us,openFile:_l,rotate:Sl,rotatePage:lo,setViewerState:cs,switchScrollMode:wl,switchViewMode:El,zoom:ps};return Qt.forEach(function(hr){hr.install&&hr.install(kn)}),function(){Qt.forEach(function(hr){hr.uninstall&&hr.uninstall(kn)})}},[rr]),a.useEffect(function(){Cn({doc:Dt,file:pt}),Qt.forEach(function(kn){kn.onDocumentLoad&&kn.onDocumentLoad({doc:Dt,file:pt})})},[rr]);var co,uo,ho,Al=Fr.boundingClientRect;co=function(){Ut&&us(Ut)},uo=Al.height>0&&Al.width>0,ho=a.useRef(!1),lt(function(){uo&&!ho.current&&(ho.current=!0,co())},[co,uo]),lt(function(){var kn=gr.current.pageIndex;kn>-1&&cr!==Kn&&Fr.scrollToItem(kn,ms).then(function(){Rr.fullScreenMode===e.FullScreenMode.EnteredCompletely&&(zt||_i.markNotRendered(),Ir.current=-1)})},[Kn]),lt(function(){var kn=gr.current.pageIndex;kn>-1&&ss!==Br&&Fr.scrollToItem(kn,ms)},[Br]),lt(function(){Jr!=0&&Jr!=gr.current.scale&&Fr.zoom(gr.current.scale/Jr,gr.current.pageIndex).then(function(){Rr.fullScreenMode===e.FullScreenMode.EnteredCompletely&&(Nr.current=-1)})},[Mr]),lt(function(){if(pr!==gr.current.viewMode){var kn=Fr.startPage,hr=Fr.endPage,_r=Fr.virtualItems;_i.markNotRendered(),_i.setRange(kn,hr);for(var Tr=function(Sr){var Xr=_r.find(function(ds){return ds.index===Sr});Xr&&_i.setVisibility(Sr,Xr.visibility)},kr=kn;kr<=hr;kr++)Tr(kr);fo()}},[Qn]),lt(function(){var kn=gr.current.pageIndex;kn>-1&&pr!==Qn&&Fr.scrollToItem(kn,ms)},[Qn]),lt(function(){var kn=gr.current.pageIndex;kn>0&&kn===Ut&&Gr.current===Ut&&Kr.current&&(Gr.current=-1,ps(Kr.current))},[Or]),a.useEffect(function(){Fr.isSmoothScrolling||zr.current!==null&&zr.current===Or||(zr.current=Or,Zn({currentPage:Or,doc:Dt}))},[Or,Fr.isSmoothScrolling]),a.useEffect(function(){Rr.fullScreenMode===e.FullScreenMode.Entering&&gr.current.scrollMode===e.ScrollMode.Page&&(Ir.current=gr.current.pageIndex),Rr.fullScreenMode===e.FullScreenMode.EnteredCompletely&&gr.current.scrollMode===e.ScrollMode.Page&&zt&&(Ir.current=-1),Rr.fullScreenMode===e.FullScreenMode.EnteredCompletely&&Kr.current&&(Nr.current=gr.current.pageIndex,ps(Kr.current))},[Rr.fullScreenMode]),a.useEffect(function(){if(Rr.fullScreenMode!==e.FullScreenMode.Entering&&Rr.fullScreenMode!==e.FullScreenMode.Exitting&&!Fr.isSmoothScrolling){var kn=Fr.startPage,hr=Fr.endPage,_r=Fr.maxVisbilityIndex,Tr=Fr.virtualItems,kr=_r,Sr=Rr.fullScreenMode===e.FullScreenMode.Entered||Rr.fullScreenMode===e.FullScreenMode.EnteredCompletely;if(!(Sr&&kr!==Ir.current&&Ir.current>-1||Sr&&kr!==Nr.current&&Nr.current>-1)){Wr(kr),cs(_e(_e({},gr.current),{pageIndex:kr})),_i.setRange(kn,hr);for(var Xr=function(po){var zs=Tr.find(function(hs){return hs.index===po});zs&&_i.setVisibility(po,zs.visibility)},ds=kn;ds<=hr;ds++)Xr(ds);fo()}}},[Fr.startPage,Fr.endPage,Fr.isSmoothScrolling,Fr.maxVisbilityIndex,Rr.fullScreenMode,qr,Br,Mr]);var qu=a.useCallback(function(kn){_i.markRendered(kn),fo()},[xs]),fo=function(){var kn=_i.getHighestPriorityPage();kn>-1&&_i.isInRange(kn)&&(_i.markRendering(kn),js(kn))},Yu=function(kn){var hr=Or-1,_r=Or+1;switch(kn){case"FirstPage":us(0);break;case"LastPage":us(lr-1);break;case"NextPage":_r<lr&&us(_r);break;case"PrevPage":hr>=0&&us(hr)}},Ku=a.useCallback(function(){var kn=Fr.virtualItems,hr=[];switch(Qn){case e.ViewMode.DualPage:hr=$t(kn,2);break;case e.ViewMode.DualPageWithCover:kn.length&&(hr=kn[0].index===0?[[kn[0]]].concat($t(kn.slice(1),2)):$t(kn,2));break;case e.ViewMode.SinglePage:default:hr=$t(kn,1)}var _r=br&&br.core?br.core.pageLabel:"Page {{pageIndex}}",Tr={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:xr,style:{height:"100%"}},children:a.createElement(a.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:dt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Kn===e.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Ar,"rpv-core__inner-pages--single":Kn===e.ScrollMode.Page,"rpv-core__inner-pages--vertical":Kn===e.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Kn===e.ScrollMode.Wrapped}),ref:Pr,style:{height:"100%",position:"relative"}},children:a.createElement("div",{"data-testid":"core__inner-current-page-".concat(Or),style:Object.assign({"--scale-factor":Mr},Fr.getContainerStyles())},hr.map(function(kr){return a.createElement("div",{className:dt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Kn===e.ScrollMode.Page}),style:Fr.getItemContainerStyles(kr[0]),key:"".concat(kr[0].index,"-").concat(Qn)},kr.map(function(Sr){var Xr=Qn===e.ViewMode.DualPageWithCover&&(Sr.index===0||lr%2==0&&Sr.index===lr-1);return a.createElement("div",{"aria-label":_r.replace("{{pageIndex}}","".concat(Sr.index+1)),className:dt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Qn===e.ViewMode.DualPage&&Sr.index%2==0,"rpv-core__inner-page--dual-odd":Qn===e.ViewMode.DualPage&&Sr.index%2==1,"rpv-core__inner-page--dual-cover":Xr,"rpv-core__inner-page--dual-cover-even":Qn===e.ViewMode.DualPageWithCover&&!Xr&&Sr.index%2==0,"rpv-core__inner-page--dual-cover-odd":Qn===e.ViewMode.DualPageWithCover&&!Xr&&Sr.index%2==1,"rpv-core__inner-page--single":Qn===e.ViewMode.SinglePage&&Kn===e.ScrollMode.Page}),role:"region",key:"".concat(Sr.index,"-").concat(Qn),style:Object.assign({},Fr.getItemStyles(Sr),$a.buildPageStyles({numPages:lr,pageIndex:Sr.index,scrollMode:Kn,viewMode:Qn}))},a.createElement(gu,{doc:Dt,measureRef:Sr.measureRef,outlines:vr,pageIndex:Sr.index,pageRotation:ir.has(Sr.index)?ir.get(Sr.index):0,pageSize:Jt[Sr.index],plugins:Qt,renderPage:bn,renderQueueKey:xs,rotation:Br,scale:Mr,shouldRender:vs===Sr.index,viewMode:Qn,onExecuteNamedAction:Yu,onJumpFromLinkAnnotation:Uu,onJumpToDest:yl,onRenderCompleted:qu,onRotatePage:lo}))}))}))}};return Qt.forEach(function(kr){kr.renderViewer&&(Tr=kr.renderViewer({containerRef:xr,doc:Dt,pagesContainerRef:Pr,pagesRotation:ir,pageSizes:Jt,rotation:Br,slot:Tr,themeContext:Er,jumpToPage:us,openFile:_l,rotate:Sl,rotatePage:lo,switchScrollMode:wl,switchViewMode:El,zoom:ps}))}),Tr},[Qt,Fr]),xl=a.useCallback(function(kn){return a.createElement("div",_e({},kn.attrs,{style:kn.attrs&&kn.attrs.style?kn.attrs.style:{}}),kn.children,kn.subSlot&&xl(kn.subSlot))},[]);return xl(Ku())},_a=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Mu=function(b){var pt=b.defaultScale,Ft=b.doc,Dt=b.render,zt=b.scrollMode,Ut=b.viewMode,nn=a.useRef(),Yt=a.useState({pageSizes:[],scale:0}),It=Yt[0],Jt=Yt[1];return a.useLayoutEffect(function(){var Qt=Array(Ft.numPages).fill(0).map(function(bn,En){return new Promise(function(wn,Fn){In(Ft,En).then(function(Rn){var Cn=Rn.getViewport({scale:1});wn({pageHeight:Cn.height,pageWidth:Cn.width,rotation:Cn.rotation})})})});Promise.all(Qt).then(function(bn){var En=nn.current;if(En&&bn.length!==0){var wn=bn[0].pageWidth,Fn=bn[0].pageHeight,Rn=En.parentElement,Cn=(Rn.clientWidth-45)/wn,mr=(Rn.clientHeight-45)/Fn,Zn=Cn;switch(zt){case e.ScrollMode.Horizontal:Zn=Math.min(Cn,mr);break;case e.ScrollMode.Vertical:default:Zn=Cn}var er,or,$n=pt?typeof pt=="string"?ro(Rn,Fn,wn,pt,Ut,Ft.numPages):pt:(er=Zn,(or=_a.findIndex(function(lr){return lr>=er}))===-1||or===0?er:_a[or-1]);Jt({pageSizes:bn,scale:$n})}})},[Ft.loadingTask.docId]),It.pageSizes.length===0||It.scale===0?a.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:nn},a.createElement(at,null)):Dt(It.pageSizes,It.scale)},Ns=function(){},so=function(b){function pt(Ft,Dt){var zt=b.call(this)||this;return zt.verifyPassword=Ft,zt.passwordStatus=Dt,zt}return tt(pt,b),pt}(Ns),Fu=function(b){var pt=b.passwordStatus,Ft=b.renderProtectedView,Dt=b.verifyPassword,zt=b.onDocumentAskPassword,Ut=a.useContext(Vt).l10n,nn=a.useState(""),Yt=nn[0],It=nn[1],Jt=a.useContext(ft).direction===e.TextDirection.RightToLeft,Qt=function(){return Dt(Yt)};return a.useEffect(function(){zt&&zt({verifyPassword:Dt})},[]),Ft?Ft({passwordStatus:pt,verifyPassword:Dt}):a.createElement("div",{className:"rpv-core__asking-password-wrapper"},a.createElement("div",{className:dt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Jt})},a.createElement("div",{className:"rpv-core__asking-password-message"},pt===e.PasswordStatus.RequiredPassword&&Ut.core.askingPassword.requirePasswordToOpen,pt===e.PasswordStatus.WrongPassword&&Ut.core.wrongPassword.tryAgain),a.createElement("div",{className:"rpv-core__asking-password-body"},a.createElement("div",{className:dt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Jt,"rpv-core__asking-password-input--rtl":Jt})},a.createElement(ht,{testId:"core__asking-password-input",type:"password",value:Yt,onChange:It,onKeyDown:function(bn){bn.key==="Enter"&&Qt()}})),a.createElement(_,{onClick:Qt},Ut.core.askingPassword.submit))))},ba=function(b){function pt(Ft){var Dt=b.call(this)||this;return Dt.doc=Ft,Dt}return tt(pt,b),pt}(Ns),xa=function(b){function pt(Ft){var Dt=b.call(this)||this;return Dt.error=Ft,Dt}return tt(pt,b),pt}(Ns),oo=function(b){function pt(Ft){var Dt=b.call(this)||this;return Dt.percentages=Ft,Dt}return tt(pt,b),pt}(Ns),Lu=function(b){var pt=b.characterMap,Ft=b.file,Dt=b.httpHeaders,zt=b.render,Ut=b.renderError,nn=b.renderLoader,Yt=b.renderProtectedView,It=b.transformGetDocumentParams,Jt=b.withCredentials,Qt=b.onDocumentAskPassword,bn=a.useContext(ft).direction===e.TextDirection.RightToLeft,En=a.useState(new oo(0)),wn=En[0],Fn=En[1],Rn=a.useRef(""),Cn=jt();return a.useEffect(function(){Rn.current="",Fn(new oo(0));var mr=new d.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Zn=Object.assign({httpHeaders:Dt,withCredentials:Jt,worker:mr},typeof Ft=="string"?{url:Ft}:{data:Ft},pt?{cMapUrl:pt.url,cMapPacked:pt.isCompressed}:{}),er=It?It(Zn):Zn,or=d.getDocument(er);return or.onPassword=function($n,lr){switch(lr){case d.PasswordResponses.NEED_PASSWORD:Cn.current&&Fn(new so($n,e.PasswordStatus.RequiredPassword));break;case d.PasswordResponses.INCORRECT_PASSWORD:Cn.current&&Fn(new so($n,e.PasswordStatus.WrongPassword))}},or.onProgress=function($n){var lr=$n.total>0?Math.min(100,100*$n.loaded/$n.total):100;Cn.current&&Rn.current===""&&Fn(new oo(lr))},or.promise.then(function($n){Rn.current=$n.loadingTask.docId,Cn.current&&Fn(new ba($n))},function($n){return Cn.current&&!mr.destroyed&&Fn(new xa({message:$n.message||"Cannot load document",name:$n.name}))}),function(){or.destroy(),mr.destroy()}},[Ft]),wn instanceof so?a.createElement(Fu,{passwordStatus:wn.passwordStatus,renderProtectedView:Yt,verifyPassword:wn.verifyPassword,onDocumentAskPassword:Qt}):wn instanceof ba?zt(wn.doc):wn instanceof xa?Ut?Ut(wn.error):a.createElement("div",{className:dt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":bn})},a.createElement("div",{className:"rpv-core__doc-error-text"},wn.error.message)):a.createElement("div",{"data-testid":"core__doc-loading",className:dt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":bn})},nn?nn(wn.percentages):a.createElement(at,null))},Du=function(b,pt){var Ft=a.useMemo(function(){return b==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":b},[]),Dt=a.useState(Ft),zt=Dt[0],Ut=Dt[1],nn=Xt(zt);return a.useEffect(function(){if(b==="auto"){var Yt=window.matchMedia("(prefers-color-scheme: dark)"),It=function(Jt){Ut(Jt.matches?"dark":"light")};return Yt.addEventListener("change",It),function(){return Yt.removeEventListener("change",It)}}},[]),a.useEffect(function(){zt!==nn&&pt&&pt(zt)},[zt]),a.useEffect(function(){b!==zt&&Ut(b)},[b]),{currentTheme:zt,setCurrentTheme:Ut}},Iu=function(b){return{startPage:b.startPage-3,endPage:b.endPage+3}};e.Button=function(b){var pt=b.children,Ft=b.testId,Dt=b.onClick,zt=a.useContext(ft).direction===e.TextDirection.RightToLeft,Ut=Ft?{"data-testid":Ft}:{};return a.createElement("button",_e({className:dt({"rpv-core__button":!0,"rpv-core__button--rtl":zt}),type:"button",onClick:Dt},Ut),pt)},e.Icon=gt,e.LazyRender=function(b){var pt=b.attrs,Ft=b.children,Dt=b.testId,zt=a.useState(!1),Ut=zt[0],nn=zt[1],Yt=Dt?_e(_e({},pt),{"data-testid":Dt}):pt,It=mt({once:!0,onVisibilityChanged:function(Jt){Jt.isVisible&&nn(!0)}});return a.createElement("div",_e({ref:It},Yt),Ut&&Ft)},e.LocalizationContext=Vt,e.Menu=function(b){var pt=b.children,Ft=a.useRef(),Dt=a.useRef([]),zt=a.useContext(ft).direction===e.TextDirection.RightToLeft,Ut=function(Yt){if(Ft.current)switch(Yt.key){case"Tab":Yt.preventDefault();break;case"ArrowDown":Yt.preventDefault(),nn(function(It,Jt){return Jt+1});break;case"ArrowUp":Yt.preventDefault(),nn(function(It,Jt){return Jt-1});break;case"End":Yt.preventDefault(),nn(function(It,Jt){return It.length-1});break;case"Home":Yt.preventDefault(),nn(function(It,Jt){return 0})}},nn=function(Yt){if(Ft.current){var It=Dt.current,Jt=It.findIndex(function(bn){return bn.getAttribute("tabindex")==="0"}),Qt=Math.min(It.length-1,Math.max(0,Yt(It,Jt)));Jt>=0&&Jt<=It.length-1&&It[Jt].setAttribute("tabindex","-1"),It[Qt].setAttribute("tabindex","0"),It[Qt].focus()}};return lt(function(){var Yt=Ft.current;if(Yt){var It=function(Jt){var Qt=[];return Jt.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(bn){if(bn instanceof HTMLElement){var En=bn.parentElement;(En===Jt||window.getComputedStyle(En).display!=="none")&&Qt.push(bn)}}),Qt}(Yt);Dt.current=It}},[]),lt(function(){return document.addEventListener("keydown",Ut),function(){document.removeEventListener("keydown",Ut)}},[]),a.createElement("div",{ref:Ft,"aria-orientation":"vertical",className:dt({"rpv-core__menu":!0,"rpv-core__menu--rtl":zt}),role:"menu",tabIndex:0},pt)},e.MenuDivider=function(){return a.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},e.MenuItem=function(b){var pt=b.checked,Ft=pt!==void 0&&pt,Dt=b.children,zt=b.icon,Ut=zt===void 0?null:zt,nn=b.isDisabled,Yt=nn!==void 0&&nn,It=b.testId,Jt=b.onClick,Qt=a.useContext(ft).direction===e.TextDirection.RightToLeft,bn=It?{"data-testid":It}:{};return a.createElement("button",_e({className:dt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Yt,"rpv-core__menu-item--ltr":!Qt,"rpv-core__menu-item--rtl":Qt}),role:"menuitem",tabIndex:-1,type:"button",onClick:Jt},bn),a.createElement("div",{className:dt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Qt,"rpv-core__menu-item-icon--rtl":Qt})},Ut),a.createElement("div",{className:dt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Qt,"rpv-core__menu-item-label--rtl":Qt})},Dt),a.createElement("div",{className:dt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Qt,"rpv-core__menu-item-check--rtl":Qt})},Ft&&a.createElement(g,null)))},e.MinimalButton=function(b){var pt=b.ariaLabel,Ft=pt===void 0?"":pt,Dt=b.ariaKeyShortcuts,zt=Dt===void 0?"":Dt,Ut=b.children,nn=b.isDisabled,Yt=nn!==void 0&&nn,It=b.isSelected,Jt=It!==void 0&&It,Qt=b.testId,bn=b.onClick,En=a.useContext(ft).direction===e.TextDirection.RightToLeft,wn=Qt?{"data-testid":Qt}:{};return a.createElement("button",_e({"aria-label":Ft},zt&&{"aria-keyshortcuts":zt},Yt&&{"aria-disabled":!0},{className:dt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Yt,"rpv-core__minimal-button--rtl":En,"rpv-core__minimal-button--selected":Jt}),type:"button",onClick:bn},wn),Ut)},e.Modal=function(b){var pt=b.ariaControlsSuffix,Ft=b.closeOnClickOutside,Dt=b.closeOnEscape,zt=b.content,Ut=b.isOpened,nn=Ut!==void 0&&Ut,Yt=b.target,It=pt||"".concat(et());return a.createElement(an,{target:Yt?function(Jt,Qt){return a.createElement("div",{"aria-expanded":Qt?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(It)},Yt(Jt,Qt))}:null,content:function(Jt){return a.createElement(Pt,null,a.createElement(xt,{ariaControlsSuffix:It,closeOnClickOutside:Ft,closeOnEscape:Dt,onToggle:Jt},zt(Jt)))},isOpened:nn})},e.Popover=function(b){var pt=b.ariaHasPopup,Ft=pt===void 0?"dialog":pt,Dt=b.ariaControlsSuffix,zt=b.closeOnClickOutside,Ut=b.closeOnEscape,nn=b.content,Yt=b.lockScroll,It=Yt===void 0||Yt,Jt=b.offset,Qt=b.position,bn=b.target,En=Ht(!1),wn=En.opened,Fn=En.toggle,Rn=a.useRef(),Cn=a.useMemo(function(){return Dt||"".concat(et())},[]);return a.createElement("div",{ref:Rn,"aria-expanded":wn?"true":"false","aria-haspopup":Ft,"aria-controls":"rpv-core__popver-body-".concat(Cn)},bn(Fn,wn),wn&&a.createElement(a.Fragment,null,It&&a.createElement(hn,{closeOnEscape:Ut,onClose:Fn}),a.createElement(tn,{ariaControlsSuffix:Cn,closeOnClickOutside:zt,offset:Jt,position:Qt,targetRef:Rn,onClose:Fn},nn(Fn))))},e.PrimaryButton=_,e.ProgressBar=function(b){var pt=b.progress,Ft=a.useContext(ft).direction===e.TextDirection.RightToLeft;return a.createElement("div",{className:dt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Ft})},a.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(pt,"%")}},pt,"%"))},e.Separator=function(){return a.createElement("div",{className:"rpv-core__separator"})},e.Spinner=at,e.Splitter=function(b){var pt=b.constrain,Ft=a.useContext(ft).direction===e.TextDirection.RightToLeft,Dt=a.useRef(),zt=a.useRef(),Ut=a.useRef(),nn=a.useRef(0),Yt=a.useRef(0),It=a.useRef(0),Jt=a.useRef(0),Qt={capture:!0},bn=function(wn){var Fn=Dt.current,Rn=zt.current,Cn=Ut.current;if(Fn&&Rn&&Cn){var mr=Jt.current,Zn=wn.clientX-nn.current,er=It.current+(Ft?-Zn:Zn),or=Fn.parentElement.getBoundingClientRect().width,$n=100*er/or;if(Fn.classList.add("rpv-core__splitter--resizing"),pt){var lr=or-er-mr;if(!pt({firstHalfPercentage:$n,firstHalfSize:er,secondHalfPercentage:100*lr/or,secondHalfSize:lr}))return}Rn.style.width="".concat($n,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Rn.classList.add("rpv-core__splitter-sibling--resizing"),Cn.classList.add("rpv-core__splitter-sibling--resizing")}},En=function(wn){var Fn=Dt.current,Rn=zt.current,Cn=Ut.current;Fn&&Rn&&Cn&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Fn.classList.remove("rpv-core__splitter--resizing"),Rn.classList.remove("rpv-core__splitter-sibling--resizing"),Cn.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",bn,Qt),document.removeEventListener("mouseup",En,Qt))};return a.useEffect(function(){var wn=Dt.current;wn&&(Jt.current=wn.getBoundingClientRect().width,zt.current=wn.previousElementSibling,Ut.current=wn.nextElementSibling)},[]),a.createElement("div",{ref:Dt,className:"rpv-core__splitter",onMouseDown:function(wn){var Fn=zt.current;Fn&&(nn.current=wn.clientX,Yt.current=wn.clientY,It.current=Fn.getBoundingClientRect().width,document.addEventListener("mousemove",bn,Qt),document.addEventListener("mouseup",En,Qt))}})},e.TextBox=ht,e.ThemeContext=ft,e.Tooltip=function(b){var pt=b.ariaControlsSuffix,Ft=b.content,Dt=b.offset,zt=b.position,Ut=b.target,nn=Ht(!1),Yt=nn.opened,It=nn.toggle,Jt=a.useRef(),Qt=a.useRef(),bn=a.useMemo(function(){return pt||"".concat(et())},[]);vt(function(){Jt.current&&document.activeElement&&Jt.current.contains(document.activeElement)&&wn()});var En=function(){It(e.ToggleStatus.Open)},wn=function(){It(e.ToggleStatus.Close)};return a.createElement(a.Fragment,null,a.createElement("div",{ref:Jt,"aria-describedby":"rpv-core__tooltip-body-".concat(bn),onBlur:function(Fn){Fn.relatedTarget instanceof HTMLElement&&Fn.currentTarget.parentElement&&Fn.currentTarget.parentElement.contains(Fn.relatedTarget)?Qt.current&&(Qt.current.style.display="none"):wn()},onFocus:En,onMouseEnter:En,onMouseLeave:wn},Ut),Yt&&a.createElement(Sn,{ariaControlsSuffix:bn,contentRef:Qt,offset:Dt,position:zt,targetRef:Jt},Ft()))},e.Viewer=function(b){var pt=b.characterMap,Ft=b.defaultScale,Dt=b.enableSmoothScroll,zt=Dt===void 0||Dt,Ut=b.fileUrl,nn=b.httpHeaders,Yt=nn===void 0?{}:nn,It=b.initialPage,Jt=It===void 0?0:It,Qt=b.pageLayout,bn=b.initialRotation,En=bn===void 0?0:bn,wn=b.localization,Fn=b.plugins,Rn=Fn===void 0?[]:Fn,Cn=b.renderError,mr=b.renderLoader,Zn=b.renderPage,er=b.renderProtectedView,or=b.scrollMode,$n=or===void 0?e.ScrollMode.Vertical:or,lr=b.setRenderRange,rr=lr===void 0?Iu:lr,br=b.transformGetDocumentParams,Er=b.theme,Ar=Er===void 0?{direction:e.TextDirection.LeftToRight,theme:"light"}:Er,xr=b.viewMode,Pr=xr===void 0?e.ViewMode.SinglePage:xr,Vr=b.withCredentials,Or=Vr!==void 0&&Vr,Wr=b.onDocumentAskPassword,zr=b.onDocumentLoad,Ur=zr===void 0?function(){}:zr,Hr=b.onPageChange,Br=Hr===void 0?function(){}:Hr,Qr=b.onRotate,ss=Qr===void 0?function(){}:Qr,ns=b.onRotatePage,qr=ns===void 0?function(){}:ns,Zr=b.onSwitchTheme,os=Zr===void 0?function(){}:Zr,ir=b.onZoom,tr=ir===void 0?function(){}:ir,Gn=a.useState({data:Ut,name:typeof Ut=="string"?Ut:"",shouldLoad:!1}),Kn=Gn[0],Xn=Gn[1],cr=function(Ir,Nr){Xn({data:Nr,name:Ir,shouldLoad:!0})},dr=a.useState(!1),Qn=dr[0],Un=dr[1],pr=Xt(Kn);a.useEffect(function(){var Ir,Nr,Gr,Rr;Ir=pr.data,Rr=typeof(Nr=Ut),(Gr=typeof Ir)=="string"&&Rr==="string"&&Ir===Nr||Gr==="object"&&Rr==="object"&&Ir.length===Nr.length&&Ir.every(function(ls,vs){return ls===Nr[vs]})||Xn({data:Ut,name:typeof Ut=="string"?Ut:"",shouldLoad:Qn})},[Ut,Qn]);var vr=mt({onVisibilityChanged:function(Ir){Un(Ir.isVisible),Ir.isVisible&&Xn(function(Nr){return Object.assign({},Nr,{shouldLoad:!0})})}}),Dr=typeof Ar=="string"?{direction:e.TextDirection.LeftToRight,theme:Ar}:Ar,Mr=a.useState(wn||Lt),Yr=Mr[0],Jr=Mr[1],gr={l10n:Yr,setL10n:Jr},Kr=Object.assign({},{direction:Dr.direction},Du(Dr.theme||"light",os));return a.useEffect(function(){wn&&Jr(wn)},[wn]),a.createElement(Vt.Provider,{value:gr},a.createElement(ft.Provider,{value:Kr},a.createElement("div",{ref:vr,className:"rpv-core__viewer rpv-core__viewer--".concat(Kr.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Kn.shouldLoad&&a.createElement(Lu,{characterMap:pt,file:Kn.data,httpHeaders:Yt,render:function(Ir){return a.createElement(Mu,{defaultScale:Ft,doc:Ir,render:function(Nr,Gr){return a.createElement(Ru,{currentFile:{data:Kn.data,name:Kn.name},defaultScale:Ft,doc:Ir,enableSmoothScroll:zt,initialPage:Jt,initialRotation:En,initialScale:Gr,pageLayout:Qt,pageSizes:Nr,plugins:Rn,renderPage:Zn,scrollMode:$n,setRenderRange:rr,viewMode:Pr,viewerState:{file:Kn,fullScreenMode:e.FullScreenMode.Normal,pageIndex:-1,pageHeight:Nr[0].pageHeight,pageWidth:Nr[0].pageWidth,pagesRotation:new Map,rotation:En,scale:Gr,scrollMode:$n,viewMode:Pr},onDocumentLoad:Ur,onOpenFile:cr,onPageChange:Br,onRotate:ss,onRotatePage:qr,onZoom:tr})},scrollMode:$n,viewMode:Pr})},renderError:Cn,renderLoader:mr,renderProtectedView:er,transformGetDocumentParams:br,withCredentials:Or,onDocumentAskPassword:Wr}))))},e.Worker=function(b){var pt=b.children,Ft=b.workerUrl;return d.GlobalWorkerOptions.workerSrc=Ft,a.createElement(a.Fragment,null,pt)},e.chunk=$t,e.classNames=dt,e.createStore=function(b){var pt=b||{},Ft={},Dt=function(Ut,nn){var Yt;pt=_e(_e({},pt),((Yt={})[Ut]=nn,Yt)),(Ft[Ut]||[]).forEach(function(It){return It(pt[Ut])})},zt=function(Ut){return pt[Ut]};return{subscribe:function(Ut,nn){Ft[Ut]=(Ft[Ut]||[]).concat(nn)},unsubscribe:function(Ut,nn){Ft[Ut]=(Ft[Ut]||[]).filter(function(Yt){return Yt!==nn})},update:function(Ut,nn){Dt(Ut,nn)},updateCurrentValue:function(Ut,nn){var Yt=zt(Ut);Yt!==void 0&&Dt(Ut,nn(Yt))},get:function(Ut){return zt(Ut)}}},e.getDestination=Wn,e.getPage=In,e.isFullScreenEnabled=ot,e.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},e.useDebounceCallback=sn,e.useIntersectionObserver=mt,e.useIsMounted=jt,e.useIsomorphicLayoutEffect=lt,e.usePrevious=Xt,e.useRenderQueue=St})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=core_min;var libExports=lib.exports;const Navbar=()=>{const[e,i]=reactExports.useState(!1),[s,o]=reactExports.useState(!1),[c,a]=reactExports.useState(!1);reactExports.useEffect(()=>{const ut=()=>{o(window.scrollY>50)};return window.addEventListener("scroll",ut),()=>window.removeEventListener("scroll",ut)},[]);const d=[{name:"About",href:"#about"},{name:"Experience",href:"#experience"},{name:"Work",href:"#work"},{name:"Contact",href:"#contact"}];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("nav",{className:`fixed w-full z-50 transition-all duration-300 ${s?"py-4 bg-slate-900/95 backdrop-blur-lg shadow-lg":"py-6"}`,children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-rose-400 to-blue-500",children:"Anuj Marisetty"}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[d.map(ut=>jsxRuntimeExports.jsx("a",{href:ut.href,className:"nav-link font-medium",children:ut.name},ut.name)),jsxRuntimeExports.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-rose-500 hover:bg-rose-600 text-white rounded-full transition-colors",children:"Resume"})]}),jsxRuntimeExports.jsx("button",{className:"md:hidden text-white",onClick:()=>i(!e),children:e?jsxRuntimeExports.jsx(X,{className:"w-6 h-6"}):jsxRuntimeExports.jsx(Menu,{className:"w-6 h-6"})})]}),e&&jsxRuntimeExports.jsx("div",{className:"md:hidden absolute inset-x-0 top-full mt-2 px-6 py-4 bg-slate-900/95 backdrop-blur-lg border-t border-white/10",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[d.map(ut=>jsxRuntimeExports.jsx("a",{href:ut.href,className:"nav-link text-lg",onClick:()=>i(!1),children:ut.name},ut.name)),jsxRuntimeExports.jsx("button",{onClick:()=>{a(!0),i(!1)},className:"px-4 py-2 bg-rose-500 hover:bg-rose-600 text-white rounded-full transition-colors text-center",children:"Resume"})]})})]})}),c&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 bg-black/75 z-50 flex items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"relative bg-white rounded-lg shadow-lg w-[90vw] max-w-6xl h-[90vh]",children:jsxRuntimeExports.jsx(libExports.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx("div",{className:"p-4 h-full",children:jsxRuntimeExports.jsx(libExports.Viewer,{fileUrl:"https://raw.githubusercontent.com/anujmarisetty/Portfolio/main/public/Anuj_Resume.pdf"})})})}),jsxRuntimeExports.jsx("button",{className:"absolute top-5 right-5 bg-red-500 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg",onClick:()=>a(!1),children:jsxRuntimeExports.jsx(X,{})})]})]})},Hero=()=>jsxRuntimeExports.jsxs("section",{className:"min-h-screen flex items-center px-6 pt-20 relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 -z-10",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-rose-500/20 rounded-full filter blur-3xl animate-spin-slow"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-blue-500/20 rounded-full filter blur-3xl animate-spin-slow"})]}),jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto w-full",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6 animate-slide-up",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-rose-400",children:[jsxRuntimeExports.jsx(Code2,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("p",{className:"font-mono",children:"Welcome to my portfolio"})]}),jsxRuntimeExports.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-white space-y-2",children:jsxRuntimeExports.jsx("span",{className:"block",children:"Anuj Marisetty"})}),jsxRuntimeExports.jsx("h1",{children:jsxRuntimeExports.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-rose-400 to-blue-500",children:"Full-Stack Developer | Machine Learning Engineer | 3D Visualization Enthusiast"})}),jsxRuntimeExports.jsx("p",{className:"max-w-xl text-lg text-slate-300",children:"I design innovative full-stack applications, build immersive 3D platforms, and develop intelligent machine learning solutions for real-world challenges across industries and academia."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 pt-4",children:[jsxRuntimeExports.jsxs("a",{href:"#work",className:"group px-6 py-3 bg-rose-500 hover:bg-rose-600 text-white rounded-full flex items-center gap-2 transition-all duration-300",children:["View My Work",jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 group-hover:rotate-12 transition-transform"})]}),jsxRuntimeExports.jsx("a",{href:"#contact",className:"px-6 py-3 border border-white/20 hover:border-rose-400 text-white rounded-full transition-colors duration-300",children:"Get in Touch"})]})]})})]}),About=()=>{const e=[{name:"Programming Languages",icon:jsxRuntimeExports.jsx(Code,{className:"w-5 h-5"}),tech:["Python","C/C++","Java","JavaScript","TypeScript","SQL","Go"]},{name:"Frontend Development",icon:jsxRuntimeExports.jsx(Palette,{className:"w-5 h-5"}),tech:["React","Vue","HTML/CSS","Tailwind","Three.js"]},{name:"Backend Development",icon:jsxRuntimeExports.jsx(Server,{className:"w-5 h-5"}),tech:["Node.js","PostgreSQL","MongoDB","NoSQL","Xampp"]},{name:"DevOps & Cloud",icon:jsxRuntimeExports.jsx(Cloud,{className:"w-5 h-5"}),tech:["AWS","Azure","Docker","CI/CD","GIT"]},{name:"Data Science & Machine Learning",icon:jsxRuntimeExports.jsx(Database,{className:"w-5 h-5"}),tech:["Pandas","NumPy","Matplotlib","TensorFlow","Keras","Scikit-learn","OpenCV (Computer Vision)"]},{name:"Visualization & 3D",icon:jsxRuntimeExports.jsx(Layers,{className:"w-5 h-5"}),tech:["Blender","Tableau","WebGL","Observable","X3D","Unity"]},{name:"Web Technologies",icon:jsxRuntimeExports.jsx(Globe,{className:"w-5 h-5"}),tech:["REST APIs","GraphQL","Postman","XML","RegEx"]},{name:"Design & Prototyping",icon:jsxRuntimeExports.jsx(PenLine,{className:"w-5 h-5"}),tech:["Figma","AdobeXD","UI/UX"]}];return jsxRuntimeExports.jsx("section",{id:"about",className:"py-20 px-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"section-heading",children:"About Me"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-20",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("p",{className:"text-lg",children:"Hello! I’m a software engineer who’s passionate about turning complex problems into elegant solutions. Over the years, I’ve worked on exciting projects ranging from interactive 3D visualization platforms to real-world AI and full-stack solutions."}),jsxRuntimeExports.jsxs("p",{className:"text-lg",children:["Away from the keyboard, you’ll find me behind a camera"," ",jsxRuntimeExports.jsx("span",{className:"inline-block align-middle",children:jsxRuntimeExports.jsx(Camera,{className:"w-5 h-5 text-rose-500"})}),", chasing golden hours, capturing the beauty of the world through my lens, and telling stories through pictures. Photography is my creative escape and a constant source of inspiration."]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-rose-400 to-blue-500 rounded-2xl -rotate-6 max-w-[300px] w-full mx-auto"}),jsxRuntimeExports.jsx("img",{src:"./pic.jpg",alt:"Profile",className:"relative rounded-2xl w-full h-full object-cover max-w-[300px] w-full mx-auto"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mt-16",children:e.map(i=>jsxRuntimeExports.jsxs("div",{className:"glass-card p-6 space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-500/10 flex items-center justify-center text-rose-400",children:i.icon}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white",children:i.name}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:i.tech.map(s=>jsxRuntimeExports.jsx("li",{className:"text-sm text-slate-300",children:s},s))})]},i.name))})]})})},Experience=()=>{const[e,i]=reactExports.useState(0),s=[{company:"Virginia Tech",position:"Developer",period:"Mar 2024 - Present",duties:["Developed a React-based web application powered by THREE.js and WebGL, enabling interactive visualization of complex X3D models, making research data more accessible and interactive for multidisciplinary teams.","Developed a 3D simulation platform as part of a National Science Foundation (NSF) project, simplifying how researchers and students understand wireless communication systems in both academic and industry settings.","Contributed to the 3D Roanoke Project, using high-resolution LiDAR data and CityEngine-generated 3D city models to simulate flood propagation scenarios, providing insights for disaster preparedness and urban planning.","Worked closely with researchers and faculty to design visualization tools tailored to specific research needs, empowering teams to adapt 3D and VR content for their unique challenges and goals."]},{company:"TCS",position:"Software Engineer– Systems Engineer",period:"Aug 2021 – Dec 2022",duties:["Created OCR solutions to streamline data analysis for financial and insurance firms, increasing efficiency by 20%.","Engineered Machine learning models to process data from documents using OpenCV, Pandas, and RegEx, achieving a 92% accuracy rate and also conducted rigorous testing and validation of OCR models to ensure accuracy and reliability.","Processed and analyzed large volumes of text data, applying techniques like tokenization, named entity recognition (NER), and text normalization to structure critical fields such as policy numbers, claim amounts, and many more.","Worked closely with the production department in deploying, debugging, and maintaining OCR applications, ensuring seamless operation in a live environment."]},{company:"Entrench Electronics",position:"Artificial Intelligence and Machine learning Intern",period:"Jun 2019 – Jul 2019",duties:["Designed and implemented a conversational AI chatbot using Python and the NLTK library.","Explored multiple datasets using data mining techniques to get insights and patterns for chatbot development"]}];return jsxRuntimeExports.jsx("section",{id:"experience",className:"py-20 px-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"section-heading",children:"Experience"}),jsxRuntimeExports.jsx("div",{className:"glass-card p-8",children:jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-[200px,1fr] gap-8",children:[jsxRuntimeExports.jsx("div",{className:"flex md:flex-col overflow-x-auto md:overflow-x-visible",children:s.map((o,c)=>jsxRuntimeExports.jsx("button",{className:`px-6 py-4 text-left whitespace-nowrap transition-all duration-300 ${e===c?"text-rose-400 bg-white/5 rounded-lg":"text-slate-400 hover:text-white"}`,onClick:()=>i(c),children:o.company},o.company))}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-500/10 flex items-center justify-center text-rose-400",children:jsxRuntimeExports.jsx(Briefcase,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white",children:s[e].position}),jsxRuntimeExports.jsx("p",{className:"text-rose-400",children:s[e].period})]})]}),jsxRuntimeExports.jsx("ul",{className:"space-y-4",children:s[e].duties.map((o,c)=>jsxRuntimeExports.jsxs("li",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-rose-400",children:"▹"}),jsxRuntimeExports.jsx("span",{children:o})]},c))})]})]})})]})})},Work=()=>{const e=[{title:"Pdf Assistant",description:"Utilized LangChain and OpenAI API to process and extract information from PDF documents, providing accurate answers to user queries.",tech:["Python","LangChain","OpenAI API","HuggingFace","Gradio"],github:"https://github.com",external:"https://example.com",image:"./chatPDF.png"},{title:"Codehort",description:"A full-stack web platform enabling users to create and manage coding groups with customizable challenges and progress tracking features.",tech:["HTML","CSS","React JS","Java Spring Boot","Azure SQL","Firebase"],external:"https://vtechworks.lib.vt.edu/items/4d68640d-5285-44d4-a779-34b7c64894a3",image:"./codehort.jpeg"},{title:"Cricket Data Visualization",description:"Designed an interactive visualization tool using D3.js and Tableau to display cricket statistics, enhancing the understanding of player performances and partnerships.",tech:["D3.js"],github:"https://github.com",external:"https://example.com",image:"https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1474&q=80"},{title:"Hand Tracking and Volume Control",description:"Implemented a gesture recognition algorithm to map the distance between the thumb and index finger to system volume adjustments using Python, enabling intuitive and contactless volume control.",tech:["Python","OpenCV","MediaPipe"],github:"https://github.com",image:"https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1474&q=80"},{title:"Object Detection ",description:"Built a real-time object detection system using Python and the MobileNet SSD model to identify and label objects in live video streams with high accuracy.",tech:["Python","MobileNet SSD","OpenCV"],github:"https://github.com",image:"https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1474&q=80"},{title:"Online Parking Management System",description:"An interactive parking map that allows users to view availability and book spots in real-time, enhancing user experience and functionality.",tech:["HTML","CSS","JavaScript","PHP","Xampp"],github:"https://github.com/anujmarisetty/Parking",image:"./parking.png"}];return jsxRuntimeExports.jsx("section",{id:"work",className:"py-20 px-6 relative",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"section-heading",children:"Featured Projects"}),jsxRuntimeExports.jsx("div",{className:"space-y-32",children:e.map((i,s)=>jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"glass-card p-8 relative z-10",children:jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[jsxRuntimeExports.jsxs("div",{className:`space-y-6 ${s%2===1?"md:order-2":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-rose-400",children:[jsxRuntimeExports.jsx(Star,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white",children:i.title})]}),jsxRuntimeExports.jsx("p",{className:"text-slate-300",children:i.description}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-3",children:i.tech.map(o=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm",children:o},o))}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[i.github&&jsxRuntimeExports.jsx("a",{href:i.github,target:"_blank",rel:"noopener noreferrer",className:"text-slate-300 hover:text-rose-400 transition-colors",children:jsxRuntimeExports.jsx(Github,{className:"w-6 h-6"})}),i.external&&jsxRuntimeExports.jsx("a",{href:i.external,target:"_blank",rel:"noopener noreferrer",className:"text-slate-300 hover:text-rose-400 transition-colors",children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-6 h-6"})})]})]}),jsxRuntimeExports.jsx("div",{className:`relative ${s%2===1?"md:order-1":""}`,children:jsxRuntimeExports.jsx("img",{src:i.image,alt:i.title,className:"rounded-xl shadow-lg transition-transform duration-300 hover:scale-105"})})]})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-rose-500/20 to-blue-500/20 blur-3xl -z-10"})]},i.title))})]})})},Contact=()=>jsxRuntimeExports.jsx("section",{id:"contact",className:"py-20 px-6",children:jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto text-center",children:jsxRuntimeExports.jsxs("div",{className:"glass-card p-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-rose-500/10 flex items-center justify-center text-rose-400 mb-6",children:jsxRuntimeExports.jsx(Mail,{className:"w-8 h-8"})}),jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Let's Connect"}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-slate-300 mb-8",children:["I'm currently looking for new opportunities.",jsxRuntimeExports.jsx("br",{})," Whether you have a question or just want to say hi, feel free to reach out!"]}),jsxRuntimeExports.jsxs("a",{href:"mailto:anujmarisetty2@gmail.com",className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-rose-500 to-blue-500 text-white rounded-full hover:opacity-90 transition-opacity",children:["Start a Conversation",jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})]})]})})}),Footer=()=>jsxRuntimeExports.jsx("footer",{className:"py-8 px-6 border-t border-white/10",children:jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[jsxRuntimeExports.jsx("p",{className:"text-slate-400 font-mono text-sm",children:"Designed & Built with ❤️"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6",children:[jsxRuntimeExports.jsx("a",{href:"https://github.com/anujmarisetty",target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-rose-400 transition-colors",children:jsxRuntimeExports.jsx(Github,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("a",{href:"https://www.linkedin.com/in/anuj-marisetty/",target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-rose-400 transition-colors",children:jsxRuntimeExports.jsx(Linkedin,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("a",{href:"mailto:anujmarisetty2@gmail.com",target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-rose-400 transition-colors",children:jsxRuntimeExports.jsx(Mail,{className:"w-5 h-5"})})]})]})})});function App(){return jsxRuntimeExports.jsxs("div",{className:"bg-navy min-h-screen",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsxs("main",{children:[jsxRuntimeExports.jsx(Hero,{}),jsxRuntimeExports.jsx(About,{}),jsxRuntimeExports.jsx(Experience,{}),jsxRuntimeExports.jsx(Work,{}),jsxRuntimeExports.jsx(Contact,{})]}),jsxRuntimeExports.jsx(Footer,{})]})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
